/*! For license information please see main.e0df398b.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),o=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var p=Object.assign,h=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),y=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var S=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var V=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var L=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var D=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===D?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case m:return"Fragment";case g:return"Profiler";case b:return"StrictMode";case x:return"Suspense";case k:return"SuspenseList";case S:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case f:return"Portal";case y:return(e.displayName||"Context")+".Provider";case _:return(e._context.displayName||"Context")+".Consumer";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var N=Array.isArray,T=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},z=[],R=-1;function F(e){return{current:e}}function I(e){0>R||(e.current=z[R],z[R]=null,R--)}function B(e,t){R++,z[R]=e.current,e.current=t}var U=F(null),K=F(null),q=F(null),H=F(null);function $(e,t){switch(B(q,t),B(K,e),B(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(U),B(U,e)}function G(){I(U),I(K),I(q)}function W(e){null!==e.memoizedState&&B(H,e);var t=U.current,n=od(t,e.type);t!==n&&(B(K,e),B(U,n))}function Q(e){K.current===e&&(I(U),I(K)),H.current===e&&(I(H),Wd._currentValue=j)}var Y=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,Z=r.unstable_cancelCallback,J=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,se=r.unstable_LowPriority,ae=r.unstable_IdlePriority,le=r.log,ue=r.unstable_setDisableYieldValue,ce=null,de=null;function pe(e){if("function"===typeof le&&ue(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ce,e)}catch(t){}}var he=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ve(e)/fe|0)|0},ve=Math.log,fe=Math.LN2;var me=256,be=4194304;function ge(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~o)?i=ge(r):0!==(s&=a)?i=ge(s):n||0!==(n=a&~e)&&(i=ge(n)):0!==(a=r&~o)?i=ge(a):0!==s?i=ge(s):n||0!==(n=r&~e)&&(i=ge(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function _e(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ye(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ce(){var e=me;return 0===(4194048&(me<<=1))&&(me=256),e}function xe(){var e=be;return 0===(62914560&(be<<=1))&&(be=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-he(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Se(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-he(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ve(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Me(){var e=A.p;return 0!==e?e:void 0===(e=window.event)?32:up(e.type)}var De=Math.random().toString(36).slice(2),Oe="__reactFiber$"+De,Ne="__reactProps$"+De,Te="__reactContainer$"+De,Ae="__reactEvents$"+De,je="__reactListeners$"+De,ze="__reactHandles$"+De,Re="__reactResources$"+De,Fe="__reactMarker$"+De;function Ie(e){delete e[Oe],delete e[Ne],delete e[Ae],delete e[je],delete e[ze]}function Be(e){var t=e[Oe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Te]||n[Oe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wd(e);null!==e;){if(n=e[Oe])return n;e=wd(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[Oe]||e[Te]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ke(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function qe(e){var t=e[Re];return t||(t=e[Re]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Fe]=!0}var $e=new Set,Ge={};function We(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ge[e]=t,e=0;e<t.length;e++)$e.add(t[e])}var Ye,Xe,Ze=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Je={},et={};function tt(e,t,n){if(i=t,Y.call(et,i)||!Y.call(Je,i)&&(Ze.test(i)?et[i]=!0:(Je[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Xe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Xe}var ot=!1;function st(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),u=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==u[i]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ct(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var vt=/[\n"\\]/g;function ft(e){return e.replace(vt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function mt(e,t,n,r,i,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?gt(e,s,ut(t)):null!=n?gt(e,s,ut(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ut(a):e.removeAttribute("name")}function bt(e,t,n,r,i,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function gt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function _t(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function yt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(N(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var xt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||xt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Pt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&kt(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&kt(e,o,t[o])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var St=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lt(e){return Vt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Mt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Nt=null;function Tt(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[Ne]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ne]||null;if(!i)throw Error(s(90));mt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":_t(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var At=!1;function jt(e,t,n){if(At)return e(t,n);At=!0;try{return e(t)}finally{if(At=!1,(null!==Ot||null!==Nt)&&(Bu(),Ot&&(t=Ot,e=Nt,Nt=Ot=null,Tt(t),e)))for(t=0;t<e.length;t++)Tt(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ne]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Rt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(Rt)try{var It={};Object.defineProperty(It,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch(Np){Ft=!1}var Bt=null,Ut=null,Kt=null;function qt(){if(Kt)return Kt;var e,t,n=Ut,r=n.length,i="value"in Bt?Bt.value:Bt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Gt(){return!1}function Wt(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?$t:Gt,this.isPropagationStopped=Gt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Qt,Yt,Xt,Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Wt(Zt),en=p({},Zt,{view:0,detail:0}),tn=Wt(en),nn=p({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Qt=e.screenX-Xt.screenX,Yt=e.screenY-Xt.screenY):Yt=Qt=0,Xt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Wt(nn),on=Wt(p({},nn,{dataTransfer:0})),sn=Wt(p({},en,{relatedTarget:0})),an=Wt(p({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Wt(p({},Zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=Wt(p({},Zt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function vn(){return hn}var fn=Wt(p({},en,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Wt(p({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Wt(p({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),gn=Wt(p({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Wt(p({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=Wt(p({},Zt,{newState:0,oldState:0})),yn=[9,13,27,32],Cn=Rt&&"CompositionEvent"in window,xn=null;Rt&&"documentMode"in document&&(xn=document.documentMode);var kn=Rt&&"TextEvent"in window&&!xn,Pn=Rt&&(!Cn||xn&&8<xn&&11>=xn),En=String.fromCharCode(32),Sn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==yn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Mn=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function Nn(e,t,n,r){Ot?Nt?Nt.push(r):Nt=[r]:Ot=r,0<(t=qc(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Tn=null,An=null;function jn(e){jc(e,0)}function zn(e){if(pt(Ke(e)))return e}function Rn(e,t){if("change"===e)return t}var Fn=!1;if(Rt){var In;if(Rt){var Bn="oninput"in document;if(!Bn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Bn="function"===typeof Un.oninput}In=Bn}else In=!1;Fn=In&&(!document.documentMode||9<document.documentMode)}function Kn(){Tn&&(Tn.detachEvent("onpropertychange",qn),An=Tn=null)}function qn(e){if("value"===e.propertyName&&zn(An)){var t=[];Nn(t,An,e,Dt(e)),jt(jn,t)}}function Hn(e,t,n){"focusin"===e?(Kn(),An=n,(Tn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Kn()}function $n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(An)}function Gn(e,t){if("click"===e)return zn(t)}function Wn(e,t){if("input"===e||"change"===e)return zn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Y.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Rt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,sr=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ht(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Yn(or,r)||(or=r,0<(r=qc(ir,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},cr={},dr={};function pr(e){if(cr[e])return cr[e];if(!ur[e])return e;var t,n=ur[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return cr[e]=n[t];return e}Rt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);var hr=pr("animationend"),vr=pr("animationiteration"),fr=pr("animationstart"),mr=pr("transitionrun"),br=pr("transitionstart"),gr=pr("transitioncancel"),wr=pr("transitionend"),_r=new Map,yr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){_r.set(e,t),We(t,[e])}yr.push("scrollEnd");var xr=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=xr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},xr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Pr=[],Er=0,Sr=0;function Vr(){for(var e=Er,t=Sr=Er=0;t<e;){var n=Pr[t];Pr[t++]=null;var r=Pr[t];Pr[t++]=null;var i=Pr[t];Pr[t++]=null;var o=Pr[t];if(Pr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&Or(n,i,o)}}function Lr(e,t,n,r){Pr[Er++]=e,Pr[Er++]=t,Pr[Er++]=n,Pr[Er++]=r,Sr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Mr(e,t,n,r){return Lr(e,t,n,r),Nr(e)}function Dr(e,t){return Lr(e,null,null,t),Nr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-he(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Nr(e){if(50<Ou)throw Ou=0,Nu=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Tr={};function Ar(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,n,r){return new Ar(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rr(e,t){var n=e.alternate;return null===n?((n=jr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ir(e,t,n,r,i,o){var a=0;if(r=e,"function"===typeof e)zr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case S:return(e=jr(31,n,t,i)).elementType=S,e.lanes=o,e;case m:return Br(n.children,i,o,t);case b:a=8,i|=24;break;case g:return(e=jr(12,n,t,2|i)).elementType=g,e.lanes=o,e;case x:return(e=jr(13,n,t,i)).elementType=x,e.lanes=o,e;case k:return(e=jr(19,n,t,i)).elementType=k,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:case y:a=10;break e;case _:a=9;break e;case C:a=11;break e;case P:a=14;break e;case E:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=jr(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Br(e,t,n,r){return(e=jr(7,e,r,t)).lanes=n,e}function Ur(e,t,n){return(e=jr(6,e,null,t)).lanes=n,e}function Kr(e,t,n){return(t=jr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Hr=0,$r=null,Gr=0,Wr=[],Qr=0,Yr=null,Xr=1,Zr="";function Jr(e,t){qr[Hr++]=Gr,qr[Hr++]=$r,$r=e,Gr=t}function ei(e,t,n){Wr[Qr++]=Xr,Wr[Qr++]=Zr,Wr[Qr++]=Yr,Yr=e;var r=Xr;e=Zr;var i=32-he(r)-1;r&=~(1<<i),n+=1;var o=32-he(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xr=1<<32-he(t)+i|n<<i|r,Zr=o+e}else Xr=1<<o|n<<i|r,Zr=e}function ti(e){null!==e.return&&(Jr(e,1),ei(e,1,0))}function ni(e){for(;e===$r;)$r=qr[--Hr],qr[Hr]=null,Gr=qr[--Hr],qr[Hr]=null;for(;e===Yr;)Yr=Wr[--Qr],Wr[Qr]=null,Zr=Wr[--Qr],Wr[Qr]=null,Xr=Wr[--Qr],Wr[Qr]=null}var ri=null,ii=null,oi=!1,si=null,ai=!1,li=Error(s(519));function ui(e){throw fi(kr(Error(s(418,"")),e)),li}function ci(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Oe]=e,t[Ne]=r,n){case"dialog":zc("cancel",t),zc("close",t);break;case"iframe":case"object":case"embed":zc("load",t);break;case"video":case"audio":for(n=0;n<Tc.length;n++)zc(Tc[n],t);break;case"source":zc("error",t);break;case"img":case"image":case"link":zc("error",t),zc("load",t);break;case"details":zc("toggle",t);break;case"input":zc("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":zc("invalid",t);break;case"textarea":zc("invalid",t),yt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yc(t.textContent,n)?(null!=r.popover&&(zc("beforetoggle",t),zc("toggle",t)),null!=r.onScroll&&zc("scroll",t),null!=r.onScrollEnd&&zc("scrollend",t),null!=r.onClick&&(t.onclick=Xc),t=!0):t=!1,t||ui(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(ai=!1);case 27:case 3:return void(ai=!0);default:ri=ri.return}}function pi(e){if(e!==ri)return!1;if(!oi)return di(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&ii&&ui(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=bd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,hd(e.type)?(e=gd,gd=null,ii=e):ii=n):ii=ri?bd(e.stateNode.nextSibling):null;return!0}function hi(){ii=ri=null,oi=!1}function vi(){var e=si;return null!==e&&(null===wu?wu=e:wu.push.apply(wu,e),si=null),e}function fi(e){null===si?si=[e]:si.push(e)}var mi=F(null),bi=null,gi=null;function wi(e,t,n){B(mi,t._currentValue),t._currentValue=n}function _i(e){e._currentValue=mi.current,I(mi)}function yi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var u=0;u<t.length;u++)if(l.context===t[u]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),yi(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),yi(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function xi(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===H.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Wd):e=[Wd])}i=i.return}null!==e&&Ci(t,e,n,r),t.flags|=262144}function ki(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pi(e){bi=e,gi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ei(e){return Vi(bi,e)}function Si(e,t){return null===bi&&Pi(e),Vi(e,t)}function Vi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===gi){if(null===e)throw Error(s(308));gi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else gi=gi.next=t;return n}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Mi=r.unstable_scheduleCallback,Di=r.unstable_NormalPriority,Oi={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ni(){return{controller:new Li,data:new Map,refCount:0}}function Ti(e){e.refCount--,0===e.refCount&&Mi(Di,(function(){e.controller.abort()}))}var Ai=null,ji=0,zi=0,Ri=null;function Fi(){if(0===--ji&&null!==Ai){null!==Ri&&(Ri.status="fulfilled");var e=Ai;Ai=null,zi=0,Ri=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ii=T.S;T.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ai){var n=Ai=[];ji=0,zi=Lc(),Ri={status:"pending",value:void 0,then:function(e){n.push(e)}}}ji++,t.then(Fi,Fi)}(0,t),null!==Ii&&Ii(e,t)};var Bi=F(null);function Ui(){var e=Bi.current;return null!==e?e:ru.pooledCache}function Ki(e,t){B(Bi,null===t?Bi.current:t.pool)}function qi(){var e=Ui();return null===e?null:{parent:Oi._currentValue,pool:e}}var Hi=Error(s(460)),$i=Error(s(474)),Gi=Error(s(542)),Wi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yi(){}function Xi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yi,Yi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yi,Yi);else{if(null!==(e=ru)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Zi=t,Hi}}var Zi=null;function Ji(){if(null===Zi)throw Error(s(459));var e=Zi;return Zi=null,e}function eo(e){if(e===Hi||e===Gi)throw Error(s(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Nr(e),Or(e,null,n),t}return Lr(e,r,t,n),Nr(e)}function so(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Se(e,n)}}function ao(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function uo(){if(lo){if(null!==Ri)throw Ri}}function co(e,t,n,r){lo=!1;var i=e.updateQueue;to=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,c=u=l=null,a=o;;){var h=-536870913&a.lane,v=h!==a.lane;if(v?(ou&h)===h:(r&h)===h){0!==h&&h===zi&&(lo=!0),null!==c&&(c=c.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var f=e,m=a;h=t;var b=n;switch(m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(b,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(b,d,h):f)||void 0===h)break e;d=p({},d,h);break e;case 2:to=!0}}null!==(h=a.callback)&&(e.flags|=64,v&&(e.flags|=8192),null===(v=i.callbacks)?i.callbacks=[h]:v.push(h))}else v={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=v,l=d):c=c.next=v,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(v=a).next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null===o&&(i.shared.lanes=0),hu|=s,e.lanes=s,e.memoizedState=d}}function po(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function ho(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)po(n[e],t)}var vo=F(null),fo=F(0);function mo(e,t){B(fo,e=du),B(vo,t),du=e|t.baseLanes}function bo(){B(fo,du),B(vo,vo.current)}function go(){du=fo.current,I(vo),I(fo)}var wo=0,_o=null,yo=null,Co=null,xo=!1,ko=!1,Po=!1,Eo=0,So=0,Vo=null,Lo=0;function Mo(){throw Error(s(321))}function Do(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Oo(e,t,n,r,i,o){return wo=o,_o=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=null===e||null===e.memoizedState?$s:Gs,Po=!1,o=n(r,i),Po=!1,ko&&(o=To(t,n,r,i)),No(e),o}function No(e){T.H=Hs;var t=null!==yo&&null!==yo.next;if(wo=0,Co=yo=_o=null,xo=!1,So=0,Vo=null,t)throw Error(s(300));null===e||Sa||null!==(e=e.dependencies)&&ki(e)&&(Sa=!0)}function To(e,t,n,r){_o=e;var i=0;do{if(ko&&(Vo=null),So=0,ko=!1,25<=i)throw Error(s(301));if(i+=1,Co=yo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}T.H=Ws,o=t(n,r)}while(ko);return o}function Ao(){var e=T.H,t=e.useState()[0];return t="function"===typeof t.then?Bo(t):t,e=e.useState()[0],(null!==yo?yo.memoizedState:null)!==e&&(_o.flags|=1024),t}function jo(){var e=0!==Eo;return Eo=0,e}function zo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ro(e){if(xo){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}xo=!1}wo=0,Co=yo=_o=null,ko=!1,So=Eo=0,Vo=null}function Fo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Co?_o.memoizedState=Co=e:Co=Co.next=e,Co}function Io(){if(null===yo){var e=_o.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===Co?_o.memoizedState:Co.next;if(null!==t)Co=t,yo=e;else{if(null===e){if(null===_o.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===Co?_o.memoizedState=Co=e:Co=Co.next=e}return Co}function Bo(e){var t=So;return So+=1,null===Vo&&(Vo=[]),e=Xi(Vo,e,t),t=_o,null===(null===Co?t.memoizedState:Co.next)&&(t=t.alternate,T.H=null===t||null===t.memoizedState?$s:Gs),e}function Uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Bo(e);if(e.$$typeof===y)return Ei(e)}throw Error(s(438,String(e)))}function Ko(e){var t=null,n=_o.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=_o.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},_o.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=V;return t.index++,n}function qo(e,t){return"function"===typeof t?t(e):t}function Ho(e){return $o(Io(),yo,e)}function $o(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,u=null,c=t=i.next,d=!1;do{var p=-536870913&c.lane;if(p!==c.lane?(ou&p)===p:(wo&p)===p){var h=c.revertLane;if(0===h)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===zi&&(d=!0);else{if((wo&h)===h){c=c.next,h===zi&&(d=!0);continue}p={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=p,a=o):u=u.next=p,_o.lanes|=h,hu|=h}p=c.action,Po&&n(o,p),o=c.hasEagerState?c.eagerState:n(o,p)}else h={lane:p,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,a=o):u=u.next=h,_o.lanes|=p,hu|=p;c=c.next}while(null!==c&&c!==t);if(null===u?a=o:u.next=l,!Qn(o,e.memoizedState)&&(Sa=!0,d&&null!==(n=Ri)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=u,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Go(e){var t=Io(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Qn(o,t.memoizedState)||(Sa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Wo(e,t,n){var r=_o,i=Io(),o=oi;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Qn((yo||i).memoizedState,n);if(a&&(i.memoizedState=n,Sa=!0),i=i.queue,bs(2048,8,Xo.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==Co&&1&Co.memoizedState.tag){if(r.flags|=2048,vs(9,{destroy:void 0,resource:void 0},Yo.bind(null,r,i,n,t),null),null===ru)throw Error(s(349));o||0!==(124&wo)||Qo(r,t,n)}return n}function Qo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=_o.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},_o.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yo(e,t,n,r){t.value=n,t.getSnapshot=r,Zo(t)&&Jo(e)}function Xo(e,t,n){return n((function(){Zo(t)&&Jo(e)}))}function Zo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Jo(e){var t=Dr(e,2);null!==t&&ju(t,e,2)}function es(e){var t=Fo();if("function"===typeof e){var n=e;if(e=n(),Po){pe(!0);try{n()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:e},t}function ts(e,t,n,r){return e.baseState=n,$o(e,yo,"function"===typeof r?r:qo)}function ns(e,t,n,r,i){if(Us(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==T.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,rs(t,o)):(o.next=n.next,t.pending=n.next=o)}}function rs(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=T.T,s={};T.T=s;try{var a=n(i,r),l=T.S;null!==l&&l(s,a),is(e,t,a)}catch(u){ss(e,t,u)}finally{T.T=o}}else try{is(e,t,o=n(i,r))}catch(c){ss(e,t,c)}}function is(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){os(e,t,n)}),(function(n){return ss(e,t,n)})):os(e,t,n)}function os(e,t,n){t.status="fulfilled",t.value=n,as(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,rs(e,n)))}function ss(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,as(t),t=t.next}while(t!==r)}e.action=null}function as(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function us(e,t){if(oi){var n=ru.formState;if(null!==n){e:{var r=_o;if(oi){if(ii){t:{for(var i=ii,o=ai;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=bd(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ii=bd(i.nextSibling),r="F!"===i.data;break e}}ui(r)}r=!1}r&&(t=n[0])}}return(n=Fo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=r,n=Fs.bind(null,_o,r),r.dispatch=n,r=es(!1),o=Bs.bind(null,_o,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Fo()).queue=i,n=ns.bind(null,_o,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function cs(e){return ds(Io(),yo,e)}function ds(e,t,n){if(t=$o(e,t,ls)[0],e=Ho(qo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Bo(t)}catch(s){if(s===Hi)throw Gi;throw s}else r=t;var i=(t=Io()).queue,o=i.dispatch;return n!==t.memoizedState&&(_o.flags|=2048,vs(9,{destroy:void 0,resource:void 0},ps.bind(null,i,n),null)),[r,o,e]}function ps(e,t){e.action=t}function hs(e){var t=Io(),n=yo;if(null!==n)return ds(t,n,e);Io(),t=t.memoizedState;var r=(n=Io()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function vs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=_o.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},_o.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function fs(){return Io().memoizedState}function ms(e,t,n,r){var i=Fo();r=void 0===r?null:r,_o.flags|=e,i.memoizedState=vs(1|t,{destroy:void 0,resource:void 0},n,r)}function bs(e,t,n,r){var i=Io();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==yo&&null!==r&&Do(r,yo.memoizedState.deps)?i.memoizedState=vs(t,o,n,r):(_o.flags|=e,i.memoizedState=vs(1|t,o,n,r))}function gs(e,t){ms(8390656,8,e,t)}function ws(e,t){bs(2048,8,e,t)}function _s(e,t){return bs(4,2,e,t)}function ys(e,t){return bs(4,4,e,t)}function Cs(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function xs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,bs(4,4,Cs.bind(null,t,e),n)}function ks(){}function Ps(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Do(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Es(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Do(t,r[1]))return r[0];if(r=e(),Po){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r}function Ss(e,t,n){return void 0===n||0!==(1073741824&wo)?e.memoizedState=t:(e.memoizedState=n,e=Au(),_o.lanes|=e,hu|=e,n)}function Vs(e,t,n,r){return Qn(n,t)?n:null!==vo.current?(e=Ss(e,n,r),Qn(e,t)||(Sa=!0),e):0===(42&wo)?(Sa=!0,e.memoizedState=n):(e=Au(),_o.lanes|=e,hu|=e,t)}function Ls(e,t,n,r,i){var o=A.p;A.p=0!==o&&8>o?o:8;var s=T.T,a={};T.T=a,Bs(e,!1,t,n);try{var l=i(),u=T.S;if(null!==u&&u(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Is(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Tu());else Is(e,t,r,Tu())}catch(c){Is(e,t,{then:function(){},status:"rejected",reason:c},Tu())}finally{A.p=o,T.T=s}}function Ms(){}function Ds(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=Os(e).queue;Ls(e,i,t,j,null===n?Ms:function(){return Ns(e),n(r)})}function Os(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:j},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ns(e){Is(e,Os(e).next.queue,{},Tu())}function Ts(){return Ei(Wd)}function As(){return Io().memoizedState}function js(){return Io().memoizedState}function zs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Tu(),r=oo(t,e=io(n),n);return null!==r&&(ju(r,t,n),so(r,t,n)),t={cache:Ni()},void(e.payload=t)}t=t.return}}function Rs(e,t,n){var r=Tu();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Us(e)?Ks(t,n):null!==(n=Mr(e,t,n,r))&&(ju(n,e,r),qs(n,t,r))}function Fs(e,t,n){Is(e,t,n,Tu())}function Is(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Us(e))Ks(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Qn(a,s))return Lr(e,t,i,0),null===ru&&Vr(),!1}catch(l){}if(null!==(n=Mr(e,t,i,r)))return ju(n,e,r),qs(n,t,r),!0}return!1}function Bs(e,t,n,r){if(r={lane:2,revertLane:Lc(),action:r,hasEagerState:!1,eagerState:null,next:null},Us(e)){if(t)throw Error(s(479))}else null!==(t=Mr(e,n,r,2))&&ju(t,e,2)}function Us(e){var t=e.alternate;return e===_o||null!==t&&t===_o}function Ks(e,t){ko=xo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Se(e,n)}}var Hs={readContext:Ei,use:Uo,useCallback:Mo,useContext:Mo,useEffect:Mo,useImperativeHandle:Mo,useLayoutEffect:Mo,useInsertionEffect:Mo,useMemo:Mo,useReducer:Mo,useRef:Mo,useState:Mo,useDebugValue:Mo,useDeferredValue:Mo,useTransition:Mo,useSyncExternalStore:Mo,useId:Mo,useHostTransitionStatus:Mo,useFormState:Mo,useActionState:Mo,useOptimistic:Mo,useMemoCache:Mo,useCacheRefresh:Mo},$s={readContext:Ei,use:Uo,useCallback:function(e,t){return Fo().memoizedState=[e,void 0===t?null:t],e},useContext:Ei,useEffect:gs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ms(4194308,4,Cs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){ms(4,2,e,t)},useMemo:function(e,t){var n=Fo();t=void 0===t?null:t;var r=e();if(Po){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fo();if(void 0!==n){var i=n(t);if(Po){pe(!0);try{n(t)}finally{pe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Rs.bind(null,_o,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fo().memoizedState=e},useState:function(e){var t=(e=es(e)).queue,n=Fs.bind(null,_o,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ks,useDeferredValue:function(e,t){return Ss(Fo(),e,t)},useTransition:function(){var e=es(!1);return e=Ls.bind(null,_o,e.queue,!0,!1),Fo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=_o,i=Fo();if(oi){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===ru)throw Error(s(349));0!==(124&ou)||Qo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,gs(Xo.bind(null,r,o,e),[e]),r.flags|=2048,vs(9,{destroy:void 0,resource:void 0},Yo.bind(null,r,o,n,t),null),n},useId:function(){var e=Fo(),t=ru.identifierPrefix;if(oi){var n=Zr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-he(Xr)-1)).toString(32)+n),0<(n=Eo++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Lo++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ts,useFormState:us,useActionState:us,useOptimistic:function(e){var t=Fo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bs.bind(null,_o,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ko,useCacheRefresh:function(){return Fo().memoizedState=zs.bind(null,_o)}},Gs={readContext:Ei,use:Uo,useCallback:Ps,useContext:Ei,useEffect:ws,useImperativeHandle:xs,useInsertionEffect:_s,useLayoutEffect:ys,useMemo:Es,useReducer:Ho,useRef:fs,useState:function(){return Ho(qo)},useDebugValue:ks,useDeferredValue:function(e,t){return Vs(Io(),yo.memoizedState,e,t)},useTransition:function(){var e=Ho(qo)[0],t=Io().memoizedState;return["boolean"===typeof e?e:Bo(e),t]},useSyncExternalStore:Wo,useId:As,useHostTransitionStatus:Ts,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return ts(Io(),0,e,t)},useMemoCache:Ko,useCacheRefresh:js},Ws={readContext:Ei,use:Uo,useCallback:Ps,useContext:Ei,useEffect:ws,useImperativeHandle:xs,useInsertionEffect:_s,useLayoutEffect:ys,useMemo:Es,useReducer:Go,useRef:fs,useState:function(){return Go(qo)},useDebugValue:ks,useDeferredValue:function(e,t){var n=Io();return null===yo?Ss(n,e,t):Vs(n,yo.memoizedState,e,t)},useTransition:function(){var e=Go(qo)[0],t=Io().memoizedState;return["boolean"===typeof e?e:Bo(e),t]},useSyncExternalStore:Wo,useId:As,useHostTransitionStatus:Ts,useFormState:hs,useActionState:hs,useOptimistic:function(e,t){var n=Io();return null!==yo?ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ko,useCacheRefresh:js},Qs=null,Ys=0;function Xs(e){var t=Ys;return Ys+=1,null===Qs&&(Qs=[]),Xi(Qs,e,t)}function Zs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Js(e,t){if(t.$$typeof===h)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Rr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ur(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===m?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===E&&ea(o)===t.type)?(Zs(t=i(t,n.props),n),t.return=e,t):(Zs(t=Ir(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Br(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ur(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case v:return Zs(n=Ir(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Kr(t,e.mode,n)).return=e,t;case E:return p(e,t=(0,t._init)(t._payload),n)}if(N(t)||M(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,Xs(t),n);if(t.$$typeof===y)return p(e,Si(e,t),n);Js(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case v:return n.key===i?u(e,t,n,r):null;case f:return n.key===i?c(e,t,n,r):null;case E:return h(e,t,n=(i=n._init)(n._payload),r)}if(N(n)||M(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return h(e,t,Xs(n),r);if(n.$$typeof===y)return h(e,t,Si(e,n),r);Js(e,n)}return null}function b(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case v:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return b(e,t,n,r=(0,r._init)(r._payload),i)}if(N(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return b(e,t,n,Xs(r),i);if(r.$$typeof===y)return b(e,t,n,Si(t,r),i);Js(t,r)}return null}function g(l,u,c,d){if("object"===typeof c&&null!==c&&c.type===m&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case v:e:{for(var w=c.key;null!==u;){if(u.key===w){if((w=c.type)===m){if(7===u.tag){n(l,u.sibling),(d=i(u,c.props.children)).return=l,l=d;break e}}else if(u.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===E&&ea(w)===u.type){n(l,u.sibling),Zs(d=i(u,c.props),c),d.return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===m?((d=Br(c.props.children,l.mode,d,c.key)).return=l,l=d):(Zs(d=Ir(c.type,c.key,c.props,null,l.mode,d),c),d.return=l,l=d)}return a(l);case f:e:{for(w=c.key;null!==u;){if(u.key===w){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(d=i(u,c.children||[])).return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}(d=Kr(c,l.mode,d)).return=l,l=d}return a(l);case E:return g(l,u,c=(w=c._init)(c._payload),d)}if(N(c))return function(i,s,a,l){for(var u=null,c=null,d=s,v=s=0,f=null;null!==d&&v<a.length;v++){d.index>v?(f=d,d=null):f=d.sibling;var m=h(i,d,a[v],l);if(null===m){null===d&&(d=f);break}e&&d&&null===m.alternate&&t(i,d),s=o(m,s,v),null===c?u=m:c.sibling=m,c=m,d=f}if(v===a.length)return n(i,d),oi&&Jr(i,v),u;if(null===d){for(;v<a.length;v++)null!==(d=p(i,a[v],l))&&(s=o(d,s,v),null===c?u=d:c.sibling=d,c=d);return oi&&Jr(i,v),u}for(d=r(d);v<a.length;v++)null!==(f=b(d,i,v,a[v],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?v:f.key),s=o(f,s,v),null===c?u=f:c.sibling=f,c=f);return e&&d.forEach((function(e){return t(i,e)})),oi&&Jr(i,v),u}(l,u,c,d);if(M(c)){if("function"!==typeof(w=M(c)))throw Error(s(150));return function(i,a,l,u){if(null==l)throw Error(s(151));for(var c=null,d=null,v=a,f=a=0,m=null,g=l.next();null!==v&&!g.done;f++,g=l.next()){v.index>f?(m=v,v=null):m=v.sibling;var w=h(i,v,g.value,u);if(null===w){null===v&&(v=m);break}e&&v&&null===w.alternate&&t(i,v),a=o(w,a,f),null===d?c=w:d.sibling=w,d=w,v=m}if(g.done)return n(i,v),oi&&Jr(i,f),c;if(null===v){for(;!g.done;f++,g=l.next())null!==(g=p(i,g.value,u))&&(a=o(g,a,f),null===d?c=g:d.sibling=g,d=g);return oi&&Jr(i,f),c}for(v=r(v);!g.done;f++,g=l.next())null!==(g=b(v,i,f,g.value,u))&&(e&&null!==g.alternate&&v.delete(null===g.key?f:g.key),a=o(g,a,f),null===d?c=g:d.sibling=g,d=g);return e&&v.forEach((function(e){return t(i,e)})),oi&&Jr(i,f),c}(l,u,c=w.call(c),d)}if("function"===typeof c.then)return g(l,u,Xs(c),d);if(c.$$typeof===y)return g(l,u,Si(l,c),d);Js(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(d=i(u,c)).return=l,l=d):(n(l,u),(d=Ur(c,l.mode,d)).return=l,l=d),a(l)):n(l,u)}return function(e,t,n,r){try{Ys=0;var i=g(e,t,n,r);return Qs=null,i}catch(s){if(s===Hi||s===Gi)throw s;var o=jr(29,s,null,e.mode);return o.lanes=r,o.return=e,o}}}var na=ta(!0),ra=ta(!1),ia=F(null),oa=null;function sa(e){var t=e.alternate;B(ca,1&ca.current),B(ia,e),null===oa&&(null===t||null!==vo.current||null!==t.memoizedState)&&(oa=e)}function aa(e){if(22===e.tag){if(B(ca,ca.current),B(ia,e),null===oa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(oa=e)}}else la()}function la(){B(ca,ca.current),B(ia,ia.current)}function ua(e){I(ia),oa===e&&(oa=null),I(ca)}var ca=F(0);function da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||md(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function pa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Tu(),i=io(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(ju(t,e,r),so(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Tu(),i=io(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(ju(t,e,r),so(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tu(),r=io(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oo(e,r,n))&&(ju(t,e,n),so(t,e,n))}};function va(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,o))}function fa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ma(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=p({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var ba="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ga(e){ba(e)}function wa(e){console.error(e)}function _a(e){ba(e)}function ya(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Ca(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function xa(e,t,n){return(n=io(n)).tag=3,n.payload={element:null},n.callback=function(){ya(e,t)},n}function ka(e){return(e=io(e)).tag=3,e}function Pa(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Ca(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Ca(t,n,r),"function"!==typeof i&&(null===ku?ku=new Set([this]):ku.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ea=Error(s(461)),Sa=!1;function Va(e,t,n,r){t.child=null===e?ra(t,null,n,r):na(t,e.child,n,r)}function La(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Pi(t),r=Oo(e,t,n,s,o,i),a=jo(),null===e||Sa?(oi&&a&&ti(t),t.flags|=1,Va(e,t,r,i),t.child):(zo(e,t,i),Qa(e,t,i))}function Ma(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||zr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Ir(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Da(e,t,o,r,i))}if(o=e.child,!Ya(e,i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(s,r)&&e.ref===t.ref)return Qa(e,t,i)}return t.flags|=1,(e=Rr(o,r)).ref=t.ref,e.return=t,t.child=e}function Da(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Yn(o,r)&&e.ref===t.ref){if(Sa=!1,t.pendingProps=r=o,!Ya(e,i))return t.lanes=e.lanes,Qa(e,t,i);0!==(131072&e.flags)&&(Sa=!0)}}return Aa(e,t,n,r,i)}function Oa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Na(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Na(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ki(0,null!==o?o.cachePool:null),null!==o?mo(t,o):bo(),aa(t)}else null!==o?(Ki(0,o.cachePool),mo(t,o),la(),t.memoizedState=null):(null!==e&&Ki(0,null),bo(),la());return Va(e,t,i,n),t.child}function Na(e,t,n,r){var i=Ui();return i=null===i?null:{parent:Oi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Ki(0,null),bo(),aa(t),null!==e&&xi(e,t,r,!0),null}function Ta(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Aa(e,t,n,r,i){return Pi(t),n=Oo(e,t,n,r,void 0,i),r=jo(),null===e||Sa?(oi&&r&&ti(t),t.flags|=1,Va(e,t,n,i),t.child):(zo(e,t,i),Qa(e,t,i))}function ja(e,t,n,r,i,o){return Pi(t),t.updateQueue=null,n=To(t,r,n,i),No(e),r=jo(),null===e||Sa?(oi&&r&&ti(t),t.flags|=1,Va(e,t,n,o),t.child):(zo(e,t,o),Qa(e,t,o))}function za(e,t,n,r,i){if(Pi(t),null===t.stateNode){var o=Tr,s=n.contextType;"object"===typeof s&&null!==s&&(o=Ei(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=ha,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},no(t),s=n.contextType,o.context="object"===typeof s&&null!==s?Ei(s):Tr,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(pa(t,n,s,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&ha.enqueueReplaceState(o,o.state,null),co(t,r,o,i),uo(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=ma(n,a);o.props=l;var u=o.context,c=n.contextType;s=Tr,"object"===typeof c&&null!==c&&(s=Ei(c));var d=n.getDerivedStateFromProps;c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,c||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||u!==s)&&fa(t,o,r,s),to=!1;var p=t.memoizedState;o.state=p,co(t,r,o,i),uo(),u=t.memoizedState,a||p!==u||to?("function"===typeof d&&(pa(t,n,d,r),u=t.memoizedState),(l=to||va(t,n,l,r,p,u,s))?(c||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=s,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ro(e,t),c=ma(n,s=t.memoizedProps),o.props=c,d=t.pendingProps,p=o.context,u=n.contextType,l=Tr,"object"===typeof u&&null!==u&&(l=Ei(u)),(u="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||p!==l)&&fa(t,o,r,l),to=!1,p=t.memoizedState,o.state=p,co(t,r,o,i),uo();var h=t.memoizedState;s!==d||p!==h||to||null!==e&&null!==e.dependencies&&ki(e.dependencies)?("function"===typeof a&&(pa(t,n,a,r),h=t.memoizedState),(c=to||va(t,n,c,r,p,h,l)||null!==e&&null!==e.dependencies&&ki(e.dependencies))?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Ta(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=na(t,e.child,null,i),t.child=na(t,null,n,i)):Va(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Qa(e,t,i),e}function Ra(e,t,n,r){return hi(),t.flags|=256,Va(e,t,n,r),t.child}var Fa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ia(e){return{baseLanes:e,cachePool:qi()}}function Ba(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=mu),e}function Ua(e,t,n){var r,i=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ca.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(oi){if(o?sa(t):la(),oi){var l,u=ii;if(l=u){e:{for(l=u,u=ai;8!==l.nodeType;){if(!u){u=null;break e}if(null===(l=bd(l.nextSibling))){u=null;break e}}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==Yr?{id:Xr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},(l=jr(18,null,null,0)).stateNode=u,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ui(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return md(u)?t.lanes=32:t.lanes=536870912,null;ua(t)}return u=i.children,i=i.fallback,o?(la(),u=qa({mode:"hidden",children:u},o=t.mode),i=Br(i,o,n,null),u.return=t,i.return=t,u.sibling=i,t.child=u,(o=t.child).memoizedState=Ia(n),o.childLanes=Ba(e,r,n),t.memoizedState=Fa,i):(sa(t),Ka(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(a)256&t.flags?(sa(t),t.flags&=-257,t=Ha(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),o=i.fallback,u=t.mode,i=qa({mode:"visible",children:i.children},u),(o=Br(o,u,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,na(t,e.child,null,n),(i=t.child).memoizedState=Ia(n),i.childLanes=Ba(e,r,n),t.memoizedState=Fa,t=o);else if(sa(t),md(u)){if(r=u.nextSibling&&u.nextSibling.dataset)var c=r.dgst;r=c,(i=Error(s(419))).stack="",i.digest=r,fi({value:i,source:null,stack:null}),t=Ha(e,t,n)}else if(Sa||xi(e,t,n,!1),r=0!==(n&e.childLanes),Sa||r){if(null!==(r=ru)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ve(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Dr(e,i),ju(r,e,i),Ea;"$?"===u.data||Gu(),t=Ha(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=bd(u.nextSibling),ri=t,oi=!0,si=null,ai=!1,null!==e&&(Wr[Qr++]=Xr,Wr[Qr++]=Zr,Wr[Qr++]=Yr,Xr=e.id,Zr=e.overflow,Yr=t),(t=Ka(t,i.children)).flags|=4096);return t}return o?(la(),o=i.fallback,u=t.mode,c=(l=e.child).sibling,(i=Rr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?o=Rr(c,o):(o=Br(o,u,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(u=e.child.memoizedState)?u=Ia(n):(null!==(l=u.cachePool)?(c=Oi._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=qi(),u={baseLanes:u.baseLanes|n,cachePool:l}),o.memoizedState=u,o.childLanes=Ba(e,r,n),t.memoizedState=Fa,i):(sa(t),e=(n=e.child).sibling,(n=Rr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ka(e,t){return(t=qa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qa(e,t){return(e=jr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ha(e,t,n){return na(t,e.child,null,n),(e=Ka(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $a(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),yi(e.return,t,n)}function Ga(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Wa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Va(e,t,r.children,n),0!==(2&(r=ca.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n,t);else if(19===e.tag)$a(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(ca,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===da(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ga(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===da(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ga(t,!0,n,null,o);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(xi(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ki(e))}function Xa(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Sa=!0;else{if(!Ya(e,n)&&0===(128&t.flags))return Sa=!1,function(e,t,n){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),wi(0,Oi,e.memoizedState.cache),hi();break;case 27:case 5:W(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:wi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(sa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ua(e,t,n):(sa(t),null!==(e=Qa(e,t,n))?e.sibling:null);sa(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(xi(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Wa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(ca,ca.current),r)break;return null;case 22:case 23:return t.lanes=0,Oa(e,t,n);case 24:wi(0,Oi,e.memoizedState.cache)}return Qa(e,t,n)}(e,t,n);Sa=0!==(131072&e.flags)}else Sa=!1,oi&&0!==(1048576&t.flags)&&ei(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===C){t.tag=11,t=La(null,t,r,e,n);break e}if(i===P){t.tag=14,t=Ma(null,t,r,e,n);break e}}throw t=O(r)||r,Error(s(306,t,""))}zr(r)?(e=ma(r,e),t.tag=1,t=za(null,t,r,e,n)):(t.tag=0,t=Aa(null,t,r,e,n))}return t;case 0:return Aa(e,t,t.type,t.pendingProps,n);case 1:return za(e,t,r=t.type,i=ma(r,t.pendingProps),n);case 3:e:{if($(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,ro(e,t),co(t,r,null,n);var a=t.memoizedState;if(r=a.cache,wi(0,Oi,r),r!==o.cache&&Ci(t,[Oi],n,!0),uo(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ra(e,t,r,n);break e}if(r!==i){fi(i=kr(Error(s(424)),t)),t=Ra(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=bd(e.firstChild),ri=t,oi=!0,si=null,ai=!0,n=ra(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===i){t=Qa(e,t,n);break e}Va(e,t,r,n)}t=t.child}return t;case 26:return Ta(e,t),null===e?(n=Vd(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(r=rd(q.current).createElement(n))[Oe]=t,r[Ne]=e,ed(r,n,e),He(r),t.stateNode=r):t.memoizedState=Vd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return W(t),null===e&&oi&&(r=t.stateNode=_d(t.type,t.pendingProps,q.current),ri=t,ai=!0,i=ii,hd(t.type)?(gd=i,ii=bd(r.firstChild)):ii=i),Va(e,t,t.pendingProps.children,n),Ta(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=bd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ai))?(t.stateNode=r,ri=t,ii=bd(r.firstChild),ai=!1,i=!0):i=!1),i||ui(t)),W(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,sd(i,o)?r=null:null!==a&&sd(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=Oo(e,t,Ao,null,null,n),Wd._currentValue=i),Ta(e,t),Va(e,t,r,n),t.child;case 6:return null===e&&oi&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=bd(e.nextSibling)))return null}return e}(n,t.pendingProps,ai))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ui(t)),null;case 13:return Ua(e,t,n);case 4:return $(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=na(t,null,r,n):Va(e,t,r,n),t.child;case 11:return La(e,t,t.type,t.pendingProps,n);case 7:return Va(e,t,t.pendingProps,n),t.child;case 8:case 12:return Va(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,wi(0,t.type,r.value),Va(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Pi(t),r=r(i=Ei(i)),t.flags|=1,Va(e,t,r,n),t.child;case 14:return Ma(e,t,t.type,t.pendingProps,n);case 15:return Da(e,t,t.type,t.pendingProps,n);case 19:return Wa(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=qa(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Rr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Oa(e,t,n);case 24:return Pi(t),r=Ei(Oi),null===e?(null===(i=Ui())&&(i=ru,o=Ni(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},no(t),wi(0,Oi,i)):(0!==(e.lanes&n)&&(ro(e,t),co(t,null,null,n),uo()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),wi(0,Oi,r)):(r=o.cache,wi(0,Oi,r),r!==i.cache&&Ci(t,[Oi],n,!0))),Va(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Za(e){e.flags|=4}function Ja(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=ia.current)&&((4194048&ou)===ou?null!==oa:(62914560&ou)!==ou&&0===(536870912&ou)||t!==oa))throw Zi=Wi,$i;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?xe():536870912,e.lanes|=t,bu|=t)}function tl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),_i(Oi),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(pi(t)?Za(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,vi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Za(t),null!==n?(nl(t),Ja(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Za(t),nl(t),Ja(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Za(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Za(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=U.current,pi(t)?ci(t):(e=_d(i,r,n),t.stateNode=e,Za(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Za(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=U.current,pi(t))ci(t);else{switch(i=rd(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Oe]=t,e[Ne]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Za(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Za(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=q.current,pi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Oe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yc(e.nodeValue,n)))||ui(t)}else(e=rd(e).createTextNode(r))[Oe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=pi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Oe]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=vi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(ua(t),t):(ua(t),null)}if(ua(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Ic(t.stateNode.containerInfo),nl(t),null;case 10:return _i(t.type),nl(t),null;case 19:if(I(ca),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)tl(i,!1);else{if(0!==pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=da(e))){for(t.flags|=128,tl(i,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fr(n,e),n=n.sibling;return B(ca,1&ca.current|2),t.child}e=e.sibling}null!==i.tail&&te()>Cu&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=da(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!oi)return nl(t),null}else 2*te()-i.renderingStartTime>Cu&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=ca.current,B(ca,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ua(t),go(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&I(Bi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_i(Oi),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return _i(Oi),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(ua(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return I(ca),null;case 4:return G(),null;case 10:return _i(t.type),null;case 22:case 23:return ua(t),go(),null!==e&&I(Bi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return _i(Oi),null;default:return null}}function ol(e,t){switch(ni(t),t.tag){case 3:_i(Oi),G();break;case 26:case 27:case 5:Q(t);break;case 4:G();break;case 13:ua(t);break;case 19:I(ca);break;case 10:_i(t.type);break;case 22:case 23:ua(t),go(),null!==e&&I(Bi);break;case 24:_i(Oi)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(a){cc(t,t.return,a)}}function al(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=t;var l=n,u=a;try{u()}catch(c){cc(i,l,c)}}}r=r.next}while(r!==o)}}catch(c){cc(t,t.return,c)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ho(t,n)}catch(r){cc(e,e.return,r)}}}function ul(e,t,n){n.props=ma(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){cc(e,t,r)}}function cl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){cc(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){cc(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){cc(e,t,o)}else n.current=null}function pl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){cc(e,e.return,i)}}function hl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,u=null,c=null,d=null;for(v in n){var p=n[v];if(n.hasOwnProperty(v)&&null!=p)switch(v){case"checked":case"value":break;case"defaultValue":u=p;default:r.hasOwnProperty(v)||Zc(e,t,v,null,r,p)}}for(var h in r){var v=r[h];if(p=n[h],r.hasOwnProperty(h)&&(null!=v||null!=p))switch(h){case"type":o=v;break;case"name":i=v;break;case"checked":c=v;break;case"defaultChecked":d=v;break;case"value":a=v;break;case"defaultValue":l=v;break;case"children":case"dangerouslySetInnerHTML":if(null!=v)throw Error(s(137,t));break;default:v!==p&&Zc(e,t,h,v,r,p)}}return void mt(e,a,l,u,c,d,o,i);case"select":for(o in v=a=l=h=null,n)if(u=n[o],n.hasOwnProperty(o)&&null!=u)switch(o){case"value":break;case"multiple":v=u;default:r.hasOwnProperty(o)||Zc(e,t,o,null,r,u)}for(i in r)if(o=r[i],u=n[i],r.hasOwnProperty(i)&&(null!=o||null!=u))switch(i){case"value":h=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==u&&Zc(e,t,i,o,r,u)}return t=l,n=a,r=v,void(null!=h?wt(e,!!n,h,!1):!!r!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in v=h=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zc(e,t,l,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":h=i;break;case"defaultValue":v=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&Zc(e,t,a,i,r,o)}return void _t(e,h,v);case"option":for(var f in n)if(h=n[f],n.hasOwnProperty(f)&&null!=h&&!r.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Zc(e,t,f,null,r,h);for(u in r)if(h=r[u],v=n[u],r.hasOwnProperty(u)&&h!==v&&(null!=h||null!=v))if("selected"===u)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Zc(e,t,u,h,r,v);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)h=n[m],n.hasOwnProperty(m)&&null!=h&&!r.hasOwnProperty(m)&&Zc(e,t,m,null,r,h);for(c in r)if(h=r[c],v=n[c],r.hasOwnProperty(c)&&h!==v&&(null!=h||null!=v))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(s(137,t));break;default:Zc(e,t,c,h,r,v)}return;default:if(Et(t)){for(var b in n)h=n[b],n.hasOwnProperty(b)&&void 0!==h&&!r.hasOwnProperty(b)&&Jc(e,t,b,void 0,r,h);for(d in r)h=r[d],v=n[d],!r.hasOwnProperty(d)||h===v||void 0===h&&void 0===v||Jc(e,t,d,h,r,v);return}}for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g)&&Zc(e,t,g,null,r,h);for(p in r)h=r[p],v=n[p],!r.hasOwnProperty(p)||h===v||null==h&&null==v||Zc(e,t,p,h,r,v)}(r,e.type,n,t),r[Ne]=t}catch(i){cc(e,e.return,i)}}function vl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hd(e.type)||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||vl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ml(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xc));else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(ml(e,t,n),e=e.sibling;null!==e;)ml(e,t,n),e=e.sibling}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function gl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,r,n),t[Oe]=e,t[Ne]=n}catch(o){cc(e,e.return,o)}}var wl=!1,_l=!1,yl=!1,Cl="function"===typeof WeakSet?WeakSet:Set,xl=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:zl(e,n),4&r&&sl(5,n);break;case 1:if(zl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){cc(n,n.return,s)}else{var i=ma(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){cc(n,n.return,a)}}64&r&&ll(n),512&r&&cl(n,n.return);break;case 3:if(zl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ho(e,t)}catch(s){cc(n,n.return,s)}}break;case 27:null===t&&4&r&&gl(n);case 26:case 5:zl(e,n),null===t&&4&r&&pl(n),512&r&&cl(n,n.return);break;case 12:zl(e,n);break;case 13:zl(e,n),4&r&&Ml(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=vc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||wl)){t=null!==t&&null!==t.memoizedState||_l,i=wl;var o=_l;wl=r,(_l=t)&&!o?Fl(e,n,0!==(8772&n.subtreeFlags)):zl(e,n),wl=i,_l=o}break;case 30:break;default:zl(e,n)}}function Pl(e){var t=e.alternate;null!==t&&(e.alternate=null,Pl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ie(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var El=null,Sl=!1;function Vl(e,t,n){for(n=n.child;null!==n;)Ll(e,t,n),n=n.sibling}function Ll(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ce,n)}catch(o){}switch(n.tag){case 26:_l||dl(n,t),Vl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:_l||dl(n,t);var r=El,i=Sl;hd(n.type)&&(El=n.stateNode,Sl=!1),Vl(e,t,n),yd(n.stateNode),El=r,Sl=i;break;case 5:_l||dl(n,t);case 6:if(r=El,i=Sl,El=null,Vl(e,t,n),Sl=i,null!==(El=r))if(Sl)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(n.stateNode)}catch(s){cc(n,t,s)}else try{El.removeChild(n.stateNode)}catch(s){cc(n,t,s)}break;case 18:null!==El&&(Sl?(vd(9===(e=El).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Sp(e)):vd(El,n.stateNode));break;case 4:r=El,i=Sl,El=n.stateNode.containerInfo,Sl=!0,Vl(e,t,n),El=r,Sl=i;break;case 0:case 11:case 14:case 15:_l||al(2,n,t),_l||al(4,n,t),Vl(e,t,n);break;case 1:_l||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&ul(n,t,r)),Vl(e,t,n);break;case 21:Vl(e,t,n);break;case 22:_l=(r=_l)||null!==n.memoizedState,Vl(e,t,n),_l=r;break;default:Vl(e,t,n)}}function Ml(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Sp(e)}catch(n){cc(t,t.return,n)}}function Dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Cl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Cl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var r=fc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Ol(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(hd(l.type)){El=l.stateNode,Sl=!1;break e}break;case 5:El=l.stateNode,Sl=!1;break e;case 3:case 4:El=l.stateNode.containerInfo,Sl=!0;break e}l=l.return}if(null===El)throw Error(s(160));Ll(o,a,i),El=null,Sl=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Tl(t,e),t=t.sibling}var Nl=null;function Tl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ol(t,e),Al(e),4&r&&(al(3,e,e.return),sl(3,e),al(5,e,e.return));break;case 1:Ol(t,e),Al(e),512&r&&(_l||null===n||dl(n,n.return)),64&r&&wl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Nl;if(Ol(t,e),Al(e),512&r&&(_l||null===n||dl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Fe]||o[Oe]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),ed(o,r,n),o[Oe]=e,He(o),r=o;break e;case"link":var a=Fd("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}ed(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(a=Fd("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}ed(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[Oe]=e,He(o),r=o}e.stateNode=r}else Id(i,e.type,e.stateNode);else e.stateNode=Td(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Id(i,e.type,e.stateNode):Td(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&hl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ol(t,e),Al(e),512&r&&(_l||null===n||dl(n,n.return)),null!==n&&4&r&&hl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ol(t,e),Al(e),512&r&&(_l||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{Ct(i,"")}catch(v){cc(e,e.return,v)}}4&r&&null!=e.stateNode&&hl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(yl=!0);break;case 6:if(Ol(t,e),Al(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(v){cc(e,e.return,v)}}break;case 3:if(Rd=null,i=Nl,Nl=kd(t.containerInfo),Ol(t,e),Nl=i,Al(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Sp(t.containerInfo)}catch(v){cc(e,e.return,v)}yl&&(yl=!1,jl(e));break;case 4:r=Nl,Nl=kd(e.stateNode.containerInfo),Ol(t,e),Al(e),Nl=r;break;case 12:default:Ol(t,e),Al(e);break;case 13:Ol(t,e),Al(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(yu=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Dl(e,r)));break;case 22:i=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=wl,d=_l;if(wl=c||i,_l=d||u,Ol(t,e),_l=d,wl=c,Al(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||u||wl||_l||Rl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(o=u.stateNode,i)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,h=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(v){cc(u,u.return,v)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(v){cc(u,u.return,v)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Dl(e,n))));break;case 19:Ol(t,e),Al(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Dl(e,r)));case 30:case 21:}}function Al(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(vl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;bl(e,fl(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(Ct(o,""),n.flags&=-33),bl(e,fl(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;ml(e,fl(e),a);break;default:throw Error(s(161))}}catch(l){cc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function jl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;jl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function zl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function Rl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),Rl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),Rl(t);break;case 27:yd(t.stateNode);case 26:case 5:dl(t,t.return),Rl(t);break;case 22:null===t.memoizedState&&Rl(t);break;default:Rl(t)}e=e.sibling}}function Fl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Fl(i,o,n),sl(4,o);break;case 1:if(Fl(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(u){cc(r,r.return,u)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)po(l[i],a)}catch(u){cc(r,r.return,u)}}n&&64&s&&ll(o),cl(o,o.return);break;case 27:gl(o);case 26:case 5:Fl(i,o,n),n&&null===r&&4&s&&pl(o),cl(o,o.return);break;case 12:Fl(i,o,n);break;case 13:Fl(i,o,n),n&&4&s&&Ml(i,o);break;case 22:null===o.memoizedState&&Fl(i,o,n),cl(o,o.return);break;case 30:break;default:Fl(i,o,n)}t=t.sibling}}function Il(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ti(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ti(e))}function Ul(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Kl(e,t,n,r),t=t.sibling}function Kl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ul(e,t,n,r),2048&i&&sl(9,t);break;case 1:case 13:default:Ul(e,t,n,r);break;case 3:Ul(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ti(e)));break;case 12:if(2048&i){Ul(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){cc(t,t.return,l)}}else Ul(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?Ul(e,t,n,r):Hl(e,t):2&o._visibility?Ul(e,t,n,r):(o._visibility|=2,ql(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Il(s,t);break;case 24:Ul(e,t,n,r),2048&i&&Bl(t.alternate,t)}}function ql(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,s=t,a=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:ql(o,s,a,l,i),sl(8,s);break;case 23:break;case 22:var c=s.stateNode;null!==s.memoizedState?2&c._visibility?ql(o,s,a,l,i):Hl(o,s):(c._visibility|=2,ql(o,s,a,l,i)),i&&2048&u&&Il(s.alternate,s);break;case 24:ql(o,s,a,l,i),i&&2048&u&&Bl(s.alternate,s);break;default:ql(o,s,a,l,i)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Hl(n,r),2048&i&&Il(r.alternate,r);break;case 24:Hl(n,r),2048&i&&Bl(r.alternate,r);break;default:Hl(n,r)}t=t.sibling}}var $l=8192;function Gl(e){if(e.subtreeFlags&$l)for(e=e.child;null!==e;)Wl(e),e=e.sibling}function Wl(e){switch(e.tag){case 26:Gl(e),e.flags&$l&&null!==e.memoizedState&&function(e,t,n){if(null===Ud)throw Error(s(475));var r=Ud;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Ld(n.href),o=e.querySelector(Md(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=qd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void He(o);o=e.ownerDocument||e,n=Dd(n),(i=Cd.get(i))&&jd(n,i),He(o=o.createElement("link"));var a=o;a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),ed(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=qd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Nl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Nl;Nl=kd(e.stateNode.containerInfo),Gl(e),Nl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=$l,$l=16777216,Gl(e),$l=t):Gl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];xl=r,Jl(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):Yl(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];xl=r,Jl(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function Jl(e,t){for(;null!==xl;){var n=xl;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ti(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,xl=r;else e:for(n=e;null!==xl;){var i=(r=xl).sibling,o=r.return;if(Pl(r),r===n){xl=null;break e}if(null!==i){i.return=o,xl=i;break e}xl=o}}}var eu={getCacheForType:function(e){var t=Ei(Oi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tu="function"===typeof WeakMap?WeakMap:Map,nu=0,ru=null,iu=null,ou=0,su=0,au=null,lu=!1,uu=!1,cu=!1,du=0,pu=0,hu=0,vu=0,fu=0,mu=0,bu=0,gu=null,wu=null,_u=!1,yu=0,Cu=1/0,xu=null,ku=null,Pu=0,Eu=null,Su=null,Vu=0,Lu=0,Mu=null,Du=null,Ou=0,Nu=null;function Tu(){if(0!==(2&nu)&&0!==ou)return ou&-ou;if(null!==T.T){return 0!==zi?zi:Lc()}return Me()}function Au(){0===mu&&(mu=0===(536870912&ou)||oi?Ce():536870912);var e=ia.current;return null!==e&&(e.flags|=32),mu}function ju(e,t,n){(e!==ru||2!==su&&9!==su)&&null===e.cancelPendingCommit||(Ku(e,0),Iu(e,ou,mu,!1)),Pe(e,n),0!==(2&nu)&&e===ru||(e===ru&&(0===(2&nu)&&(vu|=n),4===pu&&Iu(e,ou,mu,!1)),Cc(e))}function zu(e,t,n){if(0!==(6&nu))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||_e(e,t),i=r?function(e,t){var n=nu;nu|=2;var r=Hu(),i=$u();ru!==e||ou!==t?(xu=null,Cu=te()+500,Ku(e,t)):uu=_e(e,t);e:for(;;)try{if(0!==su&&null!==iu){t=iu;var o=au;t:switch(su){case 1:su=0,au=null,Ju(e,t,o,1);break;case 2:case 9:if(Qi(o)){su=0,au=null,Zu(t);break}t=function(){2!==su&&9!==su||ru!==e||(su=7),Cc(e)},o.then(t,t);break e;case 3:su=7;break e;case 4:su=5;break e;case 7:Qi(o)?(su=0,au=null,Zu(t)):(su=0,au=null,Ju(e,t,o,7));break;case 5:var a=null;switch(iu.tag){case 26:a=iu.memoizedState;case 5:case 27:var l=iu;if(!a||Bd(a)){su=0,au=null;var u=l.sibling;if(null!==u)iu=u;else{var c=l.return;null!==c?(iu=c,ec(c)):iu=null}break t}}su=0,au=null,Ju(e,t,o,5);break;case 6:su=0,au=null,Ju(e,t,o,6);break;case 8:Uu(),pu=6;break e;default:throw Error(s(462))}}Yu();break}catch(d){qu(e,d)}return gi=bi=null,T.H=r,T.A=i,nu=n,null!==iu?0:(ru=null,ou=0,Vr(),pu)}(e,t):Wu(e,t,!0),o=r;;){if(0===i){uu&&!r&&Iu(e,t,0,!1);break}if(n=e.current.alternate,!o||Fu(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=gu;var u=l.current.memoizedState.isDehydrated;if(u&&(Ku(l,a).flags|=256),2!==(a=Wu(l,a,!1))){if(cu&&!u){l.errorRecoveryDisabledLanes|=o,vu|=o,i=4;break e}o=wu,wu=i,null!==o&&(null===wu?wu=o:wu.push.apply(wu,o))}i=a}if(o=!1,2!==i)continue}}if(1===i){Ku(e,0),Iu(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Iu(r,t,mu,!lu);break e;case 2:wu=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=yu+300-te())){if(Iu(r,t,mu,!lu),0!==we(r,0,!0))break e;r.timeoutHandle=ld(Ru.bind(null,r,n,wu,xu,_u,t,mu,vu,bu,lu,o,2,-0,0),i)}else Ru(r,n,wu,xu,_u,t,mu,vu,bu,lu,o,0,-0,0)}break}i=Wu(e,t,!1),o=!1}Cc(e)}function Ru(e,t,n,r,i,o,a,l,u,c,d,p,h,v){if(e.timeoutHandle=-1,(8192&(p=t.subtreeFlags)||16785408===(16785408&p))&&(Ud={stylesheets:null,count:0,unsuspend:Kd},Wl(t),null!==(p=function(){if(null===Ud)throw Error(s(475));var e=Ud;return e.stylesheets&&0===e.count&&$d(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&$d(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=p(nc.bind(null,e,t,o,n,r,i,a,l,u,d,1,h,v)),void Iu(e,o,a,!c);nc(e,t,o,n,r,i,a,l,u)}function Fu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Qn(o(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Iu(e,t,n,r){t&=~fu,t&=~vu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-he(i),s=1<<o;r[o]=-1,i&=~s}0!==n&&Ee(e,n,t)}function Bu(){return 0!==(6&nu)||(xc(0,!1),!1)}function Uu(){if(null!==iu){if(0===su)var e=iu.return;else gi=bi=null,Ro(e=iu),Qs=null,Ys=0,e=iu;for(;null!==e;)ol(e.alternate,e),e=e.return;iu=null}}function Ku(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uu(),ru=e,iu=n=Rr(e.current,null),ou=t,su=0,au=null,lu=!1,uu=_e(e,t),cu=!1,bu=mu=fu=vu=hu=pu=0,wu=gu=null,_u=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-he(r),o=1<<i;t|=e[i],r&=~o}return du=t,Vr(),n}function qu(e,t){_o=null,T.H=Hs,t===Hi||t===Gi?(t=Ji(),su=3):t===$i?(t=Ji(),su=4):su=t===Ea?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,au=t,null===iu&&(pu=1,ya(e,kr(t,e.current)))}function Hu(){var e=T.H;return T.H=Hs,null===e?Hs:e}function $u(){var e=T.A;return T.A=eu,e}function Gu(){pu=4,lu||(4194048&ou)!==ou&&null!==ia.current||(uu=!0),0===(134217727&hu)&&0===(134217727&vu)||null===ru||Iu(ru,ou,mu,!1)}function Wu(e,t,n){var r=nu;nu|=2;var i=Hu(),o=$u();ru===e&&ou===t||(xu=null,Ku(e,t)),t=!1;var s=pu;e:for(;;)try{if(0!==su&&null!==iu){var a=iu,l=au;switch(su){case 8:Uu(),s=6;break e;case 3:case 2:case 9:case 6:null===ia.current&&(t=!0);var u=su;if(su=0,au=null,Ju(e,a,l,u),n&&uu){s=0;break e}break;default:u=su,su=0,au=null,Ju(e,a,l,u)}}Qu(),s=pu;break}catch(c){qu(e,c)}return t&&e.shellSuspendCounter++,gi=bi=null,nu=r,T.H=i,T.A=o,null===iu&&(ru=null,ou=0,Vr()),s}function Qu(){for(;null!==iu;)Xu(iu)}function Yu(){for(;null!==iu&&!J();)Xu(iu)}function Xu(e){var t=Xa(e.alternate,e,du);e.memoizedProps=e.pendingProps,null===t?ec(e):iu=t}function Zu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ja(n,t,t.pendingProps,t.type,void 0,ou);break;case 11:t=ja(n,t,t.pendingProps,t.type.render,t.ref,ou);break;case 5:Ro(t);default:ol(n,t),t=Xa(n,t=iu=Fr(t,du),du)}e.memoizedProps=e.pendingProps,null===t?ec(e):iu=t}function Ju(e,t,n,r){gi=bi=null,Ro(t),Qs=null,Ys=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&xi(t,n,i,!0),null!==(n=ia.current)){switch(n.tag){case 13:return null===oa?Gu():null===n.alternate&&0===pu&&(pu=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Wi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),dc(e,r,i)),!1;case 22:return n.flags|=65536,r===Wi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),dc(e,r,i)),!1}throw Error(s(435,n.tag))}return dc(e,r,i),Gu(),!1}if(oi)return null!==(t=ia.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&fi(kr(e=Error(s(422),{cause:r}),n))):(r!==li&&fi(kr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=kr(r,n),ao(e,i=xa(e.stateNode,r,i)),4!==pu&&(pu=2)),!1;var o=Error(s(520),{cause:r});if(o=kr(o,n),null===gu?gu=[o]:gu.push(o),4!==pu&&(pu=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ao(n,e=xa(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===ku||!ku.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Pa(i=ka(i),e,n,r),ao(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ou))return pu=1,ya(e,kr(n,e.current)),void(iu=null)}catch(o){if(null!==i)throw iu=i,o;return pu=1,ya(e,kr(n,e.current)),void(iu=null)}32768&t.flags?(oi||1===r?e=!0:uu||0!==(536870912&ou)?e=!1:(lu=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ia.current)&&13===r.tag&&(r.flags|=16384))),tc(t,e)):ec(t)}function ec(e){var t=e;do{if(0!==(32768&t.flags))return void tc(t,lu);e=t.return;var n=rl(t.alternate,t,du);if(null!==n)return void(iu=n);if(null!==(t=t.sibling))return void(iu=t);iu=t=e}while(null!==t);0===pu&&(pu=5)}function tc(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(iu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(iu=e);iu=e=n}while(null!==e);pu=6,iu=null}function nc(e,t,n,r,i,o,a,l,u){e.cancelPendingCommit=null;do{ac()}while(0!==Pu);if(0!==(6&nu))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-he(n),d=1<<c;a[c]=0,l[c]=-1;var p=u[c];if(null!==p)for(u[c]=null,c=0;c<p.length;c++){var h=p[c];null!==h&&(h.lane&=-536870913)}n&=~d}0!==r&&Ee(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Sr,a,l,u),e===ru&&(iu=ru=null,ou=0),Su=t,Eu=e,Vu=n,Lu=o,Mu=i,Du=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(oe,(function(){return lc(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=T.T,T.T=null,i=A.p,A.p=2,a=nu,nu|=4;try{!function(e,t){if(e=e.containerInfo,td=np,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(m){n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,p=e,h=null;t:for(;;){for(var v;p!==n||0!==i&&3!==p.nodeType||(l=a+i),p!==o||0!==r&&3!==p.nodeType||(u=a+r),3===p.nodeType&&(a+=p.nodeValue.length),null!==(v=p.firstChild);)h=p,p=v;for(;;){if(p===e)break t;if(h===n&&++c===i&&(l=a),h===o&&++d===r&&(u=a),null!==(v=p.nextSibling))break;h=(p=h).parentNode}p=v}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},np=!1,xl=t;null!==xl;)if(e=(t=xl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,xl=e;else for(;null!==xl;){switch(o=(t=xl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var f=ma(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(f,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(b){cc(n,n.return,b)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))fd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,xl=e;break}xl=t.return}}(e,t)}finally{nu=a,A.p=i,T.T=r}}Pu=1,rc(),ic(),oc()}}function rc(){if(1===Pu){Pu=0;var e=Eu,t=Su,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=T.T,T.T=null;var r=A.p;A.p=2;var i=nu;nu|=4;try{Tl(t,e);var o=nd,s=er(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&Jn(a.ownerDocument.documentElement,a)){if(null!==l&&tr(a)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(c,a.value.length);else{var d=a.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var h=p.getSelection(),v=a.textContent.length,f=Math.min(l.start,v),m=void 0===l.end?f:Math.min(l.end,v);!h.extend&&f>m&&(s=m,m=f,f=s);var b=Zn(a,f),g=Zn(a,m);if(b&&g&&(1!==h.rangeCount||h.anchorNode!==b.node||h.anchorOffset!==b.offset||h.focusNode!==g.node||h.focusOffset!==g.offset)){var w=d.createRange();w.setStart(b.node,b.offset),h.removeAllRanges(),f>m?(h.addRange(w),h.extend(g.node,g.offset)):(w.setEnd(g.node,g.offset),h.addRange(w))}}}}for(d=[],h=a;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var _=d[a];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}np=!!td,nd=td=null}finally{nu=i,A.p=r,T.T=n}}e.current=t,Pu=2}}function ic(){if(2===Pu){Pu=0;var e=Eu,t=Su,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=T.T,T.T=null;var r=A.p;A.p=2;var i=nu;nu|=4;try{kl(e,t.alternate,t)}finally{nu=i,A.p=r,T.T=n}}Pu=3}}function oc(){if(4===Pu||3===Pu){Pu=0,ee();var e=Eu,t=Su,n=Vu,r=Du;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Pu=5:(Pu=0,Su=Eu=null,sc(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(ku=null),Le(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ce,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=T.T,i=A.p,A.p=2,T.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];o(a.value,{componentStack:a.stack})}}finally{T.T=t,A.p=i}}0!==(3&Vu)&&ac(),Cc(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Nu?Ou++:(Ou=0,Nu=e):Ou=0,xc(0,!1)}}function sc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ti(t)))}function ac(e){return rc(),ic(),oc(),lc()}function lc(){if(5!==Pu)return!1;var e=Eu,t=Lu;Lu=0;var n=Le(Vu),r=T.T,i=A.p;try{A.p=32>n?32:n,T.T=null,n=Mu,Mu=null;var o=Eu,a=Vu;if(Pu=0,Su=Eu=null,Vu=0,0!==(6&nu))throw Error(s(331));var l=nu;if(nu|=4,Xl(o.current),Kl(o,o.current,a,n),nu=l,xc(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ce,o)}catch(u){}return!0}finally{A.p=i,T.T=r,sc(e,t)}}function uc(e,t,n){t=kr(n,t),null!==(e=oo(e,t=xa(e.stateNode,t,2),2))&&(Pe(e,2),Cc(e))}function cc(e,t,n){if(3===e.tag)uc(e,e,n);else for(;null!==t;){if(3===t.tag){uc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ku||!ku.has(r))){e=kr(n,e),null!==(r=oo(t,n=ka(2),2))&&(Pa(n,r,t,e),Pe(r,2),Cc(r));break}}t=t.return}}function dc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(cu=!0,i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ru===e&&(ou&n)===n&&(4===pu||3===pu&&(62914560&ou)===ou&&300>te()-yu?0===(2&nu)&&Ku(e,0):fu|=n,bu===ou&&(bu=0)),Cc(e)}function hc(e,t){0===t&&(t=xe()),null!==(e=Dr(e,t))&&(Pe(e,t),Cc(e))}function vc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hc(e,n)}function fc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),hc(e,n)}var mc=null,bc=null,gc=!1,wc=!1,_c=!1,yc=0;function Cc(e){e!==bc&&null===e.next&&(null===bc?mc=bc=e:bc=bc.next=e),wc=!0,gc||(gc=!0,dd((function(){0!==(6&nu)?X(re,kc):Pc()})))}function xc(e,t){if(!_c&&wc){_c=!0;do{for(var n=!1,r=mc;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-he(42|e)+1)-1,o=201326741&(o&=i&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Vc(r,o))}else o=ou,0===(3&(o=we(r,r===ru?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||_e(r,o)||(n=!0,Vc(r,o));r=r.next}}while(n);_c=!1}}function kc(){Pc()}function Pc(){wc=gc=!1;var e=0;0!==yc&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ad&&(ad=e,!0);return ad=null,!1}()&&(e=yc),yc=0);for(var t=te(),n=null,r=mc;null!==r;){var i=r.next,o=Ec(r,t);0===o?(r.next=null,null===n?mc=i:n.next=i,null===i&&(bc=n)):(n=r,(0!==e||0!==(3&o))&&(wc=!0)),r=i}xc(e,!1)}function Ec(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-he(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ye(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=ou,n=we(e,e===(t=ru)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===su||9===su)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Z(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||_e(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Z(r),Le(n)){case 2:case 8:n=ie;break;case 32:default:n=oe;break;case 268435456:n=ae}return r=Sc.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Z(r),e.callbackPriority=2,e.callbackNode=null,2}function Sc(e,t){if(0!==Pu&&5!==Pu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ac()&&e.callbackNode!==n)return null;var r=ou;return 0===(r=we(e,e===ru?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(zu(e,r,t),Ec(e,te()),null!=e.callbackNode&&e.callbackNode===n?Sc.bind(null,e):null)}function Vc(e,t){if(ac())return null;zu(e,t,!0)}function Lc(){return 0===yc&&(yc=Ce()),yc}function Mc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Lt(""+e)}function Dc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Oc=0;Oc<yr.length;Oc++){var Nc=yr[Oc];Cr(Nc.toLowerCase(),"on"+(Nc[0].toUpperCase()+Nc.slice(1)))}Cr(hr,"onAnimationEnd"),Cr(vr,"onAnimationIteration"),Cr(fr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(mr,"onTransitionRun"),Cr(br,"onTransitionStart"),Cr(gr,"onTransitionCancel"),Cr(wr,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ac=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tc));function jc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=u;try{o(i)}catch(c){ba(c)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=u;try{o(i)}catch(c){ba(c)}i.currentTarget=null,o=l}}}}function zc(e,t){var n=t[Ae];void 0===n&&(n=t[Ae]=new Set);var r=e+"__bubble";n.has(r)||(Bc(t,e,2,!1),n.add(r))}function Rc(e,t,n){var r=0;t&&(r|=4),Bc(n,e,r,t)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function Ic(e){if(!e[Fc]){e[Fc]=!0,$e.forEach((function(t){"selectionchange"!==t&&(Ac.has(t)||Rc(t,!1,e),Rc(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fc]||(t[Fc]=!0,Rc("selectionchange",!1,t))}}function Bc(e,t,n,r){switch(up(t)){case 2:var i=rp;break;case 8:i=ip;break;default:i=op}n=i.bind(null,t,n,e),i=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Uc(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==a;){if(null===(s=Be(a)))return;if(5===(u=s.tag)||6===u||26===u||27===u){r=o=s;continue e}a=a.parentNode}}r=r.return}jt((function(){var r=o,i=Dt(n),s=[];e:{var a=_r.get(e);if(void 0!==a){var u=Jt,c=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":u=fn;break;case"focusin":c="focus",u=sn;break;case"focusout":c="blur",u=sn;break;case"beforeblur":case"afterblur":u=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=bn;break;case hr:case vr:case fr:u=an;break;case wr:u=gn;break;case"scroll":case"scrollend":u=tn;break;case"wheel":u=wn;break;case"copy":case"cut":case"paste":u=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=mn;break;case"toggle":case"beforetoggle":u=_n}var d=0!==(4&t),p=!d&&("scroll"===e||"scrollend"===e),h=d?null!==a?a+"Capture":null:a;d=[];for(var v,f=r;null!==f;){var m=f;if(v=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===v||null===h||null!=(m=zt(f,h))&&d.push(Kc(f,m,v)),p)break;f=f.return}0<d.length&&(a=new u(a,c,null,n,i),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Mt||!(c=n.relatedTarget||n.fromElement)||!Be(c)&&!c[Te])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Be(c):null)&&(p=l(c),d=c.tag,c!==p||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=rn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=mn,m="onPointerLeave",h="onPointerEnter",f="pointer"),p=null==u?a:Ke(u),v=null==c?a:Ke(c),(a=new d(m,f+"leave",u,n,i)).target=p,a.relatedTarget=v,m=null,Be(i)===r&&((d=new d(h,f+"enter",c,n,i)).target=v,d.relatedTarget=p,m=d),p=m,u&&c)e:{for(h=c,f=0,v=d=u;v;v=Hc(v))f++;for(v=0,m=h;m;m=Hc(m))v++;for(;0<f-v;)d=Hc(d),f--;for(;0<v-f;)h=Hc(h),v--;for(;f--;){if(d===h||null!==h&&d===h.alternate)break e;d=Hc(d),h=Hc(h)}d=null}else d=null;null!==u&&$c(s,a,u,d,!1),null!==c&&null!==p&&$c(s,p,c,d,!0)}if("select"===(u=(a=r?Ke(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var b=Rn;else if(On(a))if(Fn)b=Wn;else{b=$n;var g=Hn}else!(u=a.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Et(r.elementType)&&(b=Rn):b=Gn;switch(b&&(b=b(e,r))?Nn(s,b,n,i):(g&&g(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&gt(a,"number",a.value)),g=r?Ke(r):window,e){case"focusin":(On(g)||"true"===g.contentEditable)&&(rr=g,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,ar(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(s,n,i)}var w;if(Cn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Mn?Vn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Pn&&"ko"!==n.locale&&(Mn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Mn&&(w=qt()):(Ut="value"in(Bt=i)?Bt.value:Bt.textContent,Mn=!0)),0<(g=qc(r,_)).length&&(_=new un(_,e,null,n,i),s.push({event:_,listeners:g}),w?_.data=w:null!==(w=Ln(n))&&(_.data=w))),(w=kn?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(Sn=!0,En);case"textInput":return(e=t.data)===En&&Sn?null:e;default:return null}}(e,n):function(e,t){if(Mn)return"compositionend"===e||!Cn&&Vn(e,t)?(e=qt(),Kt=Ut=Bt=null,Mn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(_=qc(r,"onBeforeInput")).length&&(g=new un("onBeforeInput","beforeinput",null,n,i),s.push({event:g,listeners:_}),g.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Mc((i[Ne]||null).action),s=r.submitter;s&&null!==(t=(t=s[Ne]||null)?Mc(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new Jt("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==yc){var e=s?Dc(i,s):new FormData(i);Ds(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?Dc(i,s):new FormData(i),Ds(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}jc(s,t)}))}function Kc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qc(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=zt(e,n))&&r.unshift(Kc(e,i,o)),null!=(i=zt(e,t))&&r.push(Kc(e,i,o))),3===e.tag)return r;e=e.return}return[]}function Hc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function $c(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===u||(l=u,i?null!=(u=zt(n,o))&&s.unshift(Kc(n,u,l)):i||null!=(u=zt(n,o))&&s.push(Kc(n,u,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gc=/\r\n?/g,Wc=/\u0000|\uFFFD/g;function Qc(e){return("string"===typeof e?e:""+e).replace(Gc,"\n").replace(Wc,"")}function Yc(e,t){return t=Qc(t),Qc(e)===t}function Xc(){}function Zc(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Ct(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Pt(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Lt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Zc(e,t,"name",i.name,i,null),Zc(e,t,"formEncType",i.formEncType,i,null),Zc(e,t,"formMethod",i.formMethod,i,null),Zc(e,t,"formTarget",i.formTarget,i,null)):(Zc(e,t,"encType",i.encType,i,null),Zc(e,t,"method",i.method,i,null),Zc(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Lt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xc);break;case"onScroll":null!=r&&zc("scroll",e);break;case"onScrollEnd":null!=r&&zc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Lt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":zc("beforetoggle",e),zc("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=St.get(n)||n,r)}}function Jc(e,t,n,r,i,o){switch(n){case"style":Pt(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&Ct(e,""+r);break;case"onScroll":null!=r&&zc("scroll",e);break;case"onScrollEnd":null!=r&&zc("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Ne]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zc("error",e),zc("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zc(e,t,r,a,n,null)}}return o&&Zc(e,t,"srcSet",n.srcSet,n,null),void(i&&Zc(e,t,"src",n.src,n,null));case"input":zc("invalid",e);var l=r=a=o=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Zc(e,t,i,d,n,null)}}return bt(e,r,l,u,c,a,o,!1),void dt(e);case"select":for(o in zc("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Zc(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?wt(e,!!i,t,!1):null!=n&&wt(e,!!i,n,!0));case"textarea":for(a in zc("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Zc(e,t,a,l,n,null)}return yt(e,i,o,r),void dt(e);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))if("selected"===u)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Zc(e,t,u,i,n,null);return;case"dialog":zc("beforetoggle",e),zc("toggle",e),zc("cancel",e),zc("close",e);break;case"iframe":case"object":zc("load",e);break;case"video":case"audio":for(i=0;i<Tc.length;i++)zc(Tc[i],e);break;case"image":zc("error",e),zc("load",e);break;case"details":zc("toggle",e);break;case"embed":case"source":case"link":zc("error",e),zc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zc(e,t,c,i,n,null)}return;default:if(Et(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Jc(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Zc(e,t,l,i,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ad=null;var ld="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,cd="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof cd?function(e){return cd.resolve(null).then(e).catch(pd)}:ld;function pd(e){setTimeout((function(){throw e}))}function hd(e){return"head"===e}function vd(e,t){var n=t,r=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&yd(s.documentElement),2&n&&yd(s.body),4&n)for(yd(n=s.head),s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}if(0===i)return e.removeChild(o),void Sp(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Sp(t)}function fd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":fd(n),Ie(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function md(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function bd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var gd=null;function wd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function _d(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function yd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ie(e)}var Cd=new Map,xd=new Set;function kd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Pd=A.d;A.d={f:function(){var e=Pd.f(),t=Bu();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Ns(t):Pd.r(e)},D:function(e){Pd.D(e),Sd("dns-prefetch",e,null)},C:function(e,t){Pd.C(e,t),Sd("preconnect",e,t)},L:function(e,t,n){Pd.L(e,t,n);var r=Ed;if(r&&e&&t){var i='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+ft(n.imageSizes)+'"]')):i+='[href="'+ft(e)+'"]';var o=i;switch(t){case"style":o=Ld(e);break;case"script":o=Od(e)}Cd.has(o)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Cd.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Md(o))||"script"===t&&r.querySelector(Nd(o))||(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Pd.m(e,t);var n=Ed;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+ft(r)+'"][href="'+ft(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Od(e)}if(!Cd.has(o)&&(e=p({rel:"modulepreload",href:e},t),Cd.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Nd(o)))return}ed(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Pd.X(e,t);var n=Ed;if(n&&e){var r=qe(n).hoistableScripts,i=Od(e),o=r.get(i);o||((o=n.querySelector(Nd(i)))||(e=p({src:e,async:!0},t),(t=Cd.get(i))&&zd(e,t),He(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Pd.S(e,t,n);var r=Ed;if(r&&e){var i=qe(r).hoistableStyles,o=Ld(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Md(o)))a.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Cd.get(o))&&jd(e,n);var l=s=r.createElement("link");He(l),ed(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){a.loading|=1})),l.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,Ad(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,t){Pd.M(e,t);var n=Ed;if(n&&e){var r=qe(n).hoistableScripts,i=Od(e),o=r.get(i);o||((o=n.querySelector(Nd(i)))||(e=p({src:e,async:!0,type:"module"},t),(t=Cd.get(i))&&zd(e,t),He(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Ed="undefined"===typeof document?null:document;function Sd(e,t,n){var r=Ed;if(r&&"string"===typeof t&&t){var i=ft(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),xd.has(i)||(xd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Vd(e,t,n,r){var i,o,a,l,u=(u=q.current)?kd(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ld(n.href),(r=(n=qe(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ld(n.href);var c=qe(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Md(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Cd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Cd.set(e,n),c||(i=u,o=e,a=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",(function(){return l.loading|=1})),o.addEventListener("error",(function(){return l.loading|=2})),ed(o,"link",a),He(o),i.head.appendChild(o))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Od(n),(r=(n=qe(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ld(e){return'href="'+ft(e)+'"'}function Md(e){return'link[rel="stylesheet"]['+e+"]"}function Dd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Od(e){return'[src="'+ft(e)+'"]'}function Nd(e){return"script[async]"+e}function Td(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+ft(n.href)+'"]');if(r)return t.instance=r,He(r),r;var i=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",i),Ad(r,n.precedence,e),t.instance=r;case"stylesheet":i=Ld(n.href);var o=e.querySelector(Md(i));if(o)return t.state.loading|=4,t.instance=o,He(o),o;r=Dd(n),(i=Cd.get(i))&&jd(r,i),He(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),ed(o,"link",r),t.state.loading|=4,Ad(o,n.precedence,e),t.instance=o;case"script":return o=Od(n.src),(i=e.querySelector(Nd(o)))?(t.instance=i,He(i),i):(r=n,(i=Cd.get(o))&&zd(r=p({},n),i),He(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Ad(r,n.precedence,e));return t.instance}function Ad(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function jd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Rd=null;function Fd(e,t,n){if(null===Rd){var r=new Map,i=Rd=new Map;i.set(n,r)}else(r=(i=Rd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Fe]||o[Oe]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function Id(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Ud=null;function Kd(){}function qd(){if(this.count--,0===this.count)if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function $d(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Gd,e),Hd=null,qd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Hd.get(e);if(n)var r=n.get(null);else{n=new Map,Hd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=qd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Wd={$$typeof:y,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function Qd(e,t,n,r,i,o,s,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Yd(e,t,n,r,i,o,s,a,l,u,c,d){return e=new Qd(e,t,n,s,a,l,u,d),t=1,!0===o&&(t|=24),o=jr(3,null,null,t),e.current=o,o.stateNode=e,(t=Ni()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},no(o),e}function Xd(e){return e?e=Tr:Tr}function Zd(e,t,n,r,i,o){i=Xd(i),null===r.context?r.context=i:r.pendingContext=i,(r=io(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=oo(e,r,t))&&(ju(n,0,t),so(n,e,t))}function Jd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ep(e,t){Jd(e,t),(e=e.alternate)&&Jd(e,t)}function tp(e){if(13===e.tag){var t=Dr(e,67108864);null!==t&&ju(t,0,67108864),ep(e,67108864)}}var np=!0;function rp(e,t,n,r){var i=T.T;T.T=null;var o=A.p;try{A.p=2,op(e,t,n,r)}finally{A.p=o,T.T=i}}function ip(e,t,n,r){var i=T.T;T.T=null;var o=A.p;try{A.p=8,op(e,t,n,r)}finally{A.p=o,T.T=i}}function op(e,t,n,r){if(np){var i=sp(r);if(null===i)Uc(e,t,r,ap,n),gp(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dp=wp(dp,e,t,n,r,i),!0;case"dragenter":return pp=wp(pp,e,t,n,r,i),!0;case"mouseover":return hp=wp(hp,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return vp.set(o,wp(vp.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,fp.set(o,wp(fp.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(gp(e,r),4&t&&-1<bp.indexOf(e)){for(;null!==i;){var o=Ue(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=ge(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-he(s);a.entanglements[1]|=l,s&=~l}Cc(o),0===(6&nu)&&(Cu=te()+500,xc(0,!1))}}break;case 13:null!==(a=Dr(o,2))&&ju(a,0,2),Bu(),ep(o,2)}if(null===(o=sp(r))&&Uc(e,t,r,ap,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Uc(e,t,r,null,n)}}function sp(e){return lp(e=Dt(e))}var ap=null;function lp(e){if(ap=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ap=e,null}function up(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case oe:case se:return 32;case ae:return 268435456;default:return 32}default:return 32}}var cp=!1,dp=null,pp=null,hp=null,vp=new Map,fp=new Map,mp=[],bp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gp(e,t){switch(e){case"focusin":case"focusout":dp=null;break;case"dragenter":case"dragleave":pp=null;break;case"mouseover":case"mouseout":hp=null;break;case"pointerover":case"pointerout":vp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fp.delete(t.pointerId)}}function wp(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ue(t))&&tp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function _p(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void function(e,t){var n=A.p;try{return A.p=e,t()}finally{A.p=n}}(e.priority,(function(){if(13===n.tag){var e=Tu();e=Ve(e);var t=Dr(n,e);null!==t&&ju(t,0,e),ep(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sp(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&tp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Mt=r,n.target.dispatchEvent(r),Mt=null,t.shift()}return!0}function Cp(e,t,n){yp(e)&&n.delete(t)}function xp(){cp=!1,null!==dp&&yp(dp)&&(dp=null),null!==pp&&yp(pp)&&(pp=null),null!==hp&&yp(hp)&&(hp=null),vp.forEach(Cp),fp.forEach(Cp)}function kp(e,t){e.blockedOn===t&&(e.blockedOn=null,cp||(cp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xp)))}var Pp=null;function Ep(e){Pp!==e&&(Pp=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Pp===e&&(Pp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===lp(r||n))continue;break}var o=Ue(n);null!==o&&(e.splice(t,3),t-=3,Ds(o,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function Sp(e){function t(t){return kp(t,e)}null!==dp&&kp(dp,e),null!==pp&&kp(pp,e),null!==hp&&kp(hp,e),vp.forEach(t),fp.forEach(t);for(var n=0;n<mp.length;n++){var r=mp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<mp.length&&null===(n=mp[0]).blockedOn;)_p(n),null===n.blockedOn&&mp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[Ne]||null;if("function"===typeof o)s||Ep(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[Ne]||null)a=s.formAction;else if(null!==lp(i))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Ep(n)}}}function Vp(e){this._internalRoot=e}function Lp(e){this._internalRoot=e}Lp.prototype.render=Vp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Zd(t.current,Tu(),e,t,null,null)},Lp.prototype.unmount=Vp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zd(e.current,2,null,e,null,null),Bu(),t[Te]=null}},Lp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Me();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mp.length&&0!==t&&t<mp[n].priority;n++);mp.splice(n,0,e),0===n&&_p(e)}};var Mp=i.version;if("19.1.0"!==Mp)throw Error(s(527,Mp,"19.1.0"));A.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return c(i),e;if(o===r)return c(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Dp={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Op.isDisabled&&Op.supportsFiber)try{ce=Op.inject(Dp),de=Op}catch(Tp){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=ga,o=wa,l=_a;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,i,o,l,0,null),e[Te]=t.current,Ic(e),new Vp(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,i="",o=ga,l=wa,u=_a,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(t=Yd(e,1,!0,t,0,r,i,o,l,u,0,c)).context=Xd(null),n=t.current,(i=io(r=Ve(r=Tu()))).callback=null,oo(n,i,r),n=r,t.current.lanes=n,Pe(t,n),Cc(t),e[Te]=t.current,Ic(e),new Lp(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,m={};function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}function g(){}function w(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=b.prototype;var _=w.prototype=new g;_.constructor=w,f(_,b.prototype),_.isPureReactComponent=!0;var y=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},x=Object.prototype.hasOwnProperty;function k(e,t,r,i,o,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function V(){}function L(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(a){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case p:return L((c=e._init)(e._payload),t,i,o,s)}}if(c)return s=s(e),c=""===o?"."+S(e,0):o,y(s)?(i="",null!=c&&(i=c.replace(E,"$&/")+"/"),L(s,t,i,"",(function(e){return e}))):null!=s&&(P(s)&&(l=s,u=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+c,s=k(l.type,u,void 0,0,0,l.props)),t.push(s)),1;c=0;var d,v=""===o?".":o+":";if(y(e))for(var f=0;f<e.length;f++)c+=L(o=e[f],t,i,a=v+S(o,f),s);else if("function"===typeof(f=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=f.call(e),f=0;!(o=e.next()).done;)c+=L(o=o.value,t,i,a=v+S(o,f++),s);else if("object"===a){if("function"===typeof e.then)return L(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(V,V):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function M(e,t,n){if(null==e)return e;var r=[],i=0;return L(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function N(){}t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=o,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=f({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!x.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return k(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)x.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return k(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.T,n={};C.T=n;try{var r=e(),i=C.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(N,O)}catch(o){O(o)}finally{C.T=t}},t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},t.use=function(e){return C.H.use(e)},t.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},t.useCallback=function(e,t){return C.H.useCallback(e,t)},t.useContext=function(e){return C.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=C.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return C.H.useId()},t.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.H.useMemo(e,t)},t.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},t.useRef=function(e){return C.H.useRef(e)},t.useState=function(e){return C.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element");function r(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}Symbol.for("react.fragment"),t.jsx=r,t.jsxs=r},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,p=null,h=3,v=!1,f=!1,m=!1,b=!1,g="function"===typeof setTimeout?setTimeout:null,w="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function C(e){if(m=!1,y(e),!f)if(null!==r(u))f=!0,k||(k=!0,x());else{var t=r(c);null!==t&&O(C,t.startTime-e)}}var x,k=!1,P=-1,E=5,S=-1;function V(){return!!b||!(t.unstable_now()-S<E)}function L(){if(b=!1,k){var e=t.unstable_now();S=e;var n=!0;try{e:{f=!1,m&&(m=!1,w(P),P=-1),v=!0;var o=h;try{t:{for(y(e),p=r(u);null!==p&&!(p.expirationTime>e&&V());){var s=p.callback;if("function"===typeof s){p.callback=null,h=p.priorityLevel;var a=s(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){p.callback=a,y(e),n=!0;break t}p===r(u)&&i(u),y(e)}else i(u);p=r(u)}if(null!==p)n=!0;else{var l=r(c);null!==l&&O(C,l.startTime-e),n=!1}}break e}finally{p=null,h=o,v=!1}n=void 0}}finally{n?x():k=!1}}}if("function"===typeof _)x=function(){_(L)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,D=M.port2;M.port1.onmessage=L,x=function(){D.postMessage(null)}}else x=function(){g(L,0)};function O(e,n){P=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(m?(w(P),P=-1):m=!0,O(C,o-s))):(e.sortIndex=a,n(u,e),f||v||(f=!0,k||(k=!0,x()))),e},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".e3e283b3.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="curvita:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var p=(t,n)=>{a.onerror=a.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Curvita/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],u=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);u<s.length;u++)o=s[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkcurvita=self.webpackChunkcurvita||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391);class o{constructor(e){let{x:t,y:n,type:r=0}=e;this.x=t,this.y=n,this.type=r,this.isDragging=!1,this.isSelected=!1}hitTest(e,t){return Math.abs(this.x-e)<10&&Math.abs(this.y-t)<10}}const s="rgba(255, 255, 255, 0.5)",a="rgba(0,0,0,0.25)",l="rgba(0, 0, 0, 0.5)",u={strokeStyle:l,lineWidth:.5,lineDash:[20,5],shadowColor:a,shadowBlur:5},c={normal:{fillStyle:s,radius:16,strokeStyle:l,lineWidth:.5,shadowColor:a,shadowBlur:5,backgroundBlur:{enabled:!0,blurRadius:10}},selected:{fillStyle:l,radius:19.2,strokeStyle:l,lineWidth:1,shadowColor:a,shadowBlur:5,backgroundBlur:{enabled:!0,blurRadius:15}}},d=s,p=10,h="round",v=a,f=5;function m(e,t,n){return e+(t-e)*n}function b(e,t){let n=e.map((e=>({x:e.x,y:e.y})));for(;n.length>1;){let e=[];for(let r=0;r<n.length-1;r++)e.push({x:m(n[r].x,n[r+1].x,t),y:m(n[r].y,n[r+1].y,t)});n=e}return n[0]}function g(e,t,n){const r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);if(0===o)return[{x:e.x,y:e.y},{x:t.x,y:t.y}];const s=-i/o,a=r/o;return[{x:e.x+s*n,y:e.y+a*n},{x:t.x+s*n,y:t.y+a*n}]}class w{constructor(e){let{points:t}=e;this.points=t||[],this._parNum=0,this._parDis=0,this._parallels=[],this._midPoints=[]}getParNum(){return this._parNum}setParNum(e){this._parNum=e}getParDis(){return this._parDis}setParDis(e){this._parDis=e}updateMidPoints(){this._midPoints=[];for(let e=0;e<this.points.length-1;e++){const t=this.points[e],n=this.points[e+1];this._midPoints.push({x:(t.x+n.x)/2,y:(t.y+n.y)/2})}}updateParallels(e){if(!(this._parNum<2)){this._parallels=[];for(let e=1;e<=this._parNum;e++){const t=(e-(this._parNum+1)/2)*this._parDis;let n=[];for(let e=0;e<this.points.length-1;e++){const[r,i]=g(this.points[e],this.points[e+1],t);n.push(r),e===this.points.length-2&&n.push(i)}this._parallels.push(n)}}}drawCurve(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#000",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"butt";if(e&&!(this.points.length<2)){e.save(),e.strokeStyle=n,e.lineWidth=r,e.lineCap=i,e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y);for(let t=0;t<=1.001;t+=.01){const n=b(this.points,t);e.lineTo(n.x,n.y)}e.stroke(),e.restore()}}drawParallels(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#888",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"butt";if(e&&0!==this._parallels.length){e.save(),e.strokeStyle=n,e.lineWidth=r,e.lineCap=i;for(const t of this._parallels){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let n=0;n<=1.001;n+=.01){const r=b(t,n);e.lineTo(r.x,r.y)}e.stroke()}e.restore()}}drawGuides(e){if(e&&!(this.points.length<2)){e.save(),e.strokeStyle=u.strokeStyle,e.lineWidth=u.lineWidth,e.setLineDash(u.lineDash),e.shadowColor=u.shadowColor,e.shadowBlur=u.shadowBlur,e.shadowOffsetX=u.shadowOffsetX,e.shadowOffsetY=u.shadowOffsetY,e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y);for(let t=1;t<this.points.length;t++)e.lineTo(this.points[t].x,this.points[t].y);e.stroke(),e.setLineDash([]),e.restore()}}drawAllPoints(e){if(e){e.save();for(const t of this.points){e.beginPath();const n=t.isSelected?c.selected:0===t.type?c.normal:c.mid;e.arc(t.x,t.y,n.radius,0,2*Math.PI),e.fillStyle=n.fillStyle,e.fill(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.stroke()}e.restore()}}}const _={editMode:!0,sets:[{name:"Curve 0",curve:new w({points:[new o({x:20,y:20}),new o({x:540,y:540}),new o({x:900,y:540})]}),color:"#000000",lineWidth:5,lineCap:"butt",pairsOdd:[],pairDouble:[]},{name:"Curve 1",curve:new w({points:[new o({x:50,y:80}),new o({x:600,y:400}),new o({x:300,y:800})]}),color:"#000000",lineWidth:5,lineCap:"butt",pairsOdd:[],pairDouble:[]}],currColor:"#000000",currLineWidth:5,currLineCap:"butt",currSet:0,currNumOfPar:0,currDisOfPar:0},y={dimensions:[900,900],animate:_.editMode,backgroundColor:"#ffffff"};function C(e){return null===e||void 0===e}function x(e){return null!==e&&"object"===typeof e}function k(e){return null!==e&&"object"===typeof e}function P(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function E(e,t){return Array.from(new Set([...Object.keys(e),...Object.keys(t)])).reduce(((n,r)=>{const i=e[r],o=t[r];return k(i)&&k(o)?Object.assign(Object.assign({},n),{[r]:E(i,o)}):Object.assign(Object.assign({},n),{[r]:r in t?o:i})}),{})}function S(e){return!!x(e)&&"target"in e}const V={alreadydisposed:()=>"View has been already disposed",invalidparams:e=>"Invalid parameters for '".concat(e.name,"'"),nomatchingcontroller:e=>"No matching controller for '".concat(e.key,"'"),nomatchingview:e=>"No matching view for '".concat(JSON.stringify(e.params),"'"),notbindable:()=>"Value is not bindable",notcompatible:e=>"Not compatible with  plugin '".concat(e.id,"'"),propertynotfound:e=>"Property '".concat(e.name,"' not found"),shouldneverhappen:()=>"This error should never happen"};class L{static alreadyDisposed(){return new L({type:"alreadydisposed"})}static notBindable(){return new L({type:"notbindable"})}static notCompatible(e,t){return new L({type:"notcompatible",context:{id:"".concat(e,".").concat(t)}})}static propertyNotFound(e){return new L({type:"propertynotfound",context:{name:e}})}static shouldNeverHappen(){return new L({type:"shouldneverhappen"})}constructor(e){var t;this.message=null!==(t=V[e.type](e.context))&&void 0!==t?t:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type}toString(){return this.message}}class M{constructor(e,t){this.obj_=e,this.key=t}static isBindable(e){return null!==e&&("object"===typeof e||"function"===typeof e)}read(){return this.obj_[this.key]}write(e){this.obj_[this.key]=e}writeProperty(e,t){const n=this.read();if(!M.isBindable(n))throw L.notBindable();if(!(e in n))throw L.propertyNotFound(e);n[e]=t}}class D{constructor(){this.observers_={}}on(e,t,n){var r;let i=this.observers_[e];return i||(i=this.observers_[e]=[]),i.push({handler:t,key:null!==(r=null===n||void 0===n?void 0:n.key)&&void 0!==r?r:t}),this}off(e,t){const n=this.observers_[e];return n&&(this.observers_[e]=n.filter((e=>e.key!==t))),this}emit(e,t){const n=this.observers_[e];n&&n.forEach((e=>{e.handler(t)}))}}class O{constructor(e,t){var n;this.constraint_=null===t||void 0===t?void 0:t.constraint,this.equals_=null!==(n=null===t||void 0===t?void 0:t.equals)&&void 0!==n?n:(e,t)=>e===t,this.emitter=new D,this.rawValue_=e}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,t){const n=null!==t&&void 0!==t?t:{forceEmit:!1,last:!0},r=this.constraint_?this.constraint_.constrain(e):e,i=this.rawValue_;(!this.equals_(i,r)||n.forceEmit)&&(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=r,this.emitter.emit("change",{options:n,previousRawValue:i,rawValue:r,sender:this}))}}class N{constructor(e){this.emitter=new D,this.value_=e}get rawValue(){return this.value_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,t){const n=null!==t&&void 0!==t?t:{forceEmit:!1,last:!0},r=this.value_;(r!==e||n.forceEmit)&&(this.emitter.emit("beforechange",{sender:this}),this.value_=e,this.emitter.emit("change",{options:n,previousRawValue:r,rawValue:this.value_,sender:this}))}}class T{constructor(e){this.emitter=new D,this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_)}get rawValue(){return this.value_.rawValue}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}function A(e,t){const n=null===t||void 0===t?void 0:t.constraint,r=null===t||void 0===t?void 0:t.equals;return n||r?new O(e,t):new N(e)}class j{constructor(e){this.emitter=new D,this.valMap_=e;for(const t in this.valMap_){this.valMap_[t].emitter.on("change",(()=>{this.emitter.emit("change",{key:t,sender:this})}))}}static createCore(e){return Object.keys(e).reduce(((t,n)=>Object.assign(t,{[n]:A(e[n])})),{})}static fromObject(e){const t=this.createCore(e);return new j(t)}get(e){return this.valMap_[e].rawValue}set(e,t){this.valMap_[e].rawValue=t}value(e){return this.valMap_[e]}}class z{constructor(e){this.values=j.fromObject({max:e.max,min:e.min})}constrain(e){const t=this.values.get("max"),n=this.values.get("min");return Math.min(Math.max(e,n),t)}}class R{constructor(e){this.values=j.fromObject({max:e.max,min:e.min})}constrain(e){const t=this.values.get("max"),n=this.values.get("min");let r=e;return C(n)||(r=Math.max(r,n)),C(t)||(r=Math.min(r,t)),r}}class F{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.step=e,this.origin=t}constrain(e){const t=this.origin%this.step;return t+Math.round((e-t)/this.step)*this.step}}class I{constructor(e){this.text=e}evaluate(){return Number(this.text)}toString(){return this.text}}const B={"**":(e,t)=>Math.pow(e,t),"*":(e,t)=>e*t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t,"&":(e,t)=>e&t,"^":(e,t)=>e^t,"|":(e,t)=>e|t};class U{constructor(e,t,n){this.left=t,this.operator=e,this.right=n}evaluate(){const e=B[this.operator];if(!e)throw new Error("unexpected binary operator: '".concat(this.operator));return e(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const K={"+":e=>e,"-":e=>-e,"~":e=>~e};class q{constructor(e,t){this.operator=e,this.expression=t}evaluate(){const e=K[this.operator];if(!e)throw new Error("unexpected unary operator: '".concat(this.operator));return e(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function H(e){return(t,n)=>{for(let r=0;r<e.length;r++){const i=e[r](t,n);if(""!==i)return i}return""}}function $(e,t){var n;const r=e.substr(t).match(/^\s+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}function G(e,t){var n;const r=e.substr(t).match(/^[0-9]+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}function W(e,t){const n=e.substr(t,1);if(t+=1,"e"!==n.toLowerCase())return"";const r=function(e,t){const n=G(e,t);if(""!==n)return n;const r=e.substr(t,1);if("-"!==r&&"+"!==r)return"";const i=G(e,t+=1);return""===i?"":r+i}(e,t);return""===r?"":n+r}function Q(e,t){const n=e.substr(t,1);if("0"===n)return n;const r=function(e,t){const n=e.substr(t,1);return n.match(/^[1-9]$/)?n:""}(e,t);return t+=r.length,""===r?"":r+G(e,t)}const Y=H([function(e,t){const n=Q(e,t);if(t+=n.length,""===n)return"";const r=e.substr(t,1);if(t+=r.length,"."!==r)return"";const i=G(e,t);return n+r+i+W(e,t+=i.length)},function(e,t){const n=e.substr(t,1);if(t+=n.length,"."!==n)return"";const r=G(e,t);return t+=r.length,""===r?"":n+r+W(e,t)},function(e,t){const n=Q(e,t);return t+=n.length,""===n?"":n+W(e,t)}]);const X=H([function(e,t){const n=e.substr(t,2);if(t+=n.length,"0b"!==n.toLowerCase())return"";const r=function(e,t){var n;const r=e.substr(t).match(/^[01]+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}(e,t);return""===r?"":n+r},function(e,t){const n=e.substr(t,2);if(t+=n.length,"0o"!==n.toLowerCase())return"";const r=function(e,t){var n;const r=e.substr(t).match(/^[0-7]+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}(e,t);return""===r?"":n+r},function(e,t){const n=e.substr(t,2);if(t+=n.length,"0x"!==n.toLowerCase())return"";const r=function(e,t){var n;const r=e.substr(t).match(/^[0-9a-f]+/i);return null!==(n=r&&r[0])&&void 0!==n?n:""}(e,t);return""===r?"":n+r}]),Z=H([X,Y]);function J(e,t){var n;return null!==(n=function(e,t){const n=Z(e,t);return t+=n.length,""===n?null:{evaluable:new I(n),cursor:t}}(e,t))&&void 0!==n?n:function(e,t){const n=e.substr(t,1);if(t+=n.length,"("!==n)return null;const r=ne(e,t);if(!r)return null;t=r.cursor,t+=$(e,t).length;const i=e.substr(t,1);return t+=i.length,")"!==i?null:{evaluable:r.evaluable,cursor:t}}(e,t)}function ee(e,t,n){n+=$(t,n).length;const r=e.filter((e=>t.startsWith(e,n)))[0];return r?(n+=r.length,{cursor:n+=$(t,n).length,operator:r}):null}const te=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce(((e,t)=>function(e,t){return(n,r)=>{const i=e(n,r);if(!i)return null;r=i.cursor;let o=i.evaluable;for(;;){const i=ee(t,n,r);if(!i)break;r=i.cursor;const s=e(n,r);if(!s)return null;r=s.cursor,o=new U(i.operator,o,s.evaluable)}return o?{cursor:r,evaluable:o}:null}}(e,t)),(function e(t,n){const r=J(t,n);if(r)return r;const i=t.substr(n,1);if(n+=i.length,"+"!==i&&"-"!==i&&"~"!==i)return null;const o=e(t,n);return o?{cursor:n=o.cursor,evaluable:new q(i,o.evaluable)}:null}));function ne(e,t){return t+=$(e,t).length,te(e,t)}function re(e){var t;const n=function(e){const t=ne(e,0);return t?t.cursor+$(e,t.cursor).length!==e.length?null:t.evaluable:null}(e);return null!==(t=null===n||void 0===n?void 0:n.evaluate())&&void 0!==t?t:null}function ie(e){if("number"===typeof e)return e;if("string"===typeof e){const t=re(e);if(!C(t))return t}return 0}function oe(e){return String(e)}function se(e){return t=>t.toFixed(Math.max(Math.min(e,20),0))}function ae(e,t,n,r,i){return r+(e-t)/(n-t)*(i-r)}function le(e){return String(e.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function ue(e,t,n){return Math.min(Math.max(e,t),n)}function ce(e,t){return(e%t+t)%t}function de(e,t){return C(e.step)?Math.max(le(t),2):le(e.step)}function pe(e){var t;return null!==(t=e.step)&&void 0!==t?t:1}function he(e,t){var n;const r=Math.abs(null!==(n=e.step)&&void 0!==n?n:t);return 0===r?.1:Math.pow(10,Math.floor(Math.log10(r))-1)}function ve(e,t){return C(e.step)?null:new F(e.step,t)}function fe(e){return C(e.max)||C(e.min)?C(e.max)&&C(e.min)?null:new R({max:e.max,min:e.min}):new z({max:e.max,min:e.min})}function me(e,t){var n,r,i;return{formatter:null!==(n=e.format)&&void 0!==n?n:se(de(e,t)),keyScale:null!==(r=e.keyScale)&&void 0!==r?r:pe(e),pointerScale:null!==(i=e.pointerScale)&&void 0!==i?i:he(e,t)}}function be(e){return{format:e.optional.function,keyScale:e.optional.number,max:e.optional.number,min:e.optional.number,pointerScale:e.optional.number,step:e.optional.number}}function ge(e){return{constraint:e.constraint,textProps:j.fromObject(me(e.params,e.initialValue))}}class we{constructor(e){this.controller=e}get element(){return this.controller.view.element}get disabled(){return this.controller.viewProps.get("disabled")}set disabled(e){this.controller.viewProps.set("disabled",e)}get hidden(){return this.controller.viewProps.get("hidden")}set hidden(e){this.controller.viewProps.set("hidden",e)}dispose(){this.controller.viewProps.set("disposed",!0)}importState(e){return this.controller.importState(e)}exportState(){return this.controller.exportState()}}class _e{constructor(e){this.target=e}}class ye extends _e{constructor(e,t,n){super(e),this.value=t,this.last=null===n||void 0===n||n}}class Ce extends _e{constructor(e,t){super(e),this.expanded=t}}class xe extends _e{constructor(e,t){super(e),this.index=t}}class ke extends _e{constructor(e,t){super(e),this.native=t}}class Pe extends we{constructor(e){super(e),this.onValueChange_=this.onValueChange_.bind(this),this.emitter_=new D,this.controller.value.emitter.on("change",this.onValueChange_)}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get key(){return this.controller.value.binding.target.key}get tag(){return this.controller.tag}set tag(e){this.controller.tag=e}on(e,t){const n=t.bind(this);return this.emitter_.on(e,(e=>{n(e)}),{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}refresh(){this.controller.value.fetch()}onValueChange_(e){const t=this.controller.value;this.emitter_.emit("change",new ye(this,t.binding.target.read(),e.options.last))}}class Ee{constructor(e,t){this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.binding=t,this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_),this.emitter=new D}get rawValue(){return this.value_.rawValue}set rawValue(e){this.value_.rawValue=e}setRawValue(e,t){this.value_.setRawValue(e,t)}fetch(){this.value_.rawValue=this.binding.read()}push(){this.binding.write(this.value_.rawValue)}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.push(),this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}function Se(e){return t=>n=>{if(!t&&void 0===n)return{succeeded:!1,value:void 0};if(t&&void 0===n)return{succeeded:!0,value:void 0};const r=e(n);return void 0!==r?{succeeded:!0,value:r}:{succeeded:!1,value:void 0}}}function Ve(e){return{custom:t=>Se(t)(e),boolean:Se((e=>"boolean"===typeof e?e:void 0))(e),number:Se((e=>"number"===typeof e?e:void 0))(e),string:Se((e=>"string"===typeof e?e:void 0))(e),function:Se((e=>"function"===typeof e?e:void 0))(e),constant:t=>Se((e=>e===t?t:void 0))(e),raw:Se((e=>e))(e),object:t=>Se((e=>{var n;if(null!==(n=e)&&"object"===typeof n)return function(e,t){return Object.keys(t).reduce(((n,r)=>{if(void 0===n)return;const i=(0,t[r])(e[r]);return i.succeeded?Object.assign(Object.assign({},n),{[r]:i.value}):void 0}),{})}(e,t)}))(e),array:t=>Se((e=>{var n;if(Array.isArray(e))return n=t,e.reduce(((e,t)=>{if(void 0===e)return;const r=n(t);return r.succeeded&&void 0!==r.value?[...e,r.value]:void 0}),[])}))(e)}}const Le={optional:Ve(!0),required:Ve(!1)};function Me(e,t){const n=t(Le),r=Le.required.object(n)(e);return r.succeeded?r.value:void 0}function De(e,t,n,r){if(t&&!t(e))return!1;const i=Me(e,n);return!!i&&r(i)}function Oe(e,t){var n;return E(null!==(n=null===e||void 0===e?void 0:e())&&void 0!==n?n:{},t)}function Ne(e){return"value"in e}function Te(e){if(!x(e)||!("binding"in e))return!1;return S(e.binding)}const Ae="http://www.w3.org/2000/svg";function je(e){e.offsetHeight}function ze(e){return void 0!==e.ontouchstart}function Re(){return globalThis.document}const Fe={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function Ie(e,t){const n=e.createElementNS(Ae,"svg");return n.innerHTML=Fe[t],n}function Be(e,t,n){e.insertBefore(t,e.children[n])}function Ue(e){e.parentElement&&e.parentElement.removeChild(e)}function Ke(e){for(;e.children.length>0;)e.removeChild(e.children[0])}function qe(e){return e.relatedTarget?e.relatedTarget:"explicitOriginalTarget"in e?e.explicitOriginalTarget:null}function He(e,t){e.emitter.on("change",(e=>{t(e.rawValue)})),t(e.rawValue)}function $e(e,t,n){He(e.value(t),n)}const Ge="tp";function We(e){return(t,n)=>[Ge,"-",e,"v",t?"_".concat(t):"",n?"-".concat(n):""].join("")}const Qe=We("lbl");class Ye{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Qe()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("div");n.classList.add(Qe("l")),$e(t.props,"label",(t=>{C(t)?this.element.classList.add(Qe(void 0,"nol")):(this.element.classList.remove(Qe(void 0,"nol")),function(e){for(;e.childNodes.length>0;)e.removeChild(e.childNodes[0])}(n),n.appendChild(function(e,t){const n=e.createDocumentFragment();return t.split("\n").map((t=>e.createTextNode(t))).forEach(((t,r)=>{r>0&&n.appendChild(e.createElement("br")),n.appendChild(t)})),n}(e,t)))})),this.element.appendChild(n),this.labelElement=n;const r=e.createElement("div");r.classList.add(Qe("v")),this.element.appendChild(r),this.valueElement=r}}class Xe{constructor(e,t){this.props=t.props,this.valueController=t.valueController,this.viewProps=t.valueController.viewProps,this.view=new Ye(e,{props:t.props,viewProps:this.viewProps}),this.view.valueElement.appendChild(this.valueController.view.element)}importProps(e){return De(e,null,(e=>({label:e.optional.string})),(e=>(this.props.set("label",e.label),!0)))}exportProps(){return Oe(null,{label:this.props.get("label")})}}const Ze=We(""),Je={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class et{constructor(e){this.parent_=null,this.blade=e.blade,this.view=e.view,this.viewProps=e.viewProps;const t=this.view.element;this.blade.value("positions").emitter.on("change",(()=>{["veryfirst","first","last","verylast"].forEach((e=>{t.classList.remove(Ze(void 0,Je[e]))})),this.blade.get("positions").forEach((e=>{t.classList.add(Ze(void 0,Je[e]))}))})),this.viewProps.handleDispose((()=>{Ue(t)}))}get parent(){return this.parent_}set parent(e){this.parent_=e,this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}importState(e){return De(e,null,(e=>({disabled:e.required.boolean,hidden:e.required.boolean})),(e=>(this.viewProps.importState(e),!0)))}exportState(){return Oe(null,Object.assign({},this.viewProps.exportState()))}}class tt extends et{constructor(e,t){if(t.value!==t.valueController.value)throw L.shouldNeverHappen();const n=t.valueController.viewProps,r=new Xe(e,{blade:t.blade,props:t.props,valueController:t.valueController});super(Object.assign(Object.assign({},t),{view:new Ye(e,{props:t.props,viewProps:n}),viewProps:n})),this.labelController=r,this.value=t.value,this.valueController=t.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}importState(e){return De(e,(t=>{var n,r,i;return super.importState(t)&&this.labelController.importProps(t)&&(null===(i=null===(r=(n=this.valueController).importProps)||void 0===r?void 0:r.call(n,e))||void 0===i||i)}),(e=>({value:e.optional.raw})),(e=>(e.value&&(this.value.rawValue=e.value),!0)))}exportState(){var e,t,n;return Oe((()=>super.exportState()),Object.assign(Object.assign({value:this.value.rawValue},this.labelController.exportProps()),null!==(n=null===(t=(e=this.valueController).exportProps)||void 0===t?void 0:t.call(e))&&void 0!==n?n:{}))}}function nt(e){const t=Object.assign({},e);return delete t.value,t}class rt extends tt{constructor(e,t){super(e,t),this.tag=t.tag}importState(e){return De(e,(t=>super.importState(nt(e))),(e=>({tag:e.optional.string})),(e=>(this.tag=e.tag,!0)))}exportState(){return Oe((()=>nt(super.exportState())),{binding:{key:this.value.binding.target.key,value:this.value.binding.target.read()},tag:this.tag})}}class it extends rt{importState(e){return De(e,(e=>super.importState(e)),(e=>({binding:e.required.object({value:e.required.raw})})),(e=>(this.value.binding.inject(e.binding.value),this.value.fetch(),!0)))}}function ot(e){return Ne(e)&&function(e){if(!("binding"in e))return!1;const t=e.binding;return S(t)&&"read"in t&&"write"in t}(e.value)}function st(e,t){for(;e.length<t;)e.push(void 0)}function at(e){const t=e.indexOf(void 0);return t<0?e:e.slice(0,t)}class lt{constructor(e){this.emitter=new D,this.onTick_=this.onTick_.bind(this),this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.binding=e.binding,this.value_=A(function(e){const t=[];return st(t,e),t}(e.bufferSize)),this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_),this.ticker=e.ticker,this.ticker.emitter.on("tick",this.onTick_),this.fetch()}get rawValue(){return this.value_.rawValue}set rawValue(e){this.value_.rawValue=e}setRawValue(e,t){this.value_.setRawValue(e,t)}fetch(){this.value_.rawValue=function(e,t){const n=[...at(e),t];return n.length>e.length?n.splice(0,n.length-e.length):st(n,e.length),n}(this.value_.rawValue,this.binding.read())}onTick_(){this.fetch()}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}class ut extends rt{exportState(){return Oe((()=>super.exportState()),{binding:{readonly:!0}})}}function ct(e){return Ne(e)&&function(e){if(!("binding"in e))return!1;const t=e.binding;return S(t)&&"read"in t&&!("write"in t)}(e.value)}class dt extends we{get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get title(){var e;return null!==(e=this.controller.buttonController.props.get("title"))&&void 0!==e?e:""}set title(e){this.controller.buttonController.props.set("title",e)}on(e,t){const n=t.bind(this);return this.controller.buttonController.emitter.on(e,(e=>{n(new ke(this,e.nativeEvent))})),this}off(e,t){return this.controller.buttonController.emitter.off(e,t),this}}function pt(e,t){return n=>{!function(e,t,n){n?e.classList.add(t):e.classList.remove(t)}(e,t,n)}}function ht(e,t){He(e,(e=>{t.textContent=null!==e&&void 0!==e?e:""}))}const vt=We("btn");class ft{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(vt()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("button");n.classList.add(vt("b")),t.viewProps.bindDisabled(n),this.element.appendChild(n),this.buttonElement=n;const r=e.createElement("div");r.classList.add(vt("t")),ht(t.props.value("title"),r),this.buttonElement.appendChild(r)}}class mt{constructor(e,t){this.emitter=new D,this.onClick_=this.onClick_.bind(this),this.props=t.props,this.viewProps=t.viewProps,this.view=new ft(e,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}importProps(e){return De(e,null,(e=>({title:e.optional.string})),(e=>(this.props.set("title",e.title),!0)))}exportProps(){return Oe(null,{title:this.props.get("title")})}onClick_(e){this.emitter.emit("click",{nativeEvent:e,sender:this})}}class bt extends et{constructor(e,t){const n=new mt(e,{props:t.buttonProps,viewProps:t.viewProps}),r=new Xe(e,{blade:t.blade,props:t.labelProps,valueController:n});super({blade:t.blade,view:r.view,viewProps:t.viewProps}),this.buttonController=n,this.labelController=r}importState(e){return De(e,(e=>super.importState(e)&&this.buttonController.importProps(e)&&this.labelController.importProps(e)),(()=>({})),(()=>!0))}exportState(){return Oe((()=>super.exportState()),Object.assign(Object.assign({},this.buttonController.exportProps()),this.labelController.exportProps()))}}class gt{constructor(e){const[t,n]=e.split("-"),r=t.split(".");this.major=parseInt(r[0],10),this.minor=parseInt(r[1],10),this.patch=parseInt(r[2],10),this.prerelease=null!==n&&void 0!==n?n:null}toString(){const e=[this.major,this.minor,this.patch].join(".");return null!==this.prerelease?[e,this.prerelease].join("-"):e}}const wt=new gt("2.0.5");function _t(e){return Object.assign({core:wt},e)}const yt=_t({id:"button",type:"blade",accept(e){const t=Me(e,(e=>({title:e.required.string,view:e.required.constant("button"),label:e.optional.string})));return t?{params:t}:null},controller:e=>new bt(e.document,{blade:e.blade,buttonProps:j.fromObject({title:e.params.title}),labelProps:j.fromObject({label:e.params.label}),viewProps:e.viewProps}),api:e=>e.controller instanceof bt?new dt(e.controller):null});class Ct{constructor(e,t){this.onRackValueChange_=this.onRackValueChange_.bind(this),this.controller_=e,this.emitter_=new D,this.pool_=t;this.controller_.rack.emitter.on("valuechange",this.onRackValueChange_)}get children(){return this.controller_.rack.children.map((e=>this.pool_.createApi(e)))}addBinding(e,t,n){const r=null!==n&&void 0!==n?n:{},i=this.controller_.element.ownerDocument,o=this.pool_.createBinding(i,function(e,t){if(!M.isBindable(e))throw L.notBindable();return new M(e,t)}(e,t),r),s=this.pool_.createBindingApi(o);return this.add(s,r.index)}addFolder(e){return function(e,t){return e.addBlade(Object.assign(Object.assign({},t),{view:"folder"}))}(this,e)}addButton(e){return function(e,t){return e.addBlade(Object.assign(Object.assign({},t),{view:"button"}))}(this,e)}addTab(e){return function(e,t){return e.addBlade(Object.assign(Object.assign({},t),{view:"tab"}))}(this,e)}add(e,t){const n=e.controller;return this.controller_.rack.add(n,t),e}remove(e){this.controller_.rack.remove(e.controller)}addBlade(e){const t=this.controller_.element.ownerDocument,n=this.pool_.createBlade(t,e),r=this.pool_.createApi(n);return this.add(r,e.index)}on(e,t){const n=t.bind(this);return this.emitter_.on(e,(e=>{n(e)}),{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}refresh(){this.children.forEach((e=>{var t;x(t=e)&&"refresh"in t&&"function"===typeof t.refresh&&e.refresh()}))}onRackValueChange_(e){const t=e.bladeController,n=this.pool_.createApi(t),r=Te(t.value)?t.value.binding:null;this.emitter_.emit("change",new ye(n,r?r.target.read():t.value.rawValue,e.options.last))}}class xt extends we{constructor(e,t){super(e),this.rackApi_=new Ct(e.rackController,t)}refresh(){this.rackApi_.refresh()}}class kt extends et{constructor(e){super({blade:e.blade,view:e.view,viewProps:e.rackController.viewProps}),this.rackController=e.rackController}importState(e){return De(e,(e=>super.importState(e)),(e=>({children:e.required.array(e.required.raw)})),(e=>this.rackController.rack.children.every(((t,n)=>t.importState(e.children[n])))))}exportState(){return Oe((()=>super.exportState()),{children:this.rackController.rack.children.map((e=>e.exportState()))})}}function Pt(e){return"rackController"in e}class Et{constructor(e){this.emitter=new D,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=e}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(e){for(const t of this.allItems())if(e(t))return t;return null}includes(e){return this.cache_.has(e)}add(e,t){if(this.includes(e))throw L.shouldNeverHappen();const n=void 0!==t?t:this.items_.length;this.items_.splice(n,0,e),this.cache_.add(e);const r=this.extract_(e);r&&(r.emitter.on("add",this.onSubListAdd_),r.emitter.on("remove",this.onSubListRemove_),r.allItems().forEach((e=>{this.cache_.add(e)}))),this.emitter.emit("add",{index:n,item:e,root:this,target:this})}remove(e){const t=this.items_.indexOf(e);if(t<0)return;this.items_.splice(t,1),this.cache_.delete(e);const n=this.extract_(e);n&&(n.allItems().forEach((e=>{this.cache_.delete(e)})),n.emitter.off("add",this.onSubListAdd_),n.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:t,item:e,root:this,target:this})}onSubListAdd_(e){this.cache_.add(e.item),this.emitter.emit("add",{index:e.index,item:e.item,root:this,target:e.target})}onSubListRemove_(e){this.cache_.delete(e.item),this.emitter.emit("remove",{index:e.index,item:e.item,root:this,target:e.target})}}function St(e){return Pt(e)?e.rackController.rack.bcSet_:null}class Vt{constructor(e){var t,n;this.emitter=new D,this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onRackLayout_=this.onRackLayout_.bind(this),this.onRackValueChange_=this.onRackValueChange_.bind(this),this.blade_=null!==(t=e.blade)&&void 0!==t?t:null,null===(n=this.blade_)||void 0===n||n.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=e.viewProps,this.bcSet_=new Et(St),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(e,t){var n;null===(n=e.parent)||void 0===n||n.remove(e),e.parent=this,this.bcSet_.add(e,t)}remove(e){e.parent=null,this.bcSet_.remove(e)}find(e){return this.bcSet_.allItems().filter(e)}onSetAdd_(e){this.updatePositions_();const t=e.target===e.root;if(this.emitter.emit("add",{bladeController:e.item,index:e.index,root:t,sender:this}),!t)return;const n=e.item;if(n.viewProps.emitter.on("change",this.onChildViewPropsChange_),n.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),n.viewProps.handleDispose(this.onChildDispose_),Ne(n))n.value.emitter.on("change",this.onChildValueChange_);else if(Pt(n)){const e=n.rackController.rack;if(e){const t=e.emitter;t.on("layout",this.onRackLayout_),t.on("valuechange",this.onRackValueChange_)}}}onSetRemove_(e){this.updatePositions_();const t=e.target===e.root;if(this.emitter.emit("remove",{bladeController:e.item,root:t,sender:this}),!t)return;const n=e.item;if(Ne(n))n.value.emitter.off("change",this.onChildValueChange_);else if(Pt(n)){const e=n.rackController.rack;if(e){const t=e.emitter;t.off("layout",this.onRackLayout_),t.off("valuechange",this.onRackValueChange_)}}}updatePositions_(){const e=this.bcSet_.items.filter((e=>!e.viewProps.get("hidden"))),t=e[0],n=e[e.length-1];this.bcSet_.items.forEach((e=>{const r=[];e===t&&(r.push("first"),this.blade_&&!this.blade_.get("positions").includes("veryfirst")||r.push("veryfirst")),e===n&&(r.push("last"),this.blade_&&!this.blade_.get("positions").includes("verylast")||r.push("verylast")),e.blade.set("positions",r)}))}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter((e=>e.viewProps.get("disposed"))).forEach((e=>{this.bcSet_.remove(e)}))}onChildValueChange_(e){const t=function(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(Ne(r)&&r.value===t)return r}return null}(this.find(Ne),e.sender);if(!t)throw L.alreadyDisposed();this.emitter.emit("valuechange",{bladeController:t,options:e.options,sender:this})}onRackLayout_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onRackValueChange_(e){this.emitter.emit("valuechange",{bladeController:e.bladeController,options:e.options,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class Lt{constructor(e){this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.element=e.element,this.viewProps=e.viewProps;const t=new Vt({blade:e.root?void 0:e.blade,viewProps:e.viewProps});t.emitter.on("add",this.onRackAdd_),t.emitter.on("remove",this.onRackRemove_),this.rack=t,this.viewProps.handleDispose((()=>{for(let e=this.rack.children.length-1;e>=0;e--){this.rack.children[e].viewProps.set("disposed",!0)}}))}onRackAdd_(e){e.root&&Be(this.element,e.bladeController.view.element,e.index)}onRackRemove_(e){e.root&&Ue(e.bladeController.view.element)}}function Mt(){return new j({positions:A([],{equals:P})})}class Dt extends j{constructor(e){super(e)}static create(e){const t={completed:!0,expanded:e,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},n=j.createCore(t);return new Dt(n)}get styleExpanded(){var e;return null!==(e=this.get("temporaryExpanded"))&&void 0!==e?e:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const e=this.get("expandedHeight");return this.get("shouldFixHeight")&&!C(e)?"".concat(e,"px"):"auto"}bindExpandedClass(e,t){const n=()=>{this.styleExpanded?e.classList.add(t):e.classList.remove(t)};$e(this,"expanded",n),$e(this,"temporaryExpanded",n)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function Ot(e,t){t.style.height=e.styleHeight}function Nt(e,t){e.value("expanded").emitter.on("beforechange",(()=>{if(e.set("completed",!1),C(e.get("expandedHeight"))){const n=function(e,t){let n=0;return function(e,t){const n=e.style.transition;e.style.transition="none",t(),e.style.transition=n}(t,(()=>{e.set("expandedHeight",null),e.set("temporaryExpanded",!0),je(t),n=t.clientHeight,e.set("temporaryExpanded",null),je(t)})),n}(e,t);n>0&&e.set("expandedHeight",n)}e.set("shouldFixHeight",!0),je(t)})),e.emitter.on("change",(()=>{Ot(e,t)})),Ot(e,t),t.addEventListener("transitionend",(t=>{"height"===t.propertyName&&e.cleanUpTransition()}))}class Tt extends xt{constructor(e,t){super(e,t),this.emitter_=new D,this.controller.foldable.value("expanded").emitter.on("change",(e=>{this.emitter_.emit("fold",new Ce(this,e.sender.rawValue))})),this.rackApi_.on("change",(e=>{this.emitter_.emit("change",e)}))}get expanded(){return this.controller.foldable.get("expanded")}set expanded(e){this.controller.foldable.set("expanded",e)}get title(){return this.controller.props.get("title")}set title(e){this.controller.props.set("title",e)}get children(){return this.rackApi_.children}addBinding(e,t,n){return this.rackApi_.addBinding(e,t,n)}addFolder(e){return this.rackApi_.addFolder(e)}addButton(e){return this.rackApi_.addButton(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,t){return this.rackApi_.add(e,t)}remove(e){this.rackApi_.remove(e)}addBlade(e){return this.rackApi_.addBlade(e)}on(e,t){const n=t.bind(this);return this.emitter_.on(e,(e=>{n(e)}),{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}}const At=We("cnt");class jt{constructor(e,t){var n;this.className_=We(null!==(n=t.viewName)&&void 0!==n?n:"fld"),this.element=e.createElement("div"),this.element.classList.add(this.className_(),At()),t.viewProps.bindClassModifiers(this.element),this.foldable_=t.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),$e(this.foldable_,"completed",pt(this.element,this.className_(void 0,"cpl")));const r=e.createElement("button");r.classList.add(this.className_("b")),$e(t.props,"title",(e=>{C(e)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))})),t.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const i=e.createElement("div");i.classList.add(this.className_("i")),this.element.appendChild(i);const o=e.createElement("div");o.classList.add(this.className_("t")),ht(t.props.value("title"),o),this.buttonElement.appendChild(o),this.titleElement=o;const s=e.createElement("div");s.classList.add(this.className_("m")),this.buttonElement.appendChild(s);const a=e.createElement("div");a.classList.add(this.className_("c")),this.element.appendChild(a),this.containerElement=a}}class zt extends kt{constructor(e,t){var n;const r=Dt.create(null===(n=t.expanded)||void 0===n||n),i=new jt(e,{foldable:r,props:t.props,viewName:t.root?"rot":void 0,viewProps:t.viewProps});super(Object.assign(Object.assign({},t),{rackController:new Lt({blade:t.blade,element:i.containerElement,root:t.root,viewProps:t.viewProps}),view:i})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=t.props,this.foldable=r,Nt(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",(()=>{this.foldable.cleanUpTransition()})),this.rackController.rack.emitter.on("remove",(()=>{this.foldable.cleanUpTransition()})),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}importState(e){return De(e,(e=>super.importState(e)),(e=>({expanded:e.required.boolean,title:e.optional.string})),(e=>(this.foldable.set("expanded",e.expanded),this.props.set("title",e.title),!0)))}exportState(){return Oe((()=>super.exportState()),{expanded:this.foldable.get("expanded"),title:this.props.get("title")})}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const Rt=_t({id:"folder",type:"blade",accept(e){const t=Me(e,(e=>({title:e.required.string,view:e.required.constant("folder"),expanded:e.optional.boolean})));return t?{params:t}:null},controller:e=>new zt(e.document,{blade:e.blade,expanded:e.params.expanded,props:j.fromObject({title:e.params.title}),viewProps:e.viewProps}),api:e=>e.controller instanceof zt?new Tt(e.controller,e.pool):null}),Ft=We("");function It(e,t){return pt(e,Ft(void 0,t))}class Bt extends j{constructor(e){var t,n;super(e),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=(n=A(this.getGlobalDisabled_()),[new T(n),(e,t)=>{n.setRawValue(e,t)}]),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),null===(t=this.get("parent"))||void 0===t||t.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(e){var t,n,r;const i=null!==e&&void 0!==e?e:{};return new Bt(j.createCore({disabled:null!==(t=i.disabled)&&void 0!==t&&t,disposed:!1,hidden:null!==(n=i.hidden)&&void 0!==n&&n,parent:null!==(r=i.parent)&&void 0!==r?r:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(e){He(this.globalDisabled_,It(e,"disabled")),$e(this,"hidden",It(e,"hidden"))}bindDisabled(e){He(this.globalDisabled_,(t=>{e.disabled=t}))}bindTabIndex(e){He(this.globalDisabled_,(t=>{e.tabIndex=t?-1:0}))}handleDispose(e){this.value("disposed").emitter.on("change",(t=>{t&&e()}))}importState(e){this.set("disabled",e.disabled),this.set("hidden",e.hidden)}exportState(){return{disabled:this.get("disabled"),hidden:this.get("hidden")}}getGlobalDisabled_(){const e=this.get("parent");return!!e&&e.globalDisabled.rawValue||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(e){var t;const n=e.previousRawValue;null===n||void 0===n||n.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),null===(t=this.get("parent"))||void 0===t||t.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}const Ut=We("tbp");class Kt{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Ut()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("div");n.classList.add(Ut("c")),this.element.appendChild(n),this.containerElement=n}}const qt=We("tbi");class Ht{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(qt()),t.viewProps.bindClassModifiers(this.element),$e(t.props,"selected",(e=>{e?this.element.classList.add(qt(void 0,"sel")):this.element.classList.remove(qt(void 0,"sel"))}));const n=e.createElement("button");n.classList.add(qt("b")),t.viewProps.bindDisabled(n),this.element.appendChild(n),this.buttonElement=n;const r=e.createElement("div");r.classList.add(qt("t")),ht(t.props.value("title"),r),this.buttonElement.appendChild(r),this.titleElement=r}}class $t{constructor(e,t){this.emitter=new D,this.onClick_=this.onClick_.bind(this),this.props=t.props,this.viewProps=t.viewProps,this.view=new Ht(e,{props:t.props,viewProps:t.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class Gt extends kt{constructor(e,t){const n=new Kt(e,{viewProps:t.viewProps});super(Object.assign(Object.assign({},t),{rackController:new Lt({blade:t.blade,element:n.containerElement,viewProps:t.viewProps}),view:n})),this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new $t(e,{props:t.itemProps,viewProps:Bt.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.props=t.props,$e(this.props,"selected",(e=>{this.itemController.props.set("selected",e),this.viewProps.set("hidden",!e)}))}get itemController(){return this.ic_}importState(e){return De(e,(e=>super.importState(e)),(e=>({selected:e.required.boolean,title:e.required.string})),(e=>(this.ic_.props.set("selected",e.selected),this.ic_.props.set("title",e.title),!0)))}exportState(){return Oe((()=>super.exportState()),{selected:this.ic_.props.get("selected"),title:this.ic_.props.get("title")})}onItemClick_(){this.props.set("selected",!0)}}class Wt extends xt{constructor(e,t){super(e,t),this.emitter_=new D,this.onSelect_=this.onSelect_.bind(this),this.pool_=t,this.rackApi_.on("change",(e=>{this.emitter_.emit("change",e)})),this.controller.tab.selectedIndex.emitter.on("change",this.onSelect_)}get pages(){return this.rackApi_.children}addPage(e){const t=this.controller.view.element.ownerDocument,n=new Gt(t,{blade:Mt(),itemProps:j.fromObject({selected:!1,title:e.title}),props:j.fromObject({selected:!1}),viewProps:Bt.create()}),r=this.pool_.createApi(n);return this.rackApi_.add(r,e.index)}removePage(e){this.rackApi_.remove(this.rackApi_.children[e])}on(e,t){const n=t.bind(this);return this.emitter_.on(e,(e=>{n(e)}),{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}onSelect_(e){this.emitter_.emit("select",new xe(this,e.rawValue))}}class Qt extends xt{get title(){var e;return null!==(e=this.controller.itemController.props.get("title"))&&void 0!==e?e:""}set title(e){this.controller.itemController.props.set("title",e)}get selected(){return this.controller.props.get("selected")}set selected(e){this.controller.props.set("selected",e)}get children(){return this.rackApi_.children}addButton(e){return this.rackApi_.addButton(e)}addFolder(e){return this.rackApi_.addFolder(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,t){this.rackApi_.add(e,t)}remove(e){this.rackApi_.remove(e)}addBinding(e,t,n){return this.rackApi_.addBinding(e,t,n)}addBlade(e){return this.rackApi_.addBlade(e)}}class Yt{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=A(!0),this.selectedIndex=A(-1),this.items_=[]}add(e,t){const n=null!==t&&void 0!==t?t:this.items_.length;this.items_.splice(n,0,e),e.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(e){const t=this.items_.indexOf(e);t<0||(this.items_.splice(t,1),e.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(0===this.items_.length)return this.selectedIndex.rawValue=-1,void(this.empty.rawValue=!0);const e=this.items_.findIndex((e=>e.rawValue));e<0?(this.items_.forEach(((e,t)=>{e.rawValue=0===t})),this.selectedIndex.rawValue=0):(this.items_.forEach(((t,n)=>{t.rawValue=n===e})),this.selectedIndex.rawValue=e),this.empty.rawValue=!1}onItemSelectedChange_(e){if(e.rawValue){const t=this.items_.findIndex((t=>t===e.sender));this.items_.forEach(((e,n)=>{e.rawValue=n===t})),this.selectedIndex.rawValue=t}else this.keepSelection_()}}const Xt=We("tab");class Zt{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Xt(),At()),t.viewProps.bindClassModifiers(this.element),He(t.empty,pt(this.element,Xt(void 0,"nop")));const n=e.createElement("div");n.classList.add(Xt("t")),this.element.appendChild(n),this.itemsElement=n;const r=e.createElement("div");r.classList.add(Xt("i")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(Xt("c")),this.element.appendChild(i),this.contentsElement=i}}class Jt extends kt{constructor(e,t){const n=new Yt,r=new Zt(e,{empty:n.empty,viewProps:t.viewProps});super({blade:t.blade,rackController:new Lt({blade:t.blade,element:r.contentsElement,viewProps:t.viewProps}),view:r}),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const i=this.rackController.rack;i.emitter.on("add",this.onRackAdd_),i.emitter.on("remove",this.onRackRemove_),this.tab=n}add(e,t){this.rackController.rack.add(e,t)}remove(e){this.rackController.rack.remove(this.rackController.rack.children[e])}onRackAdd_(e){if(!e.root)return;const t=e.bladeController;Be(this.view.itemsElement,t.itemController.view.element,e.index),t.itemController.viewProps.set("parent",this.viewProps),this.tab.add(t.props.value("selected"))}onRackRemove_(e){if(!e.root)return;const t=e.bladeController;Ue(t.itemController.view.element),t.itemController.viewProps.set("parent",null),this.tab.remove(t.props.value("selected"))}}const en=_t({id:"tab",type:"blade",accept(e){const t=Me(e,(e=>({pages:e.required.array(e.required.object({title:e.required.string})),view:e.required.constant("tab")})));return t&&0!==t.pages.length?{params:t}:null},controller(e){const t=new Jt(e.document,{blade:e.blade,viewProps:e.viewProps});return e.params.pages.forEach((n=>{const r=new Gt(e.document,{blade:Mt(),itemProps:j.fromObject({selected:!1,title:n.title}),props:j.fromObject({selected:!1}),viewProps:Bt.create()});t.add(r)})),t},api:e=>e.controller instanceof Jt?new Wt(e.controller,e.pool):e.controller instanceof Gt?new Qt(e.controller,e.pool):null});class tn extends Pe{get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}}class nn{constructor(){this.disabled=!1,this.emitter=new D}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class rn{constructor(e,t){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=e,this.emitter=new D,this.interval_=t,this.setTimer_()}get disabled(){return this.disabled_}set disabled(e){this.disabled_=e,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(null===this.timerId_)return;const e=this.doc_.defaultView;e&&e.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const e=this.doc_.defaultView;e&&(this.timerId_=e.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class on{constructor(e){this.constraints=e}constrain(e){return this.constraints.reduce(((e,t)=>t.constrain(e)),e)}}function sn(e,t){if(e instanceof t)return e;if(e instanceof on){const n=e.constraints.reduce(((e,n)=>e||(n instanceof t?n:null)),null);if(n)return n}return null}class an{constructor(e){this.values=j.fromObject({options:e})}constrain(e){const t=this.values.get("options");if(0===t.length)return e;return t.filter((t=>t.value===e)).length>0?e:t[0].value}}function ln(e){var t;const n=Le;return Array.isArray(e)?null===(t=Me({items:e},(e=>({items:e.required.array(e.required.object({text:e.required.string,value:e.required.raw}))}))))||void 0===t?void 0:t.items:"object"===typeof e?n.required.raw(e).value:void 0}function un(e){if(Array.isArray(e))return e;const t=[];return Object.keys(e).forEach((n=>{t.push({text:n,value:e[n]})})),t}function cn(e){return C(e)?null:new an(un(e))}const dn=We("lst");class pn{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.props_=t.props,this.element=e.createElement("div"),this.element.classList.add(dn()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("select");n.classList.add(dn("s")),t.viewProps.bindDisabled(n),this.element.appendChild(n),this.selectElement=n;const r=e.createElement("div");r.classList.add(dn("m")),r.appendChild(Ie(e,"dropdown")),this.element.appendChild(r),t.value.emitter.on("change",this.onValueChange_),this.value_=t.value,$e(this.props_,"options",(t=>{Ke(this.selectElement),t.forEach((t=>{const n=e.createElement("option");n.textContent=t.text,this.selectElement.appendChild(n)})),this.update_()}))}update_(){const e=this.props_.get("options").map((e=>e.value));this.selectElement.selectedIndex=e.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}}class hn{constructor(e,t){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.view=new pn(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(e){const t=e.currentTarget;this.value.rawValue=this.props.get("options")[t.selectedIndex].value}importProps(e){return De(e,null,(e=>({options:e.required.custom(ln)})),(e=>(this.props.set("options",un(e.options)),!0)))}exportProps(){return Oe(null,{options:this.props.get("options")})}}const vn=We("pop");class fn{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(vn()),t.viewProps.bindClassModifiers(this.element),He(t.shows,pt(this.element,vn(void 0,"v")))}}class mn{constructor(e,t){this.shows=A(!1),this.viewProps=t.viewProps,this.view=new fn(e,{shows:this.shows,viewProps:this.viewProps})}}const bn=We("txt");class gn{constructor(e,t){this.onChange_=this.onChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(bn()),t.viewProps.bindClassModifiers(this.element),this.props_=t.props,this.props_.emitter.on("change",this.onChange_);const n=e.createElement("input");n.classList.add(bn("i")),n.type="text",t.viewProps.bindDisabled(n),this.element.appendChild(n),this.inputElement=n,t.value.emitter.on("change",this.onChange_),this.value_=t.value,this.refresh()}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value_.rawValue)}onChange_(){this.refresh()}}class wn{constructor(e,t){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=t.parser,this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.view=new gn(e,{props:t.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){const t=e.currentTarget.value,n=this.parser_(t);C(n)||(this.value.rawValue=n),this.view.refresh()}}function _n(e){return"false"!==e&&!!e}function yn(e){return function(e){return String(e)}(e)}const Cn=se(0);function xn(e){return Cn(e)+"%"}function kn(e){return String(e)}function Pn(e){return e}function En(e){let{primary:t,secondary:n,forward:r,backward:i}=e,o=!1;function s(e){o||(o=!0,e(),o=!1)}t.emitter.on("change",(e=>{s((()=>{n.setRawValue(r(t.rawValue,n.rawValue),e.options)}))})),n.emitter.on("change",(e=>{s((()=>{t.setRawValue(i(t.rawValue,n.rawValue),e.options)})),s((()=>{n.setRawValue(r(t.rawValue,n.rawValue),e.options)}))})),s((()=>{n.setRawValue(r(t.rawValue,n.rawValue),{forceEmit:!1,last:!0})}))}function Sn(e,t){const n=e*(t.altKey?.1:1)*(t.shiftKey?10:1);return t.upKey?+n:t.downKey?-n:0}function Vn(e){return{altKey:e.altKey,downKey:"ArrowDown"===e.key,shiftKey:e.shiftKey,upKey:"ArrowUp"===e.key}}function Ln(e){return{altKey:e.altKey,downKey:"ArrowLeft"===e.key,shiftKey:e.shiftKey,upKey:"ArrowRight"===e.key}}function Mn(e){return function(e){return"ArrowUp"===e||"ArrowDown"===e}(e)||"ArrowLeft"===e||"ArrowRight"===e}function Dn(e,t){var n,r;const i=t.ownerDocument.defaultView,o=t.getBoundingClientRect();return{x:e.pageX-((null!==(n=i&&i.scrollX)&&void 0!==n?n:0)+o.left),y:e.pageY-((null!==(r=i&&i.scrollY)&&void 0!==r?r:0)+o.top)}}class On{constructor(e){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=e,this.emitter=new D,e.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),e.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),e.addEventListener("touchend",this.onTouchEnd_),e.addEventListener("mousedown",this.onMouseDown_)}computePosition_(e){const t=this.elem_.getBoundingClientRect();return{bounds:{width:t.width,height:t.height},point:e?{x:e.x,y:e.y}:null}}onMouseDown_(e){var t;e.preventDefault(),null===(t=e.currentTarget)||void 0===t||t.focus();const n=this.elem_.ownerDocument;n.addEventListener("mousemove",this.onDocumentMouseMove_),n.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(Dn(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseMove_(e){this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(Dn(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseUp_(e){const t=this.elem_.ownerDocument;t.removeEventListener("mousemove",this.onDocumentMouseMove_),t.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(Dn(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onTouchStart_(e){e.preventDefault();const t=e.targetTouches.item(0),n=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(t?{x:t.clientX-n.left,y:t.clientY-n.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=t}onTouchMove_(e){const t=e.targetTouches.item(0),n=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(t?{x:t.clientX-n.left,y:t.clientY-n.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=t}onTouchEnd_(e){var t;const n=null!==(t=e.targetTouches.item(0))&&void 0!==t?t:this.lastTouch_,r=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-r.left,y:n.clientY-r.top}:void 0),sender:this,shiftKey:e.shiftKey})}}const Nn=We("txt");class Tn{constructor(e,t){this.onChange_=this.onChange_.bind(this),this.props_=t.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(Nn(),Nn(void 0,"num")),t.arrayPosition&&this.element.classList.add(Nn(void 0,t.arrayPosition)),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("input");n.classList.add(Nn("i")),n.type="text",t.viewProps.bindDisabled(n),this.element.appendChild(n),this.inputElement=n,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=t.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Nn()),this.inputElement.classList.add(Nn("i"));const r=e.createElement("div");r.classList.add(Nn("k")),this.element.appendChild(r),this.knobElement=r;const i=e.createElementNS(Ae,"svg");i.classList.add(Nn("g")),this.knobElement.appendChild(i);const o=e.createElementNS(Ae,"path");o.classList.add(Nn("gb")),i.appendChild(o),this.guideBodyElem_=o;const s=e.createElementNS(Ae,"path");s.classList.add(Nn("gh")),i.appendChild(s),this.guideHeadElem_=s;const a=e.createElement("div");a.classList.add(We("tt")()),this.knobElement.appendChild(a),this.tooltipElem_=a,t.value.emitter.on("change",this.onChange_),this.value=t.value,this.refresh()}onDraggingChange_(e){if(null===e.rawValue)return void this.element.classList.remove(Nn(void 0,"drg"));this.element.classList.add(Nn(void 0,"drg"));const t=e.rawValue/this.props_.get("pointerScale"),n=t+(t>0?-1:t<0?1:0),r=ue(-n,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",["M ".concat(n+r,",0 L").concat(n,",4 L").concat(n+r,",8"),"M ".concat(t,",-1 L").concat(t,",9")].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d","M 0,4 L".concat(t,",4"));const i=this.props_.get("formatter");this.tooltipElem_.textContent=i(this.value.rawValue),this.tooltipElem_.style.left="".concat(t,"px")}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value.rawValue)}onChange_(){this.refresh()}}class An{constructor(e,t){var n;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.parser_=t.parser,this.props=t.props,this.sliderProps_=null!==(n=t.sliderProps)&&void 0!==n?n:null,this.value=t.value,this.viewProps=t.viewProps,this.dragging_=A(null),this.view=new Tn(e,{arrayPosition:t.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const r=new On(this.view.knobElement);r.emitter.on("down",this.onPointerDown_),r.emitter.on("move",this.onPointerMove_),r.emitter.on("up",this.onPointerUp_)}constrainValue_(e){var t,n;const r=null===(t=this.sliderProps_)||void 0===t?void 0:t.get("min"),i=null===(n=this.sliderProps_)||void 0===n?void 0:n.get("max");let o=e;return void 0!==r&&(o=Math.max(o,r)),void 0!==i&&(o=Math.min(o,i)),o}onInputChange_(e){const t=e.currentTarget.value,n=this.parser_(t);C(n)||(this.value.rawValue=this.constrainValue_(n)),this.view.refresh()}onInputKeyDown_(e){const t=Sn(this.props.get("keyScale"),Vn(e));0!==t&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+t),{forceEmit:!1,last:!1})}onInputKeyUp_(e){0!==Sn(this.props.get("keyScale"),Vn(e))&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(e){if(!e.point)return null;const t=e.point.x-e.bounds.width/2;return this.constrainValue_(this.originRawValue_+t*this.props.get("pointerScale"))}onPointerMove_(e){const t=this.computeDraggingValue_(e.data);null!==t&&(this.value.setRawValue(t,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(e){const t=this.computeDraggingValue_(e.data);null!==t&&(this.value.setRawValue(t,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const jn=We("sld");class zn{constructor(e,t){this.onChange_=this.onChange_.bind(this),this.props_=t.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(jn()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("div");n.classList.add(jn("t")),t.viewProps.bindTabIndex(n),this.element.appendChild(n),this.trackElement=n;const r=e.createElement("div");r.classList.add(jn("k")),this.trackElement.appendChild(r),this.knobElement=r,t.value.emitter.on("change",this.onChange_),this.value=t.value,this.update_()}update_(){const e=ue(ae(this.value.rawValue,this.props_.get("min"),this.props_.get("max"),0,100),0,100);this.knobElement.style.width="".concat(e,"%")}onChange_(){this.update_()}}class Rn{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.props=t.props,this.view=new zn(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new On(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){e.point&&this.value.setRawValue(ae(ue(e.point.x,0,e.bounds.width),0,e.bounds.width,this.props.get("min"),this.props.get("max")),t)}onPointerDownOrMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const t=Sn(this.props.get("keyScale"),Ln(e));0!==t&&this.value.setRawValue(this.value.rawValue+t,{forceEmit:!1,last:!1})}onKeyUp_(e){0!==Sn(this.props.get("keyScale"),Ln(e))&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Fn=We("sldtxt");class In{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Fn());const n=e.createElement("div");n.classList.add(Fn("s")),this.sliderView_=t.sliderView,n.appendChild(this.sliderView_.element),this.element.appendChild(n);const r=e.createElement("div");r.classList.add(Fn("t")),this.textView_=t.textView,r.appendChild(this.textView_.element),this.element.appendChild(r)}}class Bn{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.sliderC_=new Rn(e,{props:t.sliderProps,value:t.value,viewProps:this.viewProps}),this.textC_=new An(e,{parser:t.parser,props:t.textProps,sliderProps:t.sliderProps,value:t.value,viewProps:t.viewProps}),this.view=new In(e,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}importProps(e){return De(e,null,(e=>({max:e.required.number,min:e.required.number})),(e=>{const t=this.sliderC_.props;return t.set("max",e.max),t.set("min",e.min),!0}))}exportProps(){const e=this.sliderC_.props;return Oe(null,{max:e.get("max"),min:e.get("min")})}}function Un(e){return{sliderProps:new j({keyScale:e.keyScale,max:e.max,min:e.min}),textProps:new j({formatter:A(e.formatter),keyScale:e.keyScale,pointerScale:A(e.pointerScale)})}}const Kn={containerUnitSize:"cnt-usz"};function qn(e){return"--".concat(Kn[e])}function Hn(e){return be(e)}function $n(e){if(k(e))return Me(e,Hn)}function Gn(e,t){if(!e)return;const n=[],r=ve(e,t);r&&n.push(r);const i=fe(e);return i&&n.push(i),new on(n)}function Wn(e){if("inline"===e||"popup"===e)return e}function Qn(e,t){e.write(t)}const Yn=We("ckb");class Xn{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Yn()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("label");n.classList.add(Yn("l")),this.element.appendChild(n),this.labelElement=n;const r=e.createElement("input");r.classList.add(Yn("i")),r.type="checkbox",this.labelElement.appendChild(r),this.inputElement=r,t.viewProps.bindDisabled(this.inputElement);const i=e.createElement("div");i.classList.add(Yn("w")),this.labelElement.appendChild(i);const o=Ie(e,"check");i.appendChild(o),t.value.emitter.on("change",this.onValueChange_),this.value=t.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class Zn{constructor(e,t){this.onInputChange_=this.onInputChange_.bind(this),this.onLabelMouseDown_=this.onLabelMouseDown_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new Xn(e,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.labelElement.addEventListener("mousedown",this.onLabelMouseDown_)}onInputChange_(e){const t=e.currentTarget;this.value.rawValue=t.checked,e.preventDefault(),e.stopPropagation()}onLabelMouseDown_(e){e.preventDefault()}}const Jn=_t({id:"input-bool",type:"input",accept:(e,t)=>{if("boolean"!==typeof e)return null;const n=Me(t,(e=>({options:e.optional.custom(ln),readonly:e.optional.constant(!1)})));return n?{initialValue:e,params:n}:null},binding:{reader:e=>_n,constraint:e=>function(e){const t=[],n=cn(e.options);return n&&t.push(n),new on(t)}(e.params),writer:e=>Qn},controller:e=>{const t=e.document,n=e.value,r=e.constraint,i=r&&sn(r,an);return i?new hn(t,{props:new j({options:i.values.value("options")}),value:n,viewProps:e.viewProps}):new Zn(t,{value:n,viewProps:e.viewProps})},api:e=>"boolean"!==typeof e.controller.value.rawValue?null:e.controller.valueController instanceof hn?new tn(e.controller):null}),er=We("col");class tr{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(er()),t.foldable.bindExpandedClass(this.element,er(void 0,"expanded")),$e(t.foldable,"completed",pt(this.element,er(void 0,"cpl")));const n=e.createElement("div");n.classList.add(er("h")),this.element.appendChild(n);const r=e.createElement("div");r.classList.add(er("s")),n.appendChild(r),this.swatchElement=r;const i=e.createElement("div");if(i.classList.add(er("t")),n.appendChild(i),this.textElement=i,"inline"===t.pickerLayout){const t=e.createElement("div");t.classList.add(er("p")),this.element.appendChild(t),this.pickerElement=t}else this.pickerElement=null}}function nr(e,t,n){const r=ce(e,360),i=ue(t/100,0,1),o=ue(n/100,0,1),s=o*i,a=s*(1-Math.abs(r/60%2-1)),l=o-s;let u,c,d;return[u,c,d]=r>=0&&r<60?[s,a,0]:r>=60&&r<120?[a,s,0]:r>=120&&r<180?[0,s,a]:r>=180&&r<240?[0,a,s]:r>=240&&r<300?[a,0,s]:[s,0,a],[255*(u+l),255*(c+l),255*(d+l)]}function rr(e){return[e[0],e[1],e[2]]}function ir(e,t){return[e[0],e[1],e[2],t]}const or={hsl:{hsl:(e,t,n)=>[e,t,n],hsv:function(e,t,n){const r=n+t*(100-Math.abs(2*n-100))/200;return[e,0!==r?t*(100-Math.abs(2*n-100))/r:0,n+t*(100-Math.abs(2*n-100))/200]},rgb:function(e,t,n){const r=(e%360+360)%360,i=ue(t/100,0,1),o=ue(n/100,0,1),s=(1-Math.abs(2*o-1))*i,a=s*(1-Math.abs(r/60%2-1)),l=o-s/2;let u,c,d;return[u,c,d]=r>=0&&r<60?[s,a,0]:r>=60&&r<120?[a,s,0]:r>=120&&r<180?[0,s,a]:r>=180&&r<240?[0,a,s]:r>=240&&r<300?[a,0,s]:[s,0,a],[255*(u+l),255*(c+l),255*(d+l)]}},hsv:{hsl:function(e,t,n){const r=100-Math.abs(n*(200-t)/100-100);return[e,0!==r?t*n/r:0,n*(200-t)/200]},hsv:(e,t,n)=>[e,t,n],rgb:nr},rgb:{hsl:function(e,t,n){const r=ue(e/255,0,1),i=ue(t/255,0,1),o=ue(n/255,0,1),s=Math.max(r,i,o),a=Math.min(r,i,o),l=s-a;let u=0,c=0;const d=(a+s)/2;return 0!==l&&(c=l/(1-Math.abs(s+a-1)),u=r===s?(i-o)/l:i===s?2+(o-r)/l:4+(r-i)/l,u=u/6+(u<0?1:0)),[360*u,100*c,100*d]},hsv:function(e,t,n){const r=ue(e/255,0,1),i=ue(t/255,0,1),o=ue(n/255,0,1),s=Math.max(r,i,o),a=s-Math.min(r,i,o);let l;return l=0===a?0:s===r?((i-o)/a%6+6)%6*60:s===i?60*((o-r)/a+2):60*((r-i)/a+4),[l,100*(0===s?0:a/s),100*s]},rgb:(e,t,n)=>[e,t,n]}};function sr(e,t){return["float"===t?1:"rgb"===e?255:360,"float"===t?1:"rgb"===e?255:100,"float"===t?1:"rgb"===e?255:100]}function ar(e,t,n){var r;const i=sr(t,n);return["rgb"===t?ue(e[0],0,i[0]):(o=e[0],s=i[0],o===s?s:ce(o,s)),ue(e[1],0,i[1]),ue(e[2],0,i[2]),ue(null!==(r=e[3])&&void 0!==r?r:1,0,1)];var o,s}function lr(e,t,n,r){const i=sr(t,n),o=sr(t,r);return e.map(((e,t)=>e/i[t]*o[t]))}function ur(e,t,n){const r=lr(e,t.mode,t.type,"int");return lr(or[t.mode][n.mode](...r),n.mode,"int",n.type)}class cr{static black(){return new cr([0,0,0],"rgb")}constructor(e,t){this.type="int",this.mode=t,this.comps_=ar(e,t,this.type)}getComponents(e){return ir(ur(rr(this.comps_),{mode:this.mode,type:this.type},{mode:null!==e&&void 0!==e?e:this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const dr=We("colp");class pr{constructor(e,t){this.alphaViews_=null,this.element=e.createElement("div"),this.element.classList.add(dr()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("div");n.classList.add(dr("hsv"));const r=e.createElement("div");r.classList.add(dr("sv")),this.svPaletteView_=t.svPaletteView,r.appendChild(this.svPaletteView_.element),n.appendChild(r);const i=e.createElement("div");i.classList.add(dr("h")),this.hPaletteView_=t.hPaletteView,i.appendChild(this.hPaletteView_.element),n.appendChild(i),this.element.appendChild(n);const o=e.createElement("div");if(o.classList.add(dr("rgb")),this.textsView_=t.textsView,o.appendChild(this.textsView_.element),this.element.appendChild(o),t.alphaViews){this.alphaViews_={palette:t.alphaViews.palette,text:t.alphaViews.text};const n=e.createElement("div");n.classList.add(dr("a"));const r=e.createElement("div");r.classList.add(dr("ap")),r.appendChild(this.alphaViews_.palette.element),n.appendChild(r);const i=e.createElement("div");i.classList.add(dr("at")),i.appendChild(this.alphaViews_.text.element),n.appendChild(i),this.element.appendChild(n)}}get allFocusableElements(){const e=[this.svPaletteView_.element,this.hPaletteView_.element,this.textsView_.modeSelectElement,...this.textsView_.inputViews.map((e=>e.inputElement))];return this.alphaViews_&&e.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),e}}function hr(e){return"int"===e?"int":"float"===e?"float":void 0}function vr(e){return Me(e,(e=>({color:e.optional.object({alpha:e.optional.boolean,type:e.optional.custom(hr)}),expanded:e.optional.boolean,picker:e.optional.custom(Wn),readonly:e.optional.constant(!1)})))}function fr(e){return e?.1:1}function mr(e){var t;return null===(t=e.color)||void 0===t?void 0:t.type}class br{constructor(e,t){this.type="float",this.mode=t,this.comps_=ar(e,t,this.type)}getComponents(e){return ir(ur(rr(this.comps_),{mode:this.mode,type:this.type},{mode:null!==e&&void 0!==e?e:this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const gr={int:(e,t)=>new cr(e,t),float:(e,t)=>new br(e,t)};function wr(e,t,n){return gr[n](e,t)}function _r(e,t){if(e.type===t)return e;if(function(e){return"int"===e.type}(e)&&"float"===t)return function(e){const t=e.getComponents(),n=sr(e.mode,"int");return new br([ae(t[0],0,n[0],0,1),ae(t[1],0,n[1],0,1),ae(t[2],0,n[2],0,1),t[3]],e.mode)}(e);if(function(e){return"float"===e.type}(e)&&"int"===t)return function(e){const t=e.getComponents(),n=sr(e.mode,"int");return new cr([Math.round(ae(t[0],0,1,0,n[0])),Math.round(ae(t[1],0,1,0,n[1])),Math.round(ae(t[2],0,1,0,n[2])),t[3]],e.mode)}(e);throw L.shouldNeverHappen()}function yr(e,t){const n=e.match(/^(.+)%$/);return n?Math.min(.01*parseFloat(n[1])*t,t):Math.min(parseFloat(e),t)}const Cr={deg:e=>e,grad:e=>360*e/400,rad:e=>360*e/(2*Math.PI),turn:e=>360*e};function xr(e){const t=e.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!t)return parseFloat(e);const n=parseFloat(t[1]),r=t[2];return Cr[r](n)}function kr(e){const t=e.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const n=[yr(t[1],255),yr(t[2],255),yr(t[3],255)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function Pr(e){const t=kr(e);return t?new cr(t,"rgb"):null}function Er(e){const t=e.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const n=[yr(t[1],255),yr(t[2],255),yr(t[3],255),yr(t[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function Sr(e){const t=Er(e);return t?new cr(t,"rgb"):null}function Vr(e){const t=e.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const n=[xr(t[1]),yr(t[2],100),yr(t[3],100)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function Lr(e){const t=Vr(e);return t?new cr(t,"hsl"):null}function Mr(e){const t=e.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const n=[xr(t[1]),yr(t[2],100),yr(t[3],100),yr(t[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function Dr(e){const t=Mr(e);return t?new cr(t,"hsl"):null}function Or(e){const t=e.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)];const n=e.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}function Nr(e){const t=Or(e);return t?new cr(t,"rgb"):null}function Tr(e){const t=e.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),ae(parseInt(t[4]+t[4],16),0,255,0,1)];const n=e.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),ae(parseInt(n[4],16),0,255,0,1)]:null}function Ar(e){const t=Tr(e);return t?new cr(t,"rgb"):null}function jr(e){const t=e.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!t)return null;const n=[parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function zr(e){return t=>{const n=jr(t);return n?wr(n,"rgb",e):null}}function Rr(e){const t=e.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!t)return null;const n=[parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),parseFloat(t[4])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function Fr(e){return t=>{const n=Rr(t);return n?wr(n,"rgb",e):null}}const Ir=[{parser:Or,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:Tr,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:kr,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:Er,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:Vr,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:Mr,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:jr,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:Rr,result:{alpha:!0,mode:"rgb",notation:"object"}}];function Br(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"int";const n=function(e){return Ir.reduce(((t,n)=>{let{parser:r,result:i}=n;return t||(r(e)?i:null)}),null)}(e);return n?"hex"===n.notation&&"float"!==t?Object.assign(Object.assign({},n),{type:"int"}):"func"===n.notation?Object.assign(Object.assign({},n),{type:t}):null:null}function Ur(e){const t=[Nr,Ar,Pr,Sr,Lr,Dr];"int"===e&&t.push(zr("int"),Fr("int")),"float"===e&&t.push(zr("float"),Fr("float"));const n=function(e){return t=>e.reduce(((e,n)=>null!==e?e:n(t)),null)}(t);return t=>{const r=n(t);return r?_r(r,e):null}}function Kr(e){const t=Ur("int");if("string"!==typeof e)return cr.black();const n=t(e);return null!==n&&void 0!==n?n:cr.black()}function qr(e){const t=ue(Math.floor(e),0,255).toString(16);return 1===t.length?"0".concat(t):t}function Hr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";const n=rr(e.getComponents("rgb")).map(qr).join("");return"".concat(t).concat(n)}function $r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";const n=e.getComponents("rgb"),r=[n[0],n[1],n[2],255*n[3]].map(qr).join("");return"".concat(t).concat(r)}function Gr(e){const t=se(0),n=rr(_r(e,"int").getComponents("rgb")).map((e=>t(e)));return"rgb(".concat(n.join(", "),")")}function Wr(e){const t=se(2),n=se(0),r=_r(e,"int").getComponents("rgb").map(((e,r)=>(3===r?t:n)(e)));return"rgba(".concat(r.join(", "),")")}function Qr(e,t){const n=se("float"===t?2:0),r=["r","g","b"],i=rr(_r(e,t).getComponents("rgb")).map(((e,t)=>"".concat(r[t],": ").concat(n(e))));return"{".concat(i.join(", "),"}")}function Yr(e){return t=>Qr(t,e)}function Xr(e,t){const n=se(2),r=se("float"===t?2:0),i=["r","g","b","a"],o=_r(e,t).getComponents("rgb").map(((e,t)=>{const o=3===t?n:r;return"".concat(i[t],": ").concat(o(e))}));return"{".concat(o.join(", "),"}")}function Zr(e){return t=>Xr(t,e)}const Jr=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:Hr},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:$r},{format:{alpha:!1,mode:"rgb",notation:"func",type:"int"},stringifier:Gr},{format:{alpha:!0,mode:"rgb",notation:"func",type:"int"},stringifier:Wr},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:function(e){const t=[se(0),xn,xn],n=rr(_r(e,"int").getComponents("hsl")).map(((e,n)=>t[n](e)));return"hsl(".concat(n.join(", "),")")}},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:function(e){const t=[se(0),xn,xn,se(2)],n=_r(e,"int").getComponents("hsl").map(((e,n)=>t[n](e)));return"hsla(".concat(n.join(", "),")")}},...["int","float"].reduce(((e,t)=>[...e,{format:{alpha:!1,mode:"rgb",notation:"object",type:t},stringifier:Yr(t)},{format:{alpha:!0,mode:"rgb",notation:"object",type:t},stringifier:Zr(t)}]),[])];function ei(e){return Jr.reduce(((t,n)=>{return t||(r=n.format,i=e,r.alpha===i.alpha&&r.mode===i.mode&&r.notation===i.notation&&r.type===i.type?n.stringifier:null);var r,i}),null)}const ti=We("apl");class ni{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(ti()),t.viewProps.bindClassModifiers(this.element),t.viewProps.bindTabIndex(this.element);const n=e.createElement("div");n.classList.add(ti("b")),this.element.appendChild(n);const r=e.createElement("div");r.classList.add(ti("c")),n.appendChild(r),this.colorElem_=r;const i=e.createElement("div");i.classList.add(ti("m")),this.element.appendChild(i),this.markerElem_=i;const o=e.createElement("div");o.classList.add(ti("p")),this.markerElem_.appendChild(o),this.previewElem_=o,this.update_()}update_(){const e=this.value.rawValue,t=e.getComponents("rgb"),n=new cr([t[0],t[1],t[2],0],"rgb"),r=new cr([t[0],t[1],t[2],255],"rgb"),i=["to right",Wr(n),Wr(r)];this.colorElem_.style.background="linear-gradient(".concat(i.join(","),")"),this.previewElem_.style.backgroundColor=Wr(e);const o=ae(t[3],0,1,0,100);this.markerElem_.style.left="".concat(o,"%")}onValueChange_(){this.update_()}}class ri{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new ni(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new On(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;const n=e.point.x/e.bounds.width,r=this.value.rawValue,[i,o,s]=r.getComponents("hsv");this.value.setRawValue(new cr([i,o,s,n],"hsv"),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const t=Sn(fr(!0),Ln(e));if(0===t)return;const n=this.value.rawValue,[r,i,o,s]=n.getComponents("hsv");this.value.setRawValue(new cr([r,i,o,s+t],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){0!==Sn(fr(!0),Ln(e))&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const ii=We("coltxt");class oi{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(ii()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("div");n.classList.add(ii("m")),this.modeElem_=function(e){const t=e.createElement("select");return t.appendChild([{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"},{text:"HEX",value:"hex"}].reduce(((t,n)=>{const r=e.createElement("option");return r.textContent=n.text,r.value=n.value,t.appendChild(r),t}),e.createDocumentFragment())),t}(e),this.modeElem_.classList.add(ii("ms")),n.appendChild(this.modeSelectElement),t.viewProps.bindDisabled(this.modeElem_);const r=e.createElement("div");r.classList.add(ii("mm")),r.appendChild(Ie(e,"dropdown")),n.appendChild(r),this.element.appendChild(n);const i=e.createElement("div");i.classList.add(ii("w")),this.element.appendChild(i),this.inputsElem_=i,this.inputViews_=t.inputViews,this.applyInputViews_(),He(t.mode,(e=>{this.modeElem_.value=e}))}get modeSelectElement(){return this.modeElem_}get inputViews(){return this.inputViews_}set inputViews(e){this.inputViews_=e,this.applyInputViews_()}applyInputViews_(){Ke(this.inputsElem_);const e=this.element.ownerDocument;this.inputViews_.forEach((t=>{const n=e.createElement("div");n.classList.add(ii("c")),n.appendChild(t.element),this.inputsElem_.appendChild(n)}))}}function si(e,t,n){const r=sr(e,t)[n];return new z({min:0,max:r})}function ai(e,t){const n={colorMode:t.colorMode,colorType:t.colorType,parser:re,viewProps:t.viewProps};return[0,1,2].map((r=>{const i=function(e,t,n){return new An(e,{arrayPosition:0===n?"fst":2===n?"lst":"mid",parser:t.parser,props:j.fromObject({formatter:(r=t.colorType,se("float"===r?2:0)),keyScale:fr(!1),pointerScale:"float"===t.colorType?.01:1}),value:A(0,{constraint:si(t.colorMode,t.colorType,n)}),viewProps:t.viewProps});var r}(e,n,r);return En({primary:t.value,secondary:i.value,forward:e=>_r(e,t.colorType).getComponents(t.colorMode)[r],backward(e,n){const i=t.colorMode,o=_r(e,t.colorType).getComponents(i);o[r]=n;return _r(wr(ir(rr(o),o[3]),i,t.colorType),"int")}}),i}))}class li{constructor(e,t){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=t.colorType,this.value=t.value,this.viewProps=t.viewProps,this.colorMode=A(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(e),this.view=new oi(e,{mode:this.colorMode,inputViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(e){const t=this.colorMode.rawValue;return function(e){return"hex"!==e}(t)?ai(e,{colorMode:t,colorType:this.colorType_,value:this.value,viewProps:this.viewProps}):function(e,t){const n=new wn(e,{parser:Ur("int"),props:j.fromObject({formatter:Hr}),value:A(cr.black()),viewProps:t.viewProps});return En({primary:t.value,secondary:n.value,forward:e=>new cr(rr(e.getComponents()),e.mode),backward:(e,t)=>new cr(ir(rr(t.getComponents(e.mode)),e.getComponents()[3]),e.mode)}),[n]}(e,{value:this.value,viewProps:this.viewProps})}onModeSelectChange_(e){const t=e.currentTarget;this.colorMode.rawValue=t.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.inputViews=this.ccs_.map((e=>e.view))}}const ui=We("hpl");class ci{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(ui()),t.viewProps.bindClassModifiers(this.element),t.viewProps.bindTabIndex(this.element);const n=e.createElement("div");n.classList.add(ui("c")),this.element.appendChild(n);const r=e.createElement("div");r.classList.add(ui("m")),this.element.appendChild(r),this.markerElem_=r,this.update_()}update_(){const e=this.value.rawValue,[t]=e.getComponents("hsv");this.markerElem_.style.backgroundColor=Gr(new cr([t,100,100],"hsv"));const n=ae(t,0,360,0,100);this.markerElem_.style.left="".concat(n,"%")}onValueChange_(){this.update_()}}class di{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new ci(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new On(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;const n=ae(ue(e.point.x,0,e.bounds.width),0,e.bounds.width,0,360),r=this.value.rawValue,[,i,o,s]=r.getComponents("hsv");this.value.setRawValue(new cr([n,i,o,s],"hsv"),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const t=Sn(fr(!1),Ln(e));if(0===t)return;const n=this.value.rawValue,[r,i,o,s]=n.getComponents("hsv");this.value.setRawValue(new cr([r+t,i,o,s],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){0!==Sn(fr(!1),Ln(e))&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const pi=We("svp");class hi{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(pi()),t.viewProps.bindClassModifiers(this.element),t.viewProps.bindTabIndex(this.element);const n=e.createElement("canvas");n.height=64,n.width=64,n.classList.add(pi("c")),this.element.appendChild(n),this.canvasElement=n;const r=e.createElement("div");r.classList.add(pi("m")),this.element.appendChild(r),this.markerElem_=r,this.update_()}update_(){const e=function(e){const t=e.ownerDocument.defaultView;return t&&"document"in t?e.getContext("2d",{willReadFrequently:!0}):null}(this.canvasElement);if(!e)return;const t=this.value.rawValue.getComponents("hsv"),n=this.canvasElement.width,r=this.canvasElement.height,i=e.getImageData(0,0,n,r),o=i.data;for(let l=0;l<r;l++)for(let e=0;e<n;e++){const i=ae(e,0,n,0,100),s=ae(l,0,r,100,0),a=nr(t[0],i,s),u=4*(l*n+e);o[u]=a[0],o[u+1]=a[1],o[u+2]=a[2],o[u+3]=255}e.putImageData(i,0,0);const s=ae(t[1],0,100,0,100);this.markerElem_.style.left="".concat(s,"%");const a=ae(t[2],0,100,100,0);this.markerElem_.style.top="".concat(a,"%")}onValueChange_(){this.update_()}}class vi{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new hi(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new On(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;const n=ae(e.point.x,0,e.bounds.width,0,100),r=ae(e.point.y,0,e.bounds.height,100,0),[i,,,o]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new cr([i,n,r,o],"hsv"),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){Mn(e.key)&&e.preventDefault();const[t,n,r,i]=this.value.rawValue.getComponents("hsv"),o=fr(!1),s=Sn(o,Ln(e)),a=Sn(o,Vn(e));0===s&&0===a||this.value.setRawValue(new cr([t,n+s,r+a,i],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){const t=fr(!1),n=Sn(t,Ln(e)),r=Sn(t,Vn(e));0===n&&0===r||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class fi{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.hPaletteC_=new di(e,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new vi(e,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=t.supportsAlpha?{palette:new ri(e,{value:this.value,viewProps:this.viewProps}),text:new An(e,{parser:re,props:j.fromObject({pointerScale:.01,keyScale:.1,formatter:se(2)}),value:A(0,{constraint:new z({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&En({primary:this.value,secondary:this.alphaIcs_.text.value,forward:e=>e.getComponents()[3],backward:(e,t)=>{const n=e.getComponents();return n[3]=t,new cr(n,e.mode)}}),this.textsC_=new li(e,{colorType:t.colorType,value:this.value,viewProps:this.viewProps}),this.view=new pr(e,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:t.supportsAlpha,svPaletteView:this.svPaletteC_.view,textsView:this.textsC_.view,viewProps:this.viewProps})}get textsController(){return this.textsC_}}const mi=We("colsw");class bi{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),t.value.emitter.on("change",this.onValueChange_),this.value=t.value,this.element=e.createElement("div"),this.element.classList.add(mi()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("div");n.classList.add(mi("sw")),this.element.appendChild(n),this.swatchElem_=n;const r=e.createElement("button");r.classList.add(mi("b")),t.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r,this.update_()}update_(){const e=this.value.rawValue;this.swatchElem_.style.backgroundColor=$r(e)}onValueChange_(){this.update_()}}class gi{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new bi(e,{value:this.value,viewProps:this.viewProps})}}class wi{constructor(e,t){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.foldable_=Dt.create(t.expanded),this.swatchC_=new gi(e,{value:this.value,viewProps:this.viewProps});const n=this.swatchC_.view.buttonElement;n.addEventListener("blur",this.onButtonBlur_),n.addEventListener("click",this.onButtonClick_),this.textC_=new wn(e,{parser:t.parser,props:j.fromObject({formatter:t.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new tr(e,{foldable:this.foldable_,pickerLayout:t.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_="popup"===t.pickerLayout?new mn(e,{viewProps:this.viewProps}):null;const r=new fi(e,{colorType:t.colorType,supportsAlpha:t.supportsAlpha,value:this.value,viewProps:this.viewProps});r.view.allFocusableElements.forEach((e=>{e.addEventListener("blur",this.onPopupChildBlur_),e.addEventListener("keydown",this.onPopupChildKeydown_)})),this.pickerC_=r,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(r.view.element),En({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:e=>e,backward:(e,t)=>t})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Nt(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(e){if(!this.popC_)return;const t=this.view.element,n=e.relatedTarget;n&&t.contains(n)||(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const t=this.popC_.view.element,n=qe(e);n&&t.contains(n)||n&&n===this.swatchC_.view.buttonElement&&!ze(t.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?"Escape"===e.key&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&"Escape"===e.key&&this.swatchC_.view.buttonElement.focus()}}function _i(e){return rr(e.getComponents("rgb")).reduce(((e,t)=>e<<8|255&Math.floor(t)),0)}function yi(e){return e.getComponents("rgb").reduce(((e,t,n)=>e<<8|255&Math.floor(3===n?255*t:t)),0)>>>0}function Ci(e){return"number"!==typeof e?cr.black():new cr([(t=e)>>16&255,t>>8&255,255&t],"rgb");var t}function xi(e){return"number"!==typeof e?cr.black():new cr([(t=e)>>24&255,t>>16&255,t>>8&255,ae(255&t,0,255,0,1)],"rgb");var t}function ki(e,t){return"object"===typeof e&&!C(e)&&(t in e&&"number"===typeof e[t])}function Pi(e){return ki(e,"r")&&ki(e,"g")&&ki(e,"b")}function Ei(e){return Pi(e)&&ki(e,"a")}function Si(e){return Pi(e)}function Vi(e,t){if(e.mode!==t.mode)return!1;if(e.type!==t.type)return!1;const n=e.getComponents(),r=t.getComponents();for(let i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}function Li(e){return"a"in e?[e.r,e.g,e.b,e.a]:[e.r,e.g,e.b]}function Mi(e,t){return(n,r)=>{e?function(e,t,n){const r=_r(t,n).toRgbaObject();e.writeProperty("r",r.r),e.writeProperty("g",r.g),e.writeProperty("b",r.b),e.writeProperty("a",r.a)}(n,r,t):function(e,t,n){const r=_r(t,n).toRgbaObject();e.writeProperty("r",r.r),e.writeProperty("g",r.g),e.writeProperty("b",r.b)}(n,r,t)}}function Di(e){var t;return!!(null===(t=null===e||void 0===e?void 0:e.color)||void 0===t?void 0:t.alpha)}const Oi=_t({id:"input-color-number",type:"input",accept:(e,t)=>{if("number"!==typeof e)return null;if(!function(e){return"color"in e||"color"===e.view}(t))return null;const n=vr(t);return n?{initialValue:e,params:Object.assign(Object.assign({},n),{supportsAlpha:Di(t)})}:null},binding:{reader:e=>e.params.supportsAlpha?xi:Ci,equals:Vi,writer:e=>function(e){const t=e?yi:_i;return(e,n)=>{Qn(e,t(n))}}(e.params.supportsAlpha)},controller:e=>{var t,n,r;return new wi(e.document,{colorType:"int",expanded:null!==(t=e.params.expanded)&&void 0!==t&&t,formatter:(r=e.params.supportsAlpha,r?e=>$r(e,"0x"):e=>Hr(e,"0x")),parser:Ur("int"),pickerLayout:null!==(n=e.params.picker)&&void 0!==n?n:"popup",supportsAlpha:e.params.supportsAlpha,value:e.value,viewProps:e.viewProps})}});function Ni(e){return t=>{const n=function(e,t){if(!Si(e))return _r(cr.black(),t);if("int"===t){const t=Li(e);return new cr(t,"rgb")}if("float"===t){const t=Li(e);return new br(t,"rgb")}return _r(cr.black(),"int")}(t,e);return _r(n,"int")}}function Ti(e,t){return n=>e?Xr(n,t):Qr(n,t)}const Ai=_t({id:"input-color-object",type:"input",accept:(e,t)=>{var n;if(!Si(e))return null;const r=vr(t);return r?{initialValue:e,params:Object.assign(Object.assign({},r),{colorType:null!==(n=mr(t))&&void 0!==n?n:"int"})}:null},binding:{reader:e=>Ni(e.params.colorType),equals:Vi,writer:e=>Mi(Ei(e.initialValue),e.params.colorType)},controller:e=>{var t,n;const r=Ei(e.initialValue);return new wi(e.document,{colorType:e.params.colorType,expanded:null!==(t=e.params.expanded)&&void 0!==t&&t,formatter:Ti(r,e.params.colorType),parser:Ur("int"),pickerLayout:null!==(n=e.params.picker)&&void 0!==n?n:"popup",supportsAlpha:r,value:e.value,viewProps:e.viewProps})}}),ji=_t({id:"input-color-string",type:"input",accept:(e,t)=>{if("string"!==typeof e)return null;if("text"===t.view)return null;const n=Br(e,mr(t));if(!n)return null;const r=ei(n);if(!r)return null;const i=vr(t);return i?{initialValue:e,params:Object.assign(Object.assign({},i),{format:n,stringifier:r})}:null},binding:{reader:()=>Kr,equals:Vi,writer:e=>{const t=function(e){const t=ei(e);return t?(e,n)=>{Qn(e,t(n))}:null}(e.params.format);if(!t)throw L.notBindable();return t}},controller:e=>{var t,n;return new wi(e.document,{colorType:e.params.format.type,expanded:null!==(t=e.params.expanded)&&void 0!==t&&t,formatter:e.params.stringifier,parser:Ur("int"),pickerLayout:null!==(n=e.params.picker)&&void 0!==n?n:"popup",supportsAlpha:e.params.format.alpha,value:e.value,viewProps:e.viewProps})}});class zi{constructor(e){this.components=e.components,this.asm_=e.assembly}constrain(e){const t=this.asm_.toComponents(e).map(((e,t)=>{var n,r;return null!==(r=null===(n=this.components[t])||void 0===n?void 0:n.constrain(e))&&void 0!==r?r:e}));return this.asm_.fromComponents(t)}}const Ri=We("pndtxt");class Fi{constructor(e,t){this.textViews=t.textViews,this.element=e.createElement("div"),this.element.classList.add(Ri()),this.textViews.forEach((t=>{const n=e.createElement("div");n.classList.add(Ri("a")),n.appendChild(t.element),this.element.appendChild(n)}))}}class Ii{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.acs_=t.axes.map(((n,r)=>function(e,t,n){return new An(e,{arrayPosition:0===n?"fst":n===t.axes.length-1?"lst":"mid",parser:t.parser,props:t.axes[n].textProps,value:A(0,{constraint:t.axes[n].constraint}),viewProps:t.viewProps})}(e,t,r))),this.acs_.forEach(((e,n)=>{En({primary:this.value,secondary:e.value,forward:e=>t.assembly.toComponents(e)[n],backward:(e,r)=>{const i=t.assembly.toComponents(e);return i[n]=r,t.assembly.fromComponents(i)}})})),this.view=new Fi(e,{textViews:this.acs_.map((e=>e.view))})}get textControllers(){return this.acs_}}class Bi extends Pe{get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}}const Ui=_t({id:"input-number",type:"input",accept:(e,t)=>{if("number"!==typeof e)return null;const n=Me(t,(e=>Object.assign(Object.assign({},be(e)),{options:e.optional.custom(ln),readonly:e.optional.constant(!1)})));return n?{initialValue:e,params:n}:null},binding:{reader:e=>ie,constraint:e=>function(e,t){const n=[],r=ve(e,t);r&&n.push(r);const i=fe(e);i&&n.push(i);const o=cn(e.options);return o&&n.push(o),new on(n)}(e.params,e.initialValue),writer:e=>Qn},controller:e=>{const t=e.value,n=e.constraint,r=n&&sn(n,an);if(r)return new hn(e.document,{props:new j({options:r.values.value("options")}),value:t,viewProps:e.viewProps});const i=me(e.params,t.rawValue),o=n&&sn(n,z);return o?new Bn(e.document,Object.assign(Object.assign({},Un(Object.assign(Object.assign({},i),{keyScale:A(i.keyScale),max:o.values.value("max"),min:o.values.value("min")}))),{parser:re,value:t,viewProps:e.viewProps})):new An(e.document,{parser:re,props:j.fromObject(i),value:t,viewProps:e.viewProps})},api:e=>"number"!==typeof e.controller.value.rawValue?null:e.controller.valueController instanceof Bn?new Bi(e.controller):e.controller.valueController instanceof hn?new tn(e.controller):null});class Ki{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x=e,this.y=t}getComponents(){return[this.x,this.y]}static isObject(e){if(C(e))return!1;const t=e.x,n=e.y;return"number"===typeof t&&"number"===typeof n}static equals(e,t){return e.x===t.x&&e.y===t.y}toObject(){return{x:this.x,y:this.y}}}const qi={toComponents:e=>e.getComponents(),fromComponents:e=>new Ki(...e)},Hi=We("p2d");class $i{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Hi()),t.viewProps.bindClassModifiers(this.element),He(t.expanded,pt(this.element,Hi(void 0,"expanded")));const n=e.createElement("div");n.classList.add(Hi("h")),this.element.appendChild(n);const r=e.createElement("button");r.classList.add(Hi("b")),r.appendChild(Ie(e,"p2dpad")),t.viewProps.bindDisabled(r),n.appendChild(r),this.buttonElement=r;const i=e.createElement("div");if(i.classList.add(Hi("t")),n.appendChild(i),this.textElement=i,"inline"===t.pickerLayout){const t=e.createElement("div");t.classList.add(Hi("p")),this.element.appendChild(t),this.pickerElement=t}else this.pickerElement=null}}const Gi=We("p2dp");class Wi{constructor(e,t){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onPropsChange_=this.onPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.props_=t.props,this.props_.emitter.on("change",this.onPropsChange_),this.element=e.createElement("div"),this.element.classList.add(Gi()),"popup"===t.layout&&this.element.classList.add(Gi(void 0,"p")),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("div");n.classList.add(Gi("p")),t.viewProps.bindTabIndex(n),this.element.appendChild(n),this.padElement=n;const r=e.createElementNS(Ae,"svg");r.classList.add(Gi("g")),this.padElement.appendChild(r),this.svgElem_=r;const i=e.createElementNS(Ae,"line");i.classList.add(Gi("ax")),i.setAttributeNS(null,"x1","0"),i.setAttributeNS(null,"y1","50%"),i.setAttributeNS(null,"x2","100%"),i.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(i);const o=e.createElementNS(Ae,"line");o.classList.add(Gi("ax")),o.setAttributeNS(null,"x1","50%"),o.setAttributeNS(null,"y1","0"),o.setAttributeNS(null,"x2","50%"),o.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(o);const s=e.createElementNS(Ae,"line");s.classList.add(Gi("l")),s.setAttributeNS(null,"x1","50%"),s.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(s),this.lineElem_=s;const a=e.createElement("div");a.classList.add(Gi("m")),this.padElement.appendChild(a),this.markerElem_=a,t.value.emitter.on("change",this.onValueChange_),this.value=t.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[e,t]=this.value.rawValue.getComponents(),n=this.props_.get("max"),r=ae(e,-n,+n,0,100),i=ae(t,-n,+n,0,100),o=this.props_.get("invertsY")?100-i:i;this.lineElem_.setAttributeNS(null,"x2","".concat(r,"%")),this.lineElem_.setAttributeNS(null,"y2","".concat(o,"%")),this.markerElem_.style.left="".concat(r,"%"),this.markerElem_.style.top="".concat(o,"%")}onValueChange_(){this.update_()}onPropsChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Qi(e,t,n){return[Sn(t[0],Ln(e)),Sn(t[1],Vn(e))*(n?1:-1)]}class Yi{constructor(e,t){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.view=new Wi(e,{layout:t.layout,props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new On(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;const n=this.props.get("max"),r=ae(e.point.x,0,e.bounds.width,-n,+n),i=ae(this.props.get("invertsY")?e.bounds.height-e.point.y:e.point.y,0,e.bounds.height,-n,+n);this.value.setRawValue(new Ki(r,i),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onPadKeyDown_(e){Mn(e.key)&&e.preventDefault();const[t,n]=Qi(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));0===t&&0===n||this.value.setRawValue(new Ki(this.value.rawValue.x+t,this.value.rawValue.y+n),{forceEmit:!1,last:!1})}onPadKeyUp_(e){const[t,n]=Qi(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));0===t&&0===n||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Xi{constructor(e,t){var n,r;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.foldable_=Dt.create(t.expanded),this.popC_="popup"===t.pickerLayout?new mn(e,{viewProps:this.viewProps}):null;const i=new Yi(e,{layout:t.pickerLayout,props:new j({invertsY:A(t.invertsY),max:A(t.max),xKeyScale:t.axes[0].textProps.value("keyScale"),yKeyScale:t.axes[1].textProps.value("keyScale")}),value:this.value,viewProps:this.viewProps});i.view.allFocusableElements.forEach((e=>{e.addEventListener("blur",this.onPopupChildBlur_),e.addEventListener("keydown",this.onPopupChildKeydown_)})),this.pickerC_=i,this.textC_=new Ii(e,{assembly:qi,axes:t.axes,parser:t.parser,value:this.value,viewProps:this.viewProps}),this.view=new $i(e,{expanded:this.foldable_.value("expanded"),pickerLayout:t.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),null===(n=this.view.buttonElement)||void 0===n||n.addEventListener("blur",this.onPadButtonBlur_),null===(r=this.view.buttonElement)||void 0===r||r.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),En({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:e=>e,backward:(e,t)=>t})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Nt(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onPadButtonBlur_(e){if(!this.popC_)return;const t=this.view.element,n=e.relatedTarget;n&&t.contains(n)||(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const t=this.popC_.view.element,n=qe(e);n&&t.contains(n)||n&&n===this.view.buttonElement&&!ze(t.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?"Escape"===e.key&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&"Escape"===e.key&&this.view.buttonElement.focus()}}function Zi(e){return Ki.isObject(e)?new Ki(e.x,e.y):new Ki}function Ji(e,t){e.writeProperty("x",t.x),e.writeProperty("y",t.y)}function eo(e,t){var n,r;if(!C(e.min)||!C(e.max))return Math.max(Math.abs(null!==(n=e.min)&&void 0!==n?n:0),Math.abs(null!==(r=e.max)&&void 0!==r?r:0));const i=pe(e);return Math.max(10*Math.abs(i),10*Math.abs(t))}function to(e,t){var n,r;const i=eo(E(e,null!==(n=e.x)&&void 0!==n?n:{}),t.x),o=eo(E(e,null!==(r=e.y)&&void 0!==r?r:{}),t.y);return Math.max(i,o)}function no(e){if(!("y"in e))return!1;const t=e.y;return!!t&&("inverted"in t&&!!t.inverted)}const ro=_t({id:"input-point2d",type:"input",accept:(e,t)=>{if(!Ki.isObject(e))return null;const n=Me(t,(e=>Object.assign(Object.assign({},Hn(e)),{expanded:e.optional.boolean,picker:e.optional.custom(Wn),readonly:e.optional.constant(!1),x:e.optional.custom($n),y:e.optional.object(Object.assign(Object.assign({},Hn(e)),{inverted:e.optional.boolean}))})));return n?{initialValue:e,params:n}:null},binding:{reader:()=>Zi,constraint:e=>{return t=e.params,n=e.initialValue,new zi({assembly:qi,components:[Gn(Object.assign(Object.assign({},t),t.x),n.x),Gn(Object.assign(Object.assign({},t),t.y),n.y)]});var t,n},equals:Ki.equals,writer:()=>Ji},controller:e=>{var t,n;const r=e.document,i=e.value,o=e.constraint,s=[e.params.x,e.params.y];return new Xi(r,{axes:i.rawValue.getComponents().map(((t,n)=>{var r;return ge({constraint:o.components[n],initialValue:t,params:E(e.params,null!==(r=s[n])&&void 0!==r?r:{})})})),expanded:null!==(t=e.params.expanded)&&void 0!==t&&t,invertsY:no(e.params),max:to(e.params,i.rawValue),parser:re,pickerLayout:null!==(n=e.params.picker)&&void 0!==n?n:"popup",value:i,viewProps:e.viewProps})}});class io{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=e,this.y=t,this.z=n}getComponents(){return[this.x,this.y,this.z]}static isObject(e){if(C(e))return!1;const t=e.x,n=e.y,r=e.z;return"number"===typeof t&&"number"===typeof n&&"number"===typeof r}static equals(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const oo={toComponents:e=>e.getComponents(),fromComponents:e=>new io(...e)};function so(e){return io.isObject(e)?new io(e.x,e.y,e.z):new io}function ao(e,t){e.writeProperty("x",t.x),e.writeProperty("y",t.y),e.writeProperty("z",t.z)}const lo=_t({id:"input-point3d",type:"input",accept:(e,t)=>{if(!io.isObject(e))return null;const n=Me(t,(e=>Object.assign(Object.assign({},Hn(e)),{readonly:e.optional.constant(!1),x:e.optional.custom($n),y:e.optional.custom($n),z:e.optional.custom($n)})));return n?{initialValue:e,params:n}:null},binding:{reader:e=>so,constraint:e=>{return t=e.params,n=e.initialValue,new zi({assembly:oo,components:[Gn(Object.assign(Object.assign({},t),t.x),n.x),Gn(Object.assign(Object.assign({},t),t.y),n.y),Gn(Object.assign(Object.assign({},t),t.z),n.z)]});var t,n},equals:io.equals,writer:e=>ao},controller:e=>{const t=e.value,n=e.constraint,r=[e.params.x,e.params.y,e.params.z];return new Ii(e.document,{assembly:oo,axes:t.rawValue.getComponents().map(((t,i)=>{var o;return ge({constraint:n.components[i],initialValue:t,params:E(e.params,null!==(o=r[i])&&void 0!==o?o:{})})})),parser:re,value:t,viewProps:e.viewProps})}});class uo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.x=e,this.y=t,this.z=n,this.w=r}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(e){if(C(e))return!1;const t=e.x,n=e.y,r=e.z,i=e.w;return"number"===typeof t&&"number"===typeof n&&"number"===typeof r&&"number"===typeof i}static equals(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const co={toComponents:e=>e.getComponents(),fromComponents:e=>new uo(...e)};function po(e){return uo.isObject(e)?new uo(e.x,e.y,e.z,e.w):new uo}function ho(e,t){e.writeProperty("x",t.x),e.writeProperty("y",t.y),e.writeProperty("z",t.z),e.writeProperty("w",t.w)}const vo=_t({id:"input-point4d",type:"input",accept:(e,t)=>{if(!uo.isObject(e))return null;const n=Me(t,(e=>Object.assign(Object.assign({},Hn(e)),{readonly:e.optional.constant(!1),w:e.optional.custom($n),x:e.optional.custom($n),y:e.optional.custom($n),z:e.optional.custom($n)})));return n?{initialValue:e,params:n}:null},binding:{reader:e=>po,constraint:e=>{return t=e.params,n=e.initialValue,new zi({assembly:co,components:[Gn(Object.assign(Object.assign({},t),t.x),n.x),Gn(Object.assign(Object.assign({},t),t.y),n.y),Gn(Object.assign(Object.assign({},t),t.z),n.z),Gn(Object.assign(Object.assign({},t),t.w),n.w)]});var t,n},equals:uo.equals,writer:e=>ho},controller:e=>{const t=e.value,n=e.constraint,r=[e.params.x,e.params.y,e.params.z,e.params.w];return new Ii(e.document,{assembly:co,axes:t.rawValue.getComponents().map(((t,i)=>{var o;return ge({constraint:n.components[i],initialValue:t,params:E(e.params,null!==(o=r[i])&&void 0!==o?o:{})})})),parser:re,value:t,viewProps:e.viewProps})}});const fo=_t({id:"input-string",type:"input",accept:(e,t)=>{if("string"!==typeof e)return null;const n=Me(t,(e=>({readonly:e.optional.constant(!1),options:e.optional.custom(ln)})));return n?{initialValue:e,params:n}:null},binding:{reader:e=>kn,constraint:e=>function(e){const t=[],n=cn(e.options);return n&&t.push(n),new on(t)}(e.params),writer:e=>Qn},controller:e=>{const t=e.document,n=e.value,r=e.constraint,i=r&&sn(r,an);return i?new hn(t,{props:new j({options:i.values.value("options")}),value:n,viewProps:e.viewProps}):new wn(t,{parser:e=>e,props:j.fromObject({formatter:Pn}),value:n,viewProps:e.viewProps})},api:e=>"string"!==typeof e.controller.value.rawValue?null:e.controller.valueController instanceof hn?new tn(e.controller):null}),mo={defaultInterval:200,defaultRows:3},bo=We("mll");class go{constructor(e,t){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=t.formatter,this.element=e.createElement("div"),this.element.classList.add(bo()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("textarea");n.classList.add(bo("i")),n.style.height="calc(var(".concat(qn("containerUnitSize"),") * ").concat(t.rows,")"),n.readOnly=!0,t.viewProps.bindDisabled(n),this.element.appendChild(n),this.textareaElem_=n,t.value.emitter.on("change",this.onValueUpdate_),this.value=t.value,this.update_()}update_(){const e=this.textareaElem_,t=e.scrollTop===e.scrollHeight-e.clientHeight,n=[];this.value.rawValue.forEach((e=>{void 0!==e&&n.push(this.formatter_(e))})),e.textContent=n.join("\n"),t&&(e.scrollTop=e.scrollHeight)}onValueUpdate_(){this.update_()}}class wo{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new go(e,{formatter:t.formatter,rows:t.rows,value:this.value,viewProps:this.viewProps})}}const _o=We("sgl");class yo{constructor(e,t){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=t.formatter,this.element=e.createElement("div"),this.element.classList.add(_o()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("input");n.classList.add(_o("i")),n.readOnly=!0,n.type="text",t.viewProps.bindDisabled(n),this.element.appendChild(n),this.inputElement=n,t.value.emitter.on("change",this.onValueUpdate_),this.value=t.value,this.update_()}update_(){const e=this.value.rawValue,t=e[e.length-1];this.inputElement.value=void 0!==t?this.formatter_(t):""}onValueUpdate_(){this.update_()}}class Co{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new yo(e,{formatter:t.formatter,value:this.value,viewProps:this.viewProps})}}const xo=_t({id:"monitor-bool",type:"monitor",accept:(e,t)=>{if("boolean"!==typeof e)return null;const n=Me(t,(e=>({readonly:e.required.constant(!0),rows:e.optional.number})));return n?{initialValue:e,params:n}:null},binding:{reader:e=>_n},controller:e=>{var t;return 1===e.value.rawValue.length?new Co(e.document,{formatter:yn,value:e.value,viewProps:e.viewProps}):new wo(e.document,{formatter:yn,rows:null!==(t=e.params.rows)&&void 0!==t?t:mo.defaultRows,value:e.value,viewProps:e.viewProps})}});class ko extends Pe{get max(){return this.controller.valueController.props.get("max")}set max(e){this.controller.valueController.props.set("max",e)}get min(){return this.controller.valueController.props.get("min")}set min(e){this.controller.valueController.props.set("min",e)}}const Po=We("grl");class Eo{constructor(e,t){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Po()),t.viewProps.bindClassModifiers(this.element),this.formatter_=t.formatter,this.props_=t.props,this.cursor_=t.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const n=e.createElementNS(Ae,"svg");n.classList.add(Po("g")),n.style.height="calc(var(".concat(qn("containerUnitSize"),") * ").concat(t.rows,")"),this.element.appendChild(n),this.svgElem_=n;const r=e.createElementNS(Ae,"polyline");this.svgElem_.appendChild(r),this.lineElem_=r;const i=e.createElement("div");i.classList.add(Po("t"),We("tt")()),this.element.appendChild(i),this.tooltipElem_=i,t.value.emitter.on("change",this.onValueUpdate_),this.value=t.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const{clientWidth:e,clientHeight:t}=this.element,n=this.value.rawValue.length-1,r=this.props_.get("min"),i=this.props_.get("max"),o=[];this.value.rawValue.forEach(((s,a)=>{if(void 0===s)return;const l=ae(a,0,n,0,e),u=ae(s,r,i,t,0);o.push([l,u].join(","))})),this.lineElem_.setAttributeNS(null,"points",o.join(" "));const s=this.tooltipElem_,a=this.value.rawValue[this.cursor_.rawValue];if(void 0===a)return void s.classList.remove(Po("t","a"));const l=ae(this.cursor_.rawValue,0,n,0,e),u=ae(a,r,i,t,0);s.style.left="".concat(l,"px"),s.style.top="".concat(u,"px"),s.textContent="".concat(this.formatter_(a)),s.classList.contains(Po("t","a"))||(s.classList.add(Po("t","a"),Po("t","in")),je(s),s.classList.remove(Po("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class So{constructor(e,t){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.cursor_=A(-1),this.view=new Eo(e,{cursor:this.cursor_,formatter:t.formatter,rows:t.rows,props:this.props,value:this.value,viewProps:this.viewProps}),ze(e)){const e=new On(this.view.element);e.emitter.on("down",this.onGraphPointerDown_),e.emitter.on("move",this.onGraphPointerMove_),e.emitter.on("up",this.onGraphPointerUp_)}else this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_)}importProps(e){return De(e,null,(e=>({max:e.required.number,min:e.required.number})),(e=>(this.props.set("max",e.max),this.props.set("min",e.min),!0)))}exportProps(){return Oe(null,{max:this.props.get("max"),min:this.props.get("min")})}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(e){const{clientWidth:t}=this.view.element;this.cursor_.rawValue=Math.floor(ae(e.offsetX,0,t,0,this.value.rawValue.length))}onGraphPointerDown_(e){this.onGraphPointerMove_(e)}onGraphPointerMove_(e){e.data.point?this.cursor_.rawValue=Math.floor(ae(e.data.point.x,0,e.data.bounds.width,0,this.value.rawValue.length)):this.cursor_.rawValue=-1}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function Vo(e){return C(e.format)?se(2):e.format}function Lo(e){return"graph"===e.view}const Mo=_t({id:"monitor-number",type:"monitor",accept:(e,t)=>{if("number"!==typeof e)return null;const n=Me(t,(e=>({format:e.optional.function,max:e.optional.number,min:e.optional.number,readonly:e.required.constant(!0),rows:e.optional.number,view:e.optional.string})));return n?{initialValue:e,params:n}:null},binding:{defaultBufferSize:e=>Lo(e)?64:1,reader:e=>ie},controller:e=>Lo(e.params)?function(e){var t,n,r;return new So(e.document,{formatter:Vo(e.params),rows:null!==(t=e.params.rows)&&void 0!==t?t:mo.defaultRows,props:j.fromObject({max:null!==(n=e.params.max)&&void 0!==n?n:100,min:null!==(r=e.params.min)&&void 0!==r?r:0}),value:e.value,viewProps:e.viewProps})}(e):function(e){var t;return 1===e.value.rawValue.length?new Co(e.document,{formatter:Vo(e.params),value:e.value,viewProps:e.viewProps}):new wo(e.document,{formatter:Vo(e.params),rows:null!==(t=e.params.rows)&&void 0!==t?t:mo.defaultRows,value:e.value,viewProps:e.viewProps})}(e),api:e=>e.controller.valueController instanceof So?new ko(e.controller):null}),Do=_t({id:"monitor-string",type:"monitor",accept:(e,t)=>{if("string"!==typeof e)return null;const n=Me(t,(e=>({multiline:e.optional.boolean,readonly:e.required.constant(!0),rows:e.optional.number})));return n?{initialValue:e,params:n}:null},binding:{reader:e=>kn},controller:e=>{var t;const n=e.value;return n.rawValue.length>1||e.params.multiline?new wo(e.document,{formatter:Pn,rows:null!==(t=e.params.rows)&&void 0!==t?t:mo.defaultRows,value:n,viewProps:e.viewProps}):new Co(e.document,{formatter:Pn,value:n,viewProps:e.viewProps})}});class Oo{constructor(e){this.target=e.target,this.reader_=e.reader,this.writer_=e.writer}read(){return this.reader_(this.target.read())}write(e){this.writer_(this.target,e)}inject(e){this.write(this.reader_(e))}}class No{constructor(e){this.target=e.target,this.reader_=e.reader}read(){return this.reader_(this.target.read())}}function To(e,t){return 0===t?new nn:new rn(e,null!==t&&void 0!==t?t:mo.defaultInterval)}class Ao{constructor(e){this.pluginsMap_={blades:[],inputs:[],monitors:[]},this.apiCache_=e}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(e,t){if(!(n=t.core)||n.major!==wt.major)throw L.notCompatible(e,t.id);var n;"blade"===t.type?this.pluginsMap_.blades.unshift(t):"input"===t.type?this.pluginsMap_.inputs.unshift(t):"monitor"===t.type&&this.pluginsMap_.monitors.unshift(t)}createInput_(e,t,n){return this.pluginsMap_.inputs.reduce(((r,i)=>null!==r&&void 0!==r?r:function(e,t){var n;const r=e.accept(t.target.read(),t.params);if(C(r))return null;const i={target:t.target,initialValue:r.initialValue,params:r.params},o=Me(t.params,(e=>({disabled:e.optional.boolean,hidden:e.optional.boolean,label:e.optional.string,tag:e.optional.string}))),s=e.binding.reader(i),a=e.binding.constraint?e.binding.constraint(i):void 0,l=new Oo({reader:s,target:t.target,writer:e.binding.writer(i)}),u=new Ee(A(s(r.initialValue),{constraint:a,equals:e.binding.equals}),l),c=e.controller({constraint:a,document:t.document,initialValue:r.initialValue,params:r.params,value:u,viewProps:Bt.create({disabled:null===o||void 0===o?void 0:o.disabled,hidden:null===o||void 0===o?void 0:o.hidden})});return new it(t.document,{blade:Mt(),props:j.fromObject({label:"label"in t.params?null!==(n=null===o||void 0===o?void 0:o.label)&&void 0!==n?n:null:t.target.key}),tag:null===o||void 0===o?void 0:o.tag,value:u,valueController:c})}(i,{document:e,target:t,params:n})),null)}createMonitor_(e,t,n){return this.pluginsMap_.monitors.reduce(((r,i)=>null!==r&&void 0!==r?r:function(e,t){var n,r,i;const o=e.accept(t.target.read(),t.params);if(C(o))return null;const s={target:t.target,initialValue:o.initialValue,params:o.params},a=Me(t.params,(e=>({bufferSize:e.optional.number,disabled:e.optional.boolean,hidden:e.optional.boolean,interval:e.optional.number,label:e.optional.string}))),l=e.binding.reader(s),u=null!==(r=null!==(n=null===a||void 0===a?void 0:a.bufferSize)&&void 0!==n?n:e.binding.defaultBufferSize&&e.binding.defaultBufferSize(o.params))&&void 0!==r?r:1,c=new lt({binding:new No({reader:l,target:t.target}),bufferSize:u,ticker:To(t.document,null===a||void 0===a?void 0:a.interval)}),d=e.controller({document:t.document,params:o.params,value:c,viewProps:Bt.create({disabled:null===a||void 0===a?void 0:a.disabled,hidden:null===a||void 0===a?void 0:a.hidden})});return d.viewProps.bindDisabled(c.ticker),d.viewProps.handleDispose((()=>{c.ticker.dispose()})),new ut(t.document,{blade:Mt(),props:j.fromObject({label:"label"in t.params?null!==(i=null===a||void 0===a?void 0:a.label)&&void 0!==i?i:null:t.target.key}),value:c,valueController:d})}(i,{document:e,params:n,target:t})),null)}createBinding(e,t,n){if(C(t.read()))throw new L({context:{key:t.key},type:"nomatchingcontroller"});const r=this.createInput_(e,t,n);if(r)return r;const i=this.createMonitor_(e,t,n);if(i)return i;throw new L({context:{key:t.key},type:"nomatchingcontroller"})}createBlade(e,t){const n=this.pluginsMap_.blades.reduce(((n,r)=>null!==n&&void 0!==n?n:function(e,t){const n=e.accept(t.params);if(!n)return null;const r=Me(t.params,(e=>({disabled:e.optional.boolean,hidden:e.optional.boolean})));return e.controller({blade:Mt(),document:t.document,params:Object.assign(Object.assign({},n.params),{disabled:null===r||void 0===r?void 0:r.disabled,hidden:null===r||void 0===r?void 0:r.hidden}),viewProps:Bt.create({disabled:null===r||void 0===r?void 0:r.disabled,hidden:null===r||void 0===r?void 0:r.hidden})})}(r,{document:e,params:t})),null);if(!n)throw new L({type:"nomatchingview",context:{params:t}});return n}createInputBindingApi_(e){const t=this.pluginsMap_.inputs.reduce(((t,n)=>{var r,i;return t||(null!==(i=null===(r=n.api)||void 0===r?void 0:r.call(n,{controller:e}))&&void 0!==i?i:null)}),null);return this.apiCache_.add(e,null!==t&&void 0!==t?t:new Pe(e))}createMonitorBindingApi_(e){const t=this.pluginsMap_.monitors.reduce(((t,n)=>{var r,i;return t||(null!==(i=null===(r=n.api)||void 0===r?void 0:r.call(n,{controller:e}))&&void 0!==i?i:null)}),null);return this.apiCache_.add(e,null!==t&&void 0!==t?t:new Pe(e))}createBindingApi(e){if(this.apiCache_.has(e))return this.apiCache_.get(e);if(ot(e))return this.createInputBindingApi_(e);if(ct(e))return this.createMonitorBindingApi_(e);throw L.shouldNeverHappen()}createApi(e){if(this.apiCache_.has(e))return this.apiCache_.get(e);if(function(e){return Ne(e)&&Te(e.value)}(e))return this.createBindingApi(e);const t=this.pluginsMap_.blades.reduce(((t,n)=>null!==t&&void 0!==t?t:n.api({controller:e,pool:this})),null);if(!t)throw L.shouldNeverHappen();return this.apiCache_.add(e,t)}}const jo=new class{constructor(){this.map_=new Map}get(e){var t;return null!==(t=this.map_.get(e))&&void 0!==t?t:null}has(e){return this.map_.has(e)}add(e,t){return this.map_.set(e,t),e.viewProps.handleDispose((()=>{this.map_.delete(e)})),t}};class zo extends we{constructor(e){super(e),this.emitter_=new D,this.controller.value.emitter.on("change",(e=>{this.emitter_.emit("change",new ye(this,e.rawValue))}))}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,t){const n=t.bind(this);return this.emitter_.on(e,(e=>{n(e)}),{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}}class Ro extends we{}class Fo extends we{constructor(e){super(e),this.emitter_=new D,this.controller.value.emitter.on("change",(e=>{this.emitter_.emit("change",new ye(this,e.rawValue))}))}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,t){const n=t.bind(this);return this.emitter_.on(e,(e=>{n(e)}),{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}}class Io extends we{constructor(e){super(e),this.emitter_=new D,this.controller.value.emitter.on("change",(e=>{this.emitter_.emit("change",new ye(this,e.rawValue))}))}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get formatter(){return this.controller.valueController.props.get("formatter")}set formatter(e){this.controller.valueController.props.set("formatter",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,t){const n=t.bind(this);return this.emitter_.on(e,(e=>{n(e)}),{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}}const Bo={id:"list",type:"blade",core:wt,accept(e){const t=Me(e,(e=>({options:e.required.custom(ln),value:e.required.raw,view:e.required.constant("list"),label:e.optional.string})));return t?{params:t}:null},controller(e){const t=new an(un(e.params.options)),n=A(e.params.value,{constraint:t}),r=new hn(e.document,{props:new j({options:t.values.value("options")}),value:n,viewProps:e.viewProps});return new tt(e.document,{blade:e.blade,props:j.fromObject({label:e.params.label}),value:n,valueController:r})},api:e=>e.controller instanceof tt&&e.controller.valueController instanceof hn?new zo(e.controller):null};class Uo extends Tt{constructor(e,t){super(e,t)}get element(){return this.controller.view.element}}class Ko extends zt{constructor(e,t){super(e,{expanded:t.expanded,blade:t.blade,props:t.props,root:!0,viewProps:t.viewProps})}}const qo=We("spr");class Ho{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(qo()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("hr");n.classList.add(qo("r")),this.element.appendChild(n)}}class $o extends et{constructor(e,t){super(Object.assign(Object.assign({},t),{view:new Ho(e,{viewProps:t.viewProps})}))}}const Go={id:"separator",type:"blade",core:wt,accept(e){const t=Me(e,(e=>({view:e.required.constant("separator")})));return t?{params:t}:null},controller:e=>new $o(e.document,{blade:e.blade,viewProps:e.viewProps}),api:e=>e.controller instanceof $o?new Ro(e.controller):null},Wo={id:"slider",type:"blade",core:wt,accept(e){const t=Me(e,(e=>({max:e.required.number,min:e.required.number,view:e.required.constant("slider"),format:e.optional.function,label:e.optional.string,value:e.optional.number})));return t?{params:t}:null},controller(e){var t,n;const r=null!==(t=e.params.value)&&void 0!==t?t:0,i=new z({max:e.params.max,min:e.params.min}),o=A(r,{constraint:i}),s=new Bn(e.document,Object.assign(Object.assign({},Un({formatter:null!==(n=e.params.format)&&void 0!==n?n:oe,keyScale:A(1),max:i.values.value("max"),min:i.values.value("min"),pointerScale:he(e.params,r)})),{parser:re,value:o,viewProps:e.viewProps}));return new tt(e.document,{blade:e.blade,props:j.fromObject({label:e.params.label}),value:o,valueController:s})},api:e=>e.controller instanceof tt&&e.controller.valueController instanceof Bn?new Fo(e.controller):null},Qo={id:"text",type:"blade",core:wt,accept(e){const t=Me(e,(e=>({parse:e.required.function,value:e.required.raw,view:e.required.constant("text"),format:e.optional.function,label:e.optional.string})));return t?{params:t}:null},controller(e){var t;const n=A(e.params.value),r=new wn(e.document,{parser:e.params.parse,props:j.fromObject({formatter:null!==(t=e.params.format)&&void 0!==t?t:e=>String(e)}),value:n,viewProps:e.viewProps});return new tt(e.document,{blade:e.blade,props:j.fromObject({label:e.params.label}),value:n,valueController:r})},api:e=>e.controller instanceof tt&&e.controller.valueController instanceof wn?new Io(e.controller):null};class Yo extends Uo{constructor(e){var t,n;const r=null!==e&&void 0!==e?e:{},i=null!==(t=r.document)&&void 0!==t?t:Re(),o=function(){const e=new Ao(jo);return[ro,lo,vo,fo,Ui,ji,Ai,Oi,Jn,xo,Do,Mo,yt,Rt,en].forEach((t=>{e.register("core",t)})),e}();super(new Ko(i,{expanded:r.expanded,blade:Mt(),props:j.fromObject({title:r.title}),viewProps:Bt.create()}),o),this.pool_=o,this.containerElem_=null!==(n=r.container)&&void 0!==n?n:function(e){const t=e.createElement("div");return t.classList.add(We("dfw")()),e.body&&e.body.appendChild(t),t}(i),this.containerElem_.appendChild(this.element),this.doc_=i,this.usesDefaultWrapper_=!r.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw L.alreadyDisposed();return this.doc_}dispose(){const e=this.containerElem_;if(!e)throw L.alreadyDisposed();if(this.usesDefaultWrapper_){const t=e.parentElement;t&&t.removeChild(e)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(e){e.css&&function(e,t,n){if(e.querySelector("style[data-tp-style=".concat(t,"]")))return;const r=e.createElement("style");r.dataset.tpStyle=t,r.textContent=n,e.head.appendChild(r)}(this.document,"plugin-".concat(e.id),e.css);("plugin"in e?[e.plugin]:"plugins"in e?e.plugins:[]).forEach((t=>{this.pool_.register(e.id,t)}))}setUpDefaultPlugins_(){this.registerPlugin({id:"default",css:'.tp-tbiv_b,.tp-coltxtv_ms,.tp-colswv_b,.tp-ckbv_i,.tp-sglv_i,.tp-mllv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-rotv_b,.tp-fldv_b,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--bld-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--cnt-usz);line-height:var(--cnt-usz);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tbpv_c>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-vp))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tbpv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tbpv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tbpv_c>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--cnt-usp)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tbpv_c>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tbpv_c>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-vp)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tbpv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tbpv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-vp)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tbpv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tbpv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tbpv_c>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tbpv_c>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--bld-br);border-bottom-left-radius:var(--bld-br)}.tp-tbpv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tbpv_c .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--bld-br)}.tp-tbpv_c>.tp-cntv+.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-cntv+.tp-fldv>.tp-fldv_b{border-top-left-radius:0}.tp-tbpv_c>.tp-cntv+.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-cntv+.tp-tabv>.tp-tabv_t{border-top-left-radius:0}.tp-tbpv_c>.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-tabv>.tp-tabv_t{border-top-left-radius:var(--bld-br)}.tp-tbpv_c .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--bld-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--cnt-usz) + 4px);line-height:calc(var(--cnt-usz) + 4px);overflow:hidden;padding-left:var(--cnt-hp);padding-right:calc(4px + var(--cnt-usz) + var(--cnt-hp));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-hp) + (var(--cnt-usz) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-vp);padding-top:var(--cnt-vp);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--cnt-usz);line-height:var(--cnt-usz);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-sglv_i,.tp-mllv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--mo-fg);height:var(--cnt-usz);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-sglv_i::-webkit-scrollbar,.tp-mllv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-sglv_i::-webkit-scrollbar-corner,.tp-mllv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-sglv_i::-webkit-scrollbar-thumb,.tp-mllv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-rotv{--bs-bg: var(--tp-base-background-color, hsl(230, 7%, 17%));--bs-br: var(--tp-base-border-radius, 6px);--bs-ff: var(--tp-base-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--bld-br: var(--tp-blade-border-radius, 2px);--bld-hp: var(--tp-blade-horizontal-padding, 4px);--bld-vw: var(--tp-blade-value-width, 160px);--btn-bg: var(--tp-button-background-color, hsl(230, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230, 7%, 75%));--cnt-hp: var(--tp-container-horizontal-padding, 4px);--cnt-vp: var(--tp-container-vertical-padding, 4px);--cnt-usp: var(--tp-container-unit-spacing, 4px);--cnt-usz: var(--tp-container-unit-size, 20px);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--bld-br);cursor:pointer;display:block;height:var(--cnt-usz);position:relative;width:var(--cnt-usz)}.tp-ckbv_w svg{display:block;height:16px;inset:0;margin:auto;opacity:0;position:absolute;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--cnt-usz)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--cnt-usp);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-hp));right:calc(-1*var(--cnt-hp));top:var(--cnt-usz)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--cnt-usp)}.tp-colpv_rgb{display:flex;margin-top:var(--cnt-usp);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-vp);padding-top:calc(var(--cnt-vp) + 2px);position:relative}.tp-colpv_a::before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-hp));position:absolute;right:calc(-1*var(--cnt-hp));top:0}.tp-colpv.tp-v-disabled .tp-colpv_a::before{opacity:.5}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--bld-br);outline:none;overflow:hidden;position:relative}.tp-svpv.tp-v-disabled{opacity:.5}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--cnt-usz)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--cnt-usz);outline:none;position:relative}.tp-hplv.tp-v-disabled{opacity:.5}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--bld-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--cnt-usz);outline:none;position:relative;width:100%}.tp-aplv.tp-v-disabled{opacity:.5}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{inset:0;position:absolute}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--bld-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--bld-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;inset:0;position:absolute}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--bld-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{cursor:pointer;display:block;height:var(--cnt-usz);left:0;position:absolute;top:0;width:var(--cnt-usz)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--bld-br);content:"";display:block;inset:0;position:absolute}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--bld-br);color:var(--lbl-fg);cursor:pointer;height:var(--cnt-usz);line-height:var(--cnt-usz);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv.tp-v-disabled .tp-coltxtv_mm{opacity:.5}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv{position:relative}.tp-fldv_t{padding-left:4px}.tp-fldv_b:disabled .tp-fldv_m{display:none}.tp-fldv_c{padding-left:4px}.tp-fldv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--cnt-usz) + 4px);width:max(var(--bs-br),4px)}.tp-fldv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-fldv_b:hover+.tp-fldv_i{color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_i{color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_i{color:var(--cnt-bg-a)}.tp-fldv.tp-v-disabled>.tp-fldv_i{opacity:.5}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--cnt-usz)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-hp);padding-right:var(--cnt-hp)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:var(--bld-vw)}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 var(--bld-hp);width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding-left:var(--bld-hp);padding-right:var(--bld-hp)}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--cnt-usz)*3);line-height:var(--cnt-usz);padding-left:var(--bld-hp);padding-right:var(--bld-hp);resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--cnt-usz);margin-right:4px;position:relative;width:var(--cnt-usz)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--cnt-usp);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-hp));right:calc(-1*var(--cnt-hp));top:var(--cnt-usz)}.tp-p2dpv{padding-left:calc(var(--cnt-usz) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv.tp-v-disabled .tp-p2dpv_p{opacity:.5}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:var(--bld-vw);padding:var(--cnt-vp) var(--cnt-hp);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--cnt-usz);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;content:"";display:block;height:2px;inset:0;margin:auto;position:absolute}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;content:"";display:block;height:2px;inset:0;margin-bottom:auto;margin-top:auto;position:absolute}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--bld-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv{position:relative}.tp-tabv_t{align-items:flex-end;color:var(--cnt-bg);display:flex;overflow:hidden;position:relative}.tp-tabv_t:hover{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus){color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active){color:var(--cnt-bg-a)}.tp-tabv_t::before{background-color:currentColor;bottom:0;content:"";height:2px;left:0;pointer-events:none;position:absolute;right:0}.tp-tabv.tp-v-disabled .tp-tabv_t::before{opacity:.5}.tp-tabv.tp-tabv-nop .tp-tabv_t{height:calc(var(--cnt-usz) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_t::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--cnt-usz) + 4px);width:max(var(--bs-br),4px)}.tp-tabv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-tabv_t:hover+.tp-tabv_i{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus)+.tp-tabv_i{color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active)+.tp-tabv_i{color:var(--cnt-bg-a)}.tp-tabv.tp-v-disabled>.tp-tabv_i{opacity:.5}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv.tp-v-disabled::before{opacity:.5}.tp-tbiv_b{display:block;padding-left:calc(var(--cnt-hp) + 4px);padding-right:calc(var(--cnt-hp) + 4px);position:relative;width:100%}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_b::before{background-color:var(--cnt-bg);content:"";inset:0 0 2px;pointer-events:none;position:absolute}.tp-tbiv_b:hover::before{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus::before{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active::before{background-color:var(--cnt-bg-a)}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--cnt-usz) + 4px);line-height:calc(var(--cnt-usz) + 4px);opacity:.5;overflow:hidden;position:relative;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-tbpv_c{padding-bottom:var(--cnt-vp);padding-left:4px;padding-top:var(--cnt-vp)}.tp-txtv{position:relative}.tp-txtv_i{padding-left:var(--bld-hp);padding-right:var(--bld-hp)}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:calc(var(--bld-hp) - 5px);position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--cnt-usz) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--bld-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--bs-ff);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--cnt-usz) + var(--cnt-hp));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0;transition-delay:0s;transition-duration:0s}.tp-rotv.tp-rotv-not>.tp-rotv_b{display:none}.tp-rotv_b:disabled .tp-rotv_m{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst.tp-fldv-expanded>.tp-fldv_b{transition-delay:0s;transition-duration:0s}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-vp))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-vp))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_t{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sprv.tp-v-disabled .tp-sprv_r{opacity:.5}',plugins:[Bo,Go,Wo,en,Qo]})}}new gt("4.0.5");function Xo(e){return null===e||void 0===e}function Zo(e){return null!==e&&"object"===typeof e}function Jo(e){return null!==e&&"object"===typeof e}function es(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ts(e,t){return Array.from(new Set([...Object.keys(e),...Object.keys(t)])).reduce(((n,r)=>{const i=e[r],o=t[r];return Jo(i)&&Jo(o)?Object.assign(Object.assign({},n),{[r]:ts(i,o)}):Object.assign(Object.assign({},n),{[r]:r in t?o:i})}),{})}const ns={alreadydisposed:()=>"View has been already disposed",invalidparams:e=>"Invalid parameters for '".concat(e.name,"'"),nomatchingcontroller:e=>"No matching controller for '".concat(e.key,"'"),nomatchingview:e=>"No matching view for '".concat(JSON.stringify(e.params),"'"),notbindable:()=>"Value is not bindable",notcompatible:e=>"Not compatible with  plugin '".concat(e.id,"'"),propertynotfound:e=>"Property '".concat(e.name,"' not found"),shouldneverhappen:()=>"This error should never happen"};class rs{static alreadyDisposed(){return new rs({type:"alreadydisposed"})}static notBindable(){return new rs({type:"notbindable"})}static notCompatible(e,t){return new rs({type:"notcompatible",context:{id:"".concat(e,".").concat(t)}})}static propertyNotFound(e){return new rs({type:"propertynotfound",context:{name:e}})}static shouldNeverHappen(){return new rs({type:"shouldneverhappen"})}constructor(e){var t;this.message=null!==(t=ns[e.type](e.context))&&void 0!==t?t:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type}toString(){return this.message}}class is{constructor(e,t){this.obj_=e,this.key=t}static isBindable(e){return null!==e&&("object"===typeof e||"function"===typeof e)}read(){return this.obj_[this.key]}write(e){this.obj_[this.key]=e}writeProperty(e,t){const n=this.read();if(!is.isBindable(n))throw rs.notBindable();if(!(e in n))throw rs.propertyNotFound(e);n[e]=t}}class os{constructor(){this.observers_={}}on(e,t){let n=this.observers_[e];return n||(n=this.observers_[e]=[]),n.push({handler:t}),this}off(e,t){const n=this.observers_[e];return n&&(this.observers_[e]=n.filter((e=>e.handler!==t))),this}emit(e,t){const n=this.observers_[e];n&&n.forEach((e=>{e.handler(t)}))}}class ss{constructor(e,t){var n;this.constraint_=null===t||void 0===t?void 0:t.constraint,this.equals_=null!==(n=null===t||void 0===t?void 0:t.equals)&&void 0!==n?n:(e,t)=>e===t,this.emitter=new os,this.rawValue_=e}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,t){const n=null!==t&&void 0!==t?t:{forceEmit:!1,last:!0},r=this.constraint_?this.constraint_.constrain(e):e,i=this.rawValue_;(!this.equals_(i,r)||n.forceEmit)&&(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=r,this.emitter.emit("change",{options:n,previousRawValue:i,rawValue:r,sender:this}))}}class as{constructor(e){this.emitter=new os,this.value_=e}get rawValue(){return this.value_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,t){const n=null!==t&&void 0!==t?t:{forceEmit:!1,last:!0},r=this.value_;(r!==e||n.forceEmit)&&(this.emitter.emit("beforechange",{sender:this}),this.value_=e,this.emitter.emit("change",{options:n,previousRawValue:r,rawValue:this.value_,sender:this}))}}class ls{constructor(e){this.emitter=new os,this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_)}get rawValue(){return this.value_.rawValue}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}function us(e,t){const n=null===t||void 0===t?void 0:t.constraint,r=null===t||void 0===t?void 0:t.equals;return n||r?new ss(e,t):new as(e)}class cs{constructor(e){this.emitter=new os,this.valMap_=e;for(const t in this.valMap_){this.valMap_[t].emitter.on("change",(()=>{this.emitter.emit("change",{key:t,sender:this})}))}}static createCore(e){return Object.keys(e).reduce(((t,n)=>Object.assign(t,{[n]:us(e[n])})),{})}static fromObject(e){const t=this.createCore(e);return new cs(t)}get(e){return this.valMap_[e].rawValue}set(e,t){this.valMap_[e].rawValue=t}value(e){return this.valMap_[e]}}class ds{constructor(e){this.values=cs.fromObject({max:e.max,min:e.min})}constrain(e){const t=this.values.get("max"),n=this.values.get("min");return Math.min(Math.max(e,n),t)}}class ps{constructor(e){this.values=cs.fromObject({max:e.max,min:e.min})}constrain(e){const t=this.values.get("max"),n=this.values.get("min");let r=e;return Xo(n)||(r=Math.max(r,n)),Xo(t)||(r=Math.min(r,t)),r}}class hs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.step=e,this.origin=t}constrain(e){const t=this.origin%this.step;return t+Math.round((e-t)/this.step)*this.step}}class vs{constructor(e){this.text=e}evaluate(){return Number(this.text)}toString(){return this.text}}const fs={"**":(e,t)=>Math.pow(e,t),"*":(e,t)=>e*t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t,"&":(e,t)=>e&t,"^":(e,t)=>e^t,"|":(e,t)=>e|t};class ms{constructor(e,t,n){this.left=t,this.operator=e,this.right=n}evaluate(){const e=fs[this.operator];if(!e)throw new Error("unexpected binary operator: '".concat(this.operator));return e(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const bs={"+":e=>e,"-":e=>-e,"~":e=>~e};class gs{constructor(e,t){this.operator=e,this.expression=t}evaluate(){const e=bs[this.operator];if(!e)throw new Error("unexpected unary operator: '".concat(this.operator));return e(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function ws(e){return(t,n)=>{for(let r=0;r<e.length;r++){const i=e[r](t,n);if(""!==i)return i}return""}}function _s(e,t){var n;const r=e.substr(t).match(/^\s+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}function ys(e,t){var n;const r=e.substr(t).match(/^[0-9]+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}function Cs(e,t){const n=e.substr(t,1);if(t+=1,"e"!==n.toLowerCase())return"";const r=function(e,t){const n=ys(e,t);if(""!==n)return n;const r=e.substr(t,1);if("-"!==r&&"+"!==r)return"";const i=ys(e,t+=1);return""===i?"":r+i}(e,t);return""===r?"":n+r}function xs(e,t){const n=e.substr(t,1);if("0"===n)return n;const r=function(e,t){const n=e.substr(t,1);return n.match(/^[1-9]$/)?n:""}(e,t);return t+=r.length,""===r?"":r+ys(e,t)}const ks=ws([function(e,t){const n=xs(e,t);if(t+=n.length,""===n)return"";const r=e.substr(t,1);if(t+=r.length,"."!==r)return"";const i=ys(e,t);return n+r+i+Cs(e,t+=i.length)},function(e,t){const n=e.substr(t,1);if(t+=n.length,"."!==n)return"";const r=ys(e,t);return t+=r.length,""===r?"":n+r+Cs(e,t)},function(e,t){const n=xs(e,t);return t+=n.length,""===n?"":n+Cs(e,t)}]);const Ps=ws([function(e,t){const n=e.substr(t,2);if(t+=n.length,"0b"!==n.toLowerCase())return"";const r=function(e,t){var n;const r=e.substr(t).match(/^[01]+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}(e,t);return""===r?"":n+r},function(e,t){const n=e.substr(t,2);if(t+=n.length,"0o"!==n.toLowerCase())return"";const r=function(e,t){var n;const r=e.substr(t).match(/^[0-7]+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}(e,t);return""===r?"":n+r},function(e,t){const n=e.substr(t,2);if(t+=n.length,"0x"!==n.toLowerCase())return"";const r=function(e,t){var n;const r=e.substr(t).match(/^[0-9a-f]+/i);return null!==(n=r&&r[0])&&void 0!==n?n:""}(e,t);return""===r?"":n+r}]),Es=ws([Ps,ks]);function Ss(e,t){var n;return null!==(n=function(e,t){const n=Es(e,t);return t+=n.length,""===n?null:{evaluable:new vs(n),cursor:t}}(e,t))&&void 0!==n?n:function(e,t){const n=e.substr(t,1);if(t+=n.length,"("!==n)return null;const r=Ms(e,t);if(!r)return null;t=r.cursor,t+=_s(e,t).length;const i=e.substr(t,1);return t+=i.length,")"!==i?null:{evaluable:r.evaluable,cursor:t}}(e,t)}function Vs(e,t,n){n+=_s(t,n).length;const r=e.filter((e=>t.startsWith(e,n)))[0];return r?(n+=r.length,{cursor:n+=_s(t,n).length,operator:r}):null}const Ls=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce(((e,t)=>function(e,t){return(n,r)=>{const i=e(n,r);if(!i)return null;r=i.cursor;let o=i.evaluable;for(;;){const i=Vs(t,n,r);if(!i)break;r=i.cursor;const s=e(n,r);if(!s)return null;r=s.cursor,o=new ms(i.operator,o,s.evaluable)}return o?{cursor:r,evaluable:o}:null}}(e,t)),(function e(t,n){const r=Ss(t,n);if(r)return r;const i=t.substr(n,1);if(n+=i.length,"+"!==i&&"-"!==i&&"~"!==i)return null;const o=e(t,n);return o?{cursor:n=o.cursor,evaluable:new gs(i,o.evaluable)}:null}));function Ms(e,t){return t+=_s(e,t).length,Ls(e,t)}function Ds(e){var t;const n=function(e){const t=Ms(e,0);return t?t.cursor+_s(e,t.cursor).length!==e.length?null:t.evaluable:null}(e);return null!==(t=null===n||void 0===n?void 0:n.evaluate())&&void 0!==t?t:null}function Os(e){if("number"===typeof e)return e;if("string"===typeof e){const t=Ds(e);if(!Xo(t))return t}return 0}function Ns(e){return t=>t.toFixed(Math.max(Math.min(e,20),0))}function Ts(e,t,n,r,i){return r+(e-t)/(n-t)*(i-r)}function As(e){return String(e.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function js(e,t,n){return Math.min(Math.max(e,t),n)}function zs(e,t){return(e%t+t)%t}function Rs(e,t){return Xo(e.step)?Math.max(As(t),2):As(e.step)}function Fs(e){var t;return null!==(t=e.step)&&void 0!==t?t:1}function Is(e,t){var n;const r=Math.abs(null!==(n=e.step)&&void 0!==n?n:t);return 0===r?.1:Math.pow(10,Math.floor(Math.log10(r))-1)}function Bs(e,t){return Xo(e.step)?null:new hs(e.step,t)}function Us(e){return Xo(e.max)||Xo(e.min)?Xo(e.max)&&Xo(e.min)?null:new ps({max:e.max,min:e.min}):new ds({max:e.max,min:e.min})}function Ks(e,t){var n,r,i;return{formatter:null!==(n=e.format)&&void 0!==n?n:Ns(Rs(e,t)),keyScale:null!==(r=e.keyScale)&&void 0!==r?r:Fs(e),pointerScale:null!==(i=e.pointerScale)&&void 0!==i?i:Is(e,t)}}function qs(e){return{format:e.optional.function,keyScale:e.optional.number,max:e.optional.number,min:e.optional.number,pointerScale:e.optional.number,step:e.optional.number}}function Hs(e){return{constraint:e.constraint,textProps:cs.fromObject(Ks(e.params,e.initialValue))}}class $s{constructor(e){this.controller=e}get element(){return this.controller.view.element}get disabled(){return this.controller.viewProps.get("disabled")}set disabled(e){this.controller.viewProps.set("disabled",e)}get hidden(){return this.controller.viewProps.get("hidden")}set hidden(e){this.controller.viewProps.set("hidden",e)}dispose(){this.controller.viewProps.set("disposed",!0)}importState(e){return this.controller.importState(e)}exportState(){return this.controller.exportState()}}class Gs{constructor(e){this.target=e}}class Ws extends Gs{constructor(e,t,n){super(e),this.value=t,this.last=null===n||void 0===n||n}}class Qs extends Gs{constructor(e,t){super(e),this.expanded=t}}class Ys extends Gs{constructor(e,t){super(e),this.index=t}}class Xs extends $s{constructor(e){super(e),this.onValueChange_=this.onValueChange_.bind(this),this.emitter_=new os,this.controller.value.emitter.on("change",this.onValueChange_)}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get key(){return this.controller.value.binding.target.key}get tag(){return this.controller.tag}set tag(e){this.controller.tag=e}on(e,t){const n=t.bind(this);return this.emitter_.on(e,(e=>{n(e)})),this}refresh(){this.controller.value.fetch()}onValueChange_(e){const t=this.controller.value;this.emitter_.emit("change",new Ws(this,t.binding.target.read(),e.options.last))}}function Zs(e){return t=>n=>{if(!t&&void 0===n)return{succeeded:!1,value:void 0};if(t&&void 0===n)return{succeeded:!0,value:void 0};const r=e(n);return void 0!==r?{succeeded:!0,value:r}:{succeeded:!1,value:void 0}}}function Js(e){return{custom:t=>Zs(t)(e),boolean:Zs((e=>"boolean"===typeof e?e:void 0))(e),number:Zs((e=>"number"===typeof e?e:void 0))(e),string:Zs((e=>"string"===typeof e?e:void 0))(e),function:Zs((e=>"function"===typeof e?e:void 0))(e),constant:t=>Zs((e=>e===t?t:void 0))(e),raw:Zs((e=>e))(e),object:t=>Zs((e=>{var n;if(null!==(n=e)&&"object"===typeof n)return function(e,t){return Object.keys(t).reduce(((n,r)=>{if(void 0===n)return;const i=(0,t[r])(e[r]);return i.succeeded?Object.assign(Object.assign({},n),{[r]:i.value}):void 0}),{})}(e,t)}))(e),array:t=>Zs((e=>{var n;if(Array.isArray(e))return n=t,e.reduce(((e,t)=>{if(void 0===e)return;const r=n(t);return r.succeeded&&void 0!==r.value?[...e,r.value]:void 0}),[])}))(e)}}const ea={optional:Js(!0),required:Js(!1)};function ta(e,t){const n=t(ea),r=ea.required.object(n)(e);return r.succeeded?r.value:void 0}function na(e,t,n,r){if(t&&!t(e))return!1;const i=ta(e,n);return!!i&&r(i)}function ra(e,t){var n;return ts(null!==(n=null===e||void 0===e?void 0:e())&&void 0!==n?n:{},t)}function ia(e){return"value"in e}function oa(e){if(!Zo(e)||!("binding"in e))return!1;const t=e.binding;return!!Zo(n=t)&&"target"in n;var n}const sa="http://www.w3.org/2000/svg";function aa(e){e.offsetHeight}function la(e){return void 0!==e.ontouchstart}const ua={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function ca(e,t){const n=e.createElementNS(sa,"svg");return n.innerHTML=ua[t],n}function da(e,t,n){e.insertBefore(t,e.children[n])}function pa(e){e.parentElement&&e.parentElement.removeChild(e)}function ha(e){for(;e.children.length>0;)e.removeChild(e.children[0])}function va(e){return e.relatedTarget?e.relatedTarget:"explicitOriginalTarget"in e?e.explicitOriginalTarget:null}function fa(e,t){e.emitter.on("change",(e=>{t(e.rawValue)})),t(e.rawValue)}function ma(e,t,n){fa(e.value(t),n)}const ba="tp";function ga(e){return(t,n)=>[ba,"-",e,"v",t?"_".concat(t):"",n?"-".concat(n):""].join("")}const wa=ga("lbl");class _a{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(wa()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("div");n.classList.add(wa("l")),ma(t.props,"label",(t=>{Xo(t)?this.element.classList.add(wa(void 0,"nol")):(this.element.classList.remove(wa(void 0,"nol")),function(e){for(;e.childNodes.length>0;)e.removeChild(e.childNodes[0])}(n),n.appendChild(function(e,t){const n=e.createDocumentFragment();return t.split("\n").map((t=>e.createTextNode(t))).forEach(((t,r)=>{r>0&&n.appendChild(e.createElement("br")),n.appendChild(t)})),n}(e,t)))})),this.element.appendChild(n),this.labelElement=n;const r=e.createElement("div");r.classList.add(wa("v")),this.element.appendChild(r),this.valueElement=r}}class ya{constructor(e,t){this.props=t.props,this.valueController=t.valueController,this.viewProps=t.valueController.viewProps,this.view=new _a(e,{props:t.props,viewProps:this.viewProps}),this.view.valueElement.appendChild(this.valueController.view.element)}importProps(e){return na(e,null,(e=>({label:e.optional.string})),(e=>(this.props.set("label",e.label),!0)))}exportProps(){return ra(null,{label:this.props.get("label")})}}const Ca=ga(""),xa={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class ka{constructor(e){this.parent_=null,this.blade=e.blade,this.view=e.view,this.viewProps=e.viewProps;const t=this.view.element;this.blade.value("positions").emitter.on("change",(()=>{["veryfirst","first","last","verylast"].forEach((e=>{t.classList.remove(Ca(void 0,xa[e]))})),this.blade.get("positions").forEach((e=>{t.classList.add(Ca(void 0,xa[e]))}))})),this.viewProps.handleDispose((()=>{pa(t)}))}get parent(){return this.parent_}set parent(e){this.parent_=e,this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}importState(e){return na(e,null,(e=>({disabled:e.required.boolean,hidden:e.required.boolean})),(e=>(this.viewProps.importState(e),!0)))}exportState(){return ra(null,Object.assign({},this.viewProps.exportState()))}}class Pa extends ka{constructor(e,t){if(t.value!==t.valueController.value)throw rs.shouldNeverHappen();const n=t.valueController.viewProps,r=new ya(e,{blade:t.blade,props:t.props,valueController:t.valueController});super(Object.assign(Object.assign({},t),{view:new _a(e,{props:t.props,viewProps:n}),viewProps:n})),this.labelController=r,this.value=t.value,this.valueController=t.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}importState(e){return na(e,(t=>{var n,r,i;return super.importState(t)&&this.labelController.importProps(t)&&(null===(i=null===(r=(n=this.valueController).importProps)||void 0===r?void 0:r.call(n,e))||void 0===i||i)}),(e=>({value:e.optional.raw})),(e=>(e.value&&(this.value.rawValue=e.value),!0)))}exportState(){var e,t,n;return ra((()=>super.exportState()),Object.assign(Object.assign({value:this.value.rawValue},this.labelController.exportProps()),null!==(n=null===(t=(e=this.valueController).exportProps)||void 0===t?void 0:t.call(e))&&void 0!==n?n:{}))}}function Ea(e,t){for(;e.length<t;)e.push(void 0)}function Sa(e){const t=[];return Ea(t,e),t}function Va(e){const t=e.indexOf(void 0);return t<0?e:e.slice(0,t)}class La extends $s{get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get title(){var e;return null!==(e=this.controller.buttonController.props.get("title"))&&void 0!==e?e:""}set title(e){this.controller.buttonController.props.set("title",e)}on(e,t){const n=t.bind(this);return this.controller.buttonController.emitter.on(e,(()=>{n(new Gs(this))})),this}}function Ma(e,t){return n=>{!function(e,t,n){n?e.classList.add(t):e.classList.remove(t)}(e,t,n)}}function Da(e,t){fa(e,(e=>{t.textContent=null!==e&&void 0!==e?e:""}))}const Oa=ga("btn");class Na{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Oa()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("button");n.classList.add(Oa("b")),t.viewProps.bindDisabled(n),this.element.appendChild(n),this.buttonElement=n;const r=e.createElement("div");r.classList.add(Oa("t")),Da(t.props.value("title"),r),this.buttonElement.appendChild(r)}}class Ta{constructor(e,t){this.emitter=new os,this.onClick_=this.onClick_.bind(this),this.props=t.props,this.viewProps=t.viewProps,this.view=new Na(e,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}importProps(e){return na(e,null,(e=>({title:e.optional.string})),(e=>(this.props.set("title",e.title),!0)))}exportProps(){return ra(null,{title:this.props.get("title")})}onClick_(){this.emitter.emit("click",{sender:this})}}class Aa extends ka{constructor(e,t){const n=new Ta(e,{props:t.buttonProps,viewProps:t.viewProps}),r=new ya(e,{blade:t.blade,props:t.labelProps,valueController:n});super({blade:t.blade,view:r.view,viewProps:t.viewProps}),this.buttonController=n,this.labelController=r}importState(e){return na(e,(e=>super.importState(e)&&this.buttonController.importProps(e)&&this.labelController.importProps(e)),(()=>({})),(()=>!0))}exportState(){return ra((()=>super.exportState()),Object.assign(Object.assign({},this.buttonController.exportProps()),this.labelController.exportProps()))}}const ja=new class{constructor(e){const[t,n]=e.split("-"),r=t.split(".");this.major=parseInt(r[0],10),this.minor=parseInt(r[1],10),this.patch=parseInt(r[2],10),this.prerelease=null!==n&&void 0!==n?n:null}toString(){const e=[this.major,this.minor,this.patch].join(".");return null!==this.prerelease?[e,this.prerelease].join("-"):e}}("2.0.0-beta.2");function za(e){return Object.assign({core:ja},e)}za({id:"button",type:"blade",accept(e){const t=ta(e,(e=>({title:e.required.string,view:e.required.constant("button"),label:e.optional.string})));return t?{params:t}:null},controller:e=>new Aa(e.document,{blade:e.blade,buttonProps:cs.fromObject({title:e.params.title}),labelProps:cs.fromObject({label:e.params.label}),viewProps:e.viewProps}),api:e=>e.controller instanceof Aa?new La(e.controller):null});class Ra{constructor(e,t){this.onRackValueChange_=this.onRackValueChange_.bind(this),this.controller_=e,this.emitter_=new os,this.pool_=t;this.controller_.rack.emitter.on("valuechange",this.onRackValueChange_)}get children(){return this.controller_.rack.children.map((e=>this.pool_.createApi(e)))}addBinding(e,t,n){const r=null!==n&&void 0!==n?n:{},i=this.controller_.element.ownerDocument,o=this.pool_.createBinding(i,function(e,t){if(!is.isBindable(e))throw rs.notBindable();return new is(e,t)}(e,t),r),s=this.pool_.createBindingApi(o);return this.add(s,r.index)}addFolder(e){return function(e,t){return e.addBlade(Object.assign(Object.assign({},t),{view:"folder"}))}(this,e)}addButton(e){return function(e,t){return e.addBlade(Object.assign(Object.assign({},t),{view:"button"}))}(this,e)}addTab(e){return function(e,t){return e.addBlade(Object.assign(Object.assign({},t),{view:"tab"}))}(this,e)}add(e,t){const n=e.controller;return this.controller_.rack.add(n,t),e}remove(e){this.controller_.rack.remove(e.controller)}addBlade(e){const t=this.controller_.element.ownerDocument,n=this.pool_.createBlade(t,e),r=this.pool_.createApi(n);return this.add(r,e.index)}on(e,t){const n=t.bind(this);return this.emitter_.on(e,(e=>{n(e)})),this}refresh(){this.children.forEach((e=>{var t;Zo(t=e)&&"refresh"in t&&"function"===typeof t.refresh&&e.refresh()}))}onRackValueChange_(e){const t=e.bladeController,n=this.pool_.createApi(t),r=oa(t.value)?t.value.binding:null;this.emitter_.emit("change",new Ws(n,r?r.target.read():t.value.rawValue,e.options.last))}}class Fa extends $s{constructor(e,t){super(e),this.rackApi_=new Ra(e.rackController,t)}}class Ia extends ka{constructor(e){super({blade:e.blade,view:e.view,viewProps:e.rackController.viewProps}),this.rackController=e.rackController}importState(e){return na(e,(e=>super.importState(e)),(e=>({children:e.required.array(e.required.raw)})),(e=>this.rackController.rack.children.every(((t,n)=>t.importState(e.children[n])))))}exportState(){return ra((()=>super.exportState()),{children:this.rackController.rack.children.map((e=>e.exportState()))})}}function Ba(e){return"rackController"in e}class Ua{constructor(e){this.emitter=new os,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=e}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(e){for(const t of this.allItems())if(e(t))return t;return null}includes(e){return this.cache_.has(e)}add(e,t){if(this.includes(e))throw rs.shouldNeverHappen();const n=void 0!==t?t:this.items_.length;this.items_.splice(n,0,e),this.cache_.add(e);const r=this.extract_(e);r&&(r.emitter.on("add",this.onSubListAdd_),r.emitter.on("remove",this.onSubListRemove_),r.allItems().forEach((e=>{this.cache_.add(e)}))),this.emitter.emit("add",{index:n,item:e,root:this,target:this})}remove(e){const t=this.items_.indexOf(e);if(t<0)return;this.items_.splice(t,1),this.cache_.delete(e);const n=this.extract_(e);n&&(n.allItems().forEach((e=>{this.cache_.delete(e)})),n.emitter.off("add",this.onSubListAdd_),n.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:t,item:e,root:this,target:this})}onSubListAdd_(e){this.cache_.add(e.item),this.emitter.emit("add",{index:e.index,item:e.item,root:this,target:e.target})}onSubListRemove_(e){this.cache_.delete(e.item),this.emitter.emit("remove",{index:e.index,item:e.item,root:this,target:e.target})}}function Ka(e){return Ba(e)?e.rackController.rack.bcSet_:null}class qa{constructor(e){var t,n;this.emitter=new os,this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onRackLayout_=this.onRackLayout_.bind(this),this.onRackValueChange_=this.onRackValueChange_.bind(this),this.blade_=null!==(t=e.blade)&&void 0!==t?t:null,null===(n=this.blade_)||void 0===n||n.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=e.viewProps,this.bcSet_=new Ua(Ka),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(e,t){var n;null===(n=e.parent)||void 0===n||n.remove(e),e.parent=this,this.bcSet_.add(e,t)}remove(e){e.parent=null,this.bcSet_.remove(e)}find(e){return this.bcSet_.allItems().filter(e)}onSetAdd_(e){this.updatePositions_();const t=e.target===e.root;if(this.emitter.emit("add",{bladeController:e.item,index:e.index,root:t,sender:this}),!t)return;const n=e.item;if(n.viewProps.emitter.on("change",this.onChildViewPropsChange_),n.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),n.viewProps.handleDispose(this.onChildDispose_),ia(n))n.value.emitter.on("change",this.onChildValueChange_);else if(Ba(n)){const e=n.rackController.rack;if(e){const t=e.emitter;t.on("layout",this.onRackLayout_),t.on("valuechange",this.onRackValueChange_)}}}onSetRemove_(e){this.updatePositions_();const t=e.target===e.root;if(this.emitter.emit("remove",{bladeController:e.item,root:t,sender:this}),!t)return;const n=e.item;if(ia(n))n.value.emitter.off("change",this.onChildValueChange_);else if(Ba(n)){const e=n.rackController.rack;if(e){const t=e.emitter;t.off("layout",this.onRackLayout_),t.off("valuechange",this.onRackValueChange_)}}}updatePositions_(){const e=this.bcSet_.items.filter((e=>!e.viewProps.get("hidden"))),t=e[0],n=e[e.length-1];this.bcSet_.items.forEach((e=>{const r=[];e===t&&(r.push("first"),this.blade_&&!this.blade_.get("positions").includes("veryfirst")||r.push("veryfirst")),e===n&&(r.push("last"),this.blade_&&!this.blade_.get("positions").includes("verylast")||r.push("verylast")),e.blade.set("positions",r)}))}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter((e=>e.viewProps.get("disposed"))).forEach((e=>{this.bcSet_.remove(e)}))}onChildValueChange_(e){const t=function(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(ia(r)&&r.value===t)return r}return null}(this.find(ia),e.sender);if(!t)throw rs.alreadyDisposed();this.emitter.emit("valuechange",{bladeController:t,options:e.options,sender:this})}onRackLayout_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onRackValueChange_(e){this.emitter.emit("valuechange",{bladeController:e.bladeController,options:e.options,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class Ha{constructor(e){this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.element=e.element,this.viewProps=e.viewProps;const t=new qa({blade:e.root?void 0:e.blade,viewProps:e.viewProps});t.emitter.on("add",this.onRackAdd_),t.emitter.on("remove",this.onRackRemove_),this.rack=t,this.viewProps.handleDispose((()=>{for(let e=this.rack.children.length-1;e>=0;e--){this.rack.children[e].viewProps.set("disposed",!0)}}))}onRackAdd_(e){e.root&&da(this.element,e.bladeController.view.element,e.index)}onRackRemove_(e){e.root&&pa(e.bladeController.view.element)}}function $a(){return new cs({positions:us([],{equals:es})})}class Ga extends cs{constructor(e){super(e)}static create(e){const t={completed:!0,expanded:e,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},n=cs.createCore(t);return new Ga(n)}get styleExpanded(){var e;return null!==(e=this.get("temporaryExpanded"))&&void 0!==e?e:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const e=this.get("expandedHeight");return this.get("shouldFixHeight")&&!Xo(e)?"".concat(e,"px"):"auto"}bindExpandedClass(e,t){const n=()=>{this.styleExpanded?e.classList.add(t):e.classList.remove(t)};ma(this,"expanded",n),ma(this,"temporaryExpanded",n)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function Wa(e,t){t.style.height=e.styleHeight}function Qa(e,t){e.value("expanded").emitter.on("beforechange",(()=>{if(e.set("completed",!1),Xo(e.get("expandedHeight"))){const n=function(e,t){let n=0;return function(e,t){const n=e.style.transition;e.style.transition="none",t(),e.style.transition=n}(t,(()=>{e.set("expandedHeight",null),e.set("temporaryExpanded",!0),aa(t),n=t.clientHeight,e.set("temporaryExpanded",null),aa(t)})),n}(e,t);n>0&&e.set("expandedHeight",n)}e.set("shouldFixHeight",!0),aa(t)})),e.emitter.on("change",(()=>{Wa(e,t)})),Wa(e,t),t.addEventListener("transitionend",(t=>{"height"===t.propertyName&&e.cleanUpTransition()}))}class Ya extends Fa{constructor(e,t){super(e,t),this.emitter_=new os,this.controller.foldable.value("expanded").emitter.on("change",(e=>{this.emitter_.emit("fold",new Qs(this,e.sender.rawValue))})),this.rackApi_.on("change",(e=>{this.emitter_.emit("change",e)}))}get expanded(){return this.controller.foldable.get("expanded")}set expanded(e){this.controller.foldable.set("expanded",e)}get title(){return this.controller.props.get("title")}set title(e){this.controller.props.set("title",e)}get children(){return this.rackApi_.children}addBinding(e,t,n){return this.rackApi_.addBinding(e,t,n)}addFolder(e){return this.rackApi_.addFolder(e)}addButton(e){return this.rackApi_.addButton(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,t){return this.rackApi_.add(e,t)}remove(e){this.rackApi_.remove(e)}addBlade(e){return this.rackApi_.addBlade(e)}on(e,t){const n=t.bind(this);return this.emitter_.on(e,(e=>{n(e)})),this}refresh(){this.rackApi_.refresh()}}const Xa=ga("cnt");class Za{constructor(e,t){var n;this.className_=ga(null!==(n=t.viewName)&&void 0!==n?n:"fld"),this.element=e.createElement("div"),this.element.classList.add(this.className_(),Xa()),t.viewProps.bindClassModifiers(this.element),this.foldable_=t.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),ma(this.foldable_,"completed",Ma(this.element,this.className_(void 0,"cpl")));const r=e.createElement("button");r.classList.add(this.className_("b")),ma(t.props,"title",(e=>{Xo(e)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))})),t.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const i=e.createElement("div");i.classList.add(this.className_("i")),this.element.appendChild(i);const o=e.createElement("div");o.classList.add(this.className_("t")),Da(t.props.value("title"),o),this.buttonElement.appendChild(o),this.titleElement=o;const s=e.createElement("div");s.classList.add(this.className_("m")),this.buttonElement.appendChild(s);const a=e.createElement("div");a.classList.add(this.className_("c")),this.element.appendChild(a),this.containerElement=a}}class Ja extends Ia{constructor(e,t){var n;const r=Ga.create(null===(n=t.expanded)||void 0===n||n),i=new Za(e,{foldable:r,props:t.props,viewName:t.root?"rot":void 0,viewProps:t.viewProps});super(Object.assign(Object.assign({},t),{rackController:new Ha({blade:t.blade,element:i.containerElement,root:t.root,viewProps:t.viewProps}),view:i})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=t.props,this.foldable=r,Qa(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",(()=>{this.foldable.cleanUpTransition()})),this.rackController.rack.emitter.on("remove",(()=>{this.foldable.cleanUpTransition()})),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}importState(e){return na(e,(e=>super.importState(e)),(e=>({expanded:e.required.boolean,title:e.optional.string})),(e=>(this.foldable.set("expanded",e.expanded),this.props.set("title",e.title),!0)))}exportState(){return ra((()=>super.exportState()),{expanded:this.foldable.get("expanded"),title:this.props.get("title")})}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}za({id:"folder",type:"blade",accept(e){const t=ta(e,(e=>({title:e.required.string,view:e.required.constant("folder"),expanded:e.optional.boolean})));return t?{params:t}:null},controller:e=>new Ja(e.document,{blade:e.blade,expanded:e.params.expanded,props:cs.fromObject({title:e.params.title}),viewProps:e.viewProps}),api:e=>e.controller instanceof Ja?new Ya(e.controller,e.pool):null});const el=ga("");function tl(e,t){return Ma(e,el(void 0,t))}class nl extends cs{constructor(e){var t,n;super(e),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=(n=us(this.getGlobalDisabled_()),[new ls(n),(e,t)=>{n.setRawValue(e,t)}]),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),null===(t=this.get("parent"))||void 0===t||t.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(e){var t,n,r;const i=null!==e&&void 0!==e?e:{};return new nl(cs.createCore({disabled:null!==(t=i.disabled)&&void 0!==t&&t,disposed:!1,hidden:null!==(n=i.hidden)&&void 0!==n&&n,parent:null!==(r=i.parent)&&void 0!==r?r:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(e){fa(this.globalDisabled_,tl(e,"disabled")),ma(this,"hidden",tl(e,"hidden"))}bindDisabled(e){fa(this.globalDisabled_,(t=>{e.disabled=t}))}bindTabIndex(e){fa(this.globalDisabled_,(t=>{e.tabIndex=t?-1:0}))}handleDispose(e){this.value("disposed").emitter.on("change",(t=>{t&&e()}))}importState(e){this.set("disabled",e.disabled),this.set("hidden",e.hidden)}exportState(){return{disabled:this.get("disabled"),hidden:this.get("hidden")}}getGlobalDisabled_(){const e=this.get("parent");return!!e&&e.globalDisabled.rawValue||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(e){var t;const n=e.previousRawValue;null===n||void 0===n||n.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),null===(t=this.get("parent"))||void 0===t||t.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}const rl=ga("tbp");class il{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(rl()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("div");n.classList.add(rl("c")),this.element.appendChild(n),this.containerElement=n}}const ol=ga("tbi");class sl{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(ol()),t.viewProps.bindClassModifiers(this.element),ma(t.props,"selected",(e=>{e?this.element.classList.add(ol(void 0,"sel")):this.element.classList.remove(ol(void 0,"sel"))}));const n=e.createElement("button");n.classList.add(ol("b")),t.viewProps.bindDisabled(n),this.element.appendChild(n),this.buttonElement=n;const r=e.createElement("div");r.classList.add(ol("t")),Da(t.props.value("title"),r),this.buttonElement.appendChild(r),this.titleElement=r}}class al{constructor(e,t){this.emitter=new os,this.onClick_=this.onClick_.bind(this),this.props=t.props,this.viewProps=t.viewProps,this.view=new sl(e,{props:t.props,viewProps:t.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class ll extends Ia{constructor(e,t){const n=new il(e,{viewProps:t.viewProps});super(Object.assign(Object.assign({},t),{rackController:new Ha({blade:t.blade,element:n.containerElement,viewProps:t.viewProps}),view:n})),this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new al(e,{props:t.itemProps,viewProps:nl.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.props=t.props,ma(this.props,"selected",(e=>{this.itemController.props.set("selected",e),this.viewProps.set("hidden",!e)}))}get itemController(){return this.ic_}importState(e){return na(e,(e=>super.importState(e)),(e=>({selected:e.required.boolean,title:e.required.string})),(e=>(this.ic_.props.set("selected",e.selected),this.ic_.props.set("title",e.title),!0)))}exportState(){return ra((()=>super.exportState()),{selected:this.ic_.props.get("selected"),title:this.ic_.props.get("title")})}onItemClick_(){this.props.set("selected",!0)}}class ul extends Fa{constructor(e,t){super(e,t),this.emitter_=new os,this.onSelect_=this.onSelect_.bind(this),this.pool_=t,this.rackApi_.on("change",(e=>{this.emitter_.emit("change",e)})),this.controller.tab.selectedIndex.emitter.on("change",this.onSelect_)}get pages(){return this.rackApi_.children}addPage(e){const t=this.controller.view.element.ownerDocument,n=new ll(t,{blade:$a(),itemProps:cs.fromObject({selected:!1,title:e.title}),props:cs.fromObject({selected:!1}),viewProps:nl.create()}),r=this.pool_.createApi(n);return this.rackApi_.add(r,e.index)}removePage(e){this.rackApi_.remove(this.rackApi_.children[e])}on(e,t){const n=t.bind(this);return this.emitter_.on(e,(e=>{n(e)})),this}onSelect_(e){this.emitter_.emit("select",new Ys(this,e.rawValue))}}class cl extends Fa{get title(){var e;return null!==(e=this.controller.itemController.props.get("title"))&&void 0!==e?e:""}set title(e){this.controller.itemController.props.set("title",e)}get selected(){return this.controller.props.get("selected")}set selected(e){this.controller.props.set("selected",e)}get children(){return this.rackApi_.children}addButton(e){return this.rackApi_.addButton(e)}addFolder(e){return this.rackApi_.addFolder(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,t){this.rackApi_.add(e,t)}remove(e){this.rackApi_.remove(e)}addBinding(e,t,n){return this.rackApi_.addBinding(e,t,n)}addBlade(e){return this.rackApi_.addBlade(e)}refresh(){this.rackApi_.refresh()}}class dl{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=us(!0),this.selectedIndex=us(-1),this.items_=[]}add(e,t){const n=null!==t&&void 0!==t?t:this.items_.length;this.items_.splice(n,0,e),e.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(e){const t=this.items_.indexOf(e);t<0||(this.items_.splice(t,1),e.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(0===this.items_.length)return this.selectedIndex.rawValue=-1,void(this.empty.rawValue=!0);const e=this.items_.findIndex((e=>e.rawValue));e<0?(this.items_.forEach(((e,t)=>{e.rawValue=0===t})),this.selectedIndex.rawValue=0):(this.items_.forEach(((t,n)=>{t.rawValue=n===e})),this.selectedIndex.rawValue=e),this.empty.rawValue=!1}onItemSelectedChange_(e){if(e.rawValue){const t=this.items_.findIndex((t=>t===e.sender));this.items_.forEach(((e,n)=>{e.rawValue=n===t})),this.selectedIndex.rawValue=t}else this.keepSelection_()}}const pl=ga("tab");class hl{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(pl(),Xa()),t.viewProps.bindClassModifiers(this.element),fa(t.empty,Ma(this.element,pl(void 0,"nop")));const n=e.createElement("div");n.classList.add(pl("t")),this.element.appendChild(n),this.itemsElement=n;const r=e.createElement("div");r.classList.add(pl("i")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(pl("c")),this.element.appendChild(i),this.contentsElement=i}}class vl extends Ia{constructor(e,t){const n=new dl,r=new hl(e,{empty:n.empty,viewProps:t.viewProps});super({blade:t.blade,rackController:new Ha({blade:t.blade,element:r.contentsElement,viewProps:t.viewProps}),view:r}),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const i=this.rackController.rack;i.emitter.on("add",this.onRackAdd_),i.emitter.on("remove",this.onRackRemove_),this.tab=n}add(e,t){this.rackController.rack.add(e,t)}remove(e){this.rackController.rack.remove(this.rackController.rack.children[e])}onRackAdd_(e){if(!e.root)return;const t=e.bladeController;da(this.view.itemsElement,t.itemController.view.element,e.index),t.itemController.viewProps.set("parent",this.viewProps),this.tab.add(t.props.value("selected"))}onRackRemove_(e){if(!e.root)return;const t=e.bladeController;pa(t.itemController.view.element),t.itemController.viewProps.set("parent",null),this.tab.remove(t.props.value("selected"))}}za({id:"tab",type:"blade",accept(e){const t=ta(e,(e=>({pages:e.required.array(e.required.object({title:e.required.string})),view:e.required.constant("tab")})));return t&&0!==t.pages.length?{params:t}:null},controller(e){const t=new vl(e.document,{blade:e.blade,viewProps:e.viewProps});return e.params.pages.forEach((n=>{const r=new ll(e.document,{blade:$a(),itemProps:cs.fromObject({selected:!1,title:n.title}),props:cs.fromObject({selected:!1}),viewProps:nl.create()});t.add(r)})),t},api:e=>e.controller instanceof vl?new ul(e.controller,e.pool):e.controller instanceof ll?new cl(e.controller,e.pool):null});class fl extends Xs{get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}}class ml{constructor(){this.disabled=!1,this.emitter=new os}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class bl{constructor(e,t){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=e,this.emitter=new os,this.interval_=t,this.setTimer_()}get disabled(){return this.disabled_}set disabled(e){this.disabled_=e,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(null===this.timerId_)return;const e=this.doc_.defaultView;e&&e.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const e=this.doc_.defaultView;e&&(this.timerId_=e.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class gl{constructor(e){this.constraints=e}constrain(e){return this.constraints.reduce(((e,t)=>t.constrain(e)),e)}}function wl(e,t){if(e instanceof t)return e;if(e instanceof gl){const n=e.constraints.reduce(((e,n)=>e||(n instanceof t?n:null)),null);if(n)return n}return null}class _l{constructor(e){this.values=cs.fromObject({options:e})}constrain(e){const t=this.values.get("options");if(0===t.length)return e;return t.filter((t=>t.value===e)).length>0?e:t[0].value}}function yl(e){var t;const n=ea;return Array.isArray(e)?null===(t=ta({items:e},(e=>({items:e.required.array(e.required.object({text:e.required.string,value:e.required.raw}))}))))||void 0===t?void 0:t.items:"object"===typeof e?n.required.raw(e).value:void 0}function Cl(e){if(Array.isArray(e))return e;const t=[];return Object.keys(e).forEach((n=>{t.push({text:n,value:e[n]})})),t}function xl(e){return Xo(e)?null:new _l(Cl(e))}const kl=ga("lst");class Pl{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.props_=t.props,this.element=e.createElement("div"),this.element.classList.add(kl()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("select");n.classList.add(kl("s")),t.viewProps.bindDisabled(n),this.element.appendChild(n),this.selectElement=n;const r=e.createElement("div");r.classList.add(kl("m")),r.appendChild(ca(e,"dropdown")),this.element.appendChild(r),t.value.emitter.on("change",this.onValueChange_),this.value_=t.value,ma(this.props_,"options",(t=>{ha(this.selectElement),t.forEach((t=>{const n=e.createElement("option");n.textContent=t.text,this.selectElement.appendChild(n)})),this.update_()}))}update_(){const e=this.props_.get("options").map((e=>e.value));this.selectElement.selectedIndex=e.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}}class El{constructor(e,t){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.view=new Pl(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(e){const t=e.currentTarget;this.value.rawValue=this.props.get("options")[t.selectedIndex].value}importProps(e){return na(e,null,(e=>({options:e.required.custom(yl)})),(e=>(this.props.set("options",Cl(e.options)),!0)))}exportProps(){return ra(null,{options:this.props.get("options")})}}const Sl=ga("pop");class Vl{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Sl()),t.viewProps.bindClassModifiers(this.element),fa(t.shows,Ma(this.element,Sl(void 0,"v")))}}class Ll{constructor(e,t){this.shows=us(!1),this.viewProps=t.viewProps,this.view=new Vl(e,{shows:this.shows,viewProps:this.viewProps})}}const Ml=ga("txt");class Dl{constructor(e,t){this.onChange_=this.onChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Ml()),t.viewProps.bindClassModifiers(this.element),this.props_=t.props,this.props_.emitter.on("change",this.onChange_);const n=e.createElement("input");n.classList.add(Ml("i")),n.type="text",t.viewProps.bindDisabled(n),this.element.appendChild(n),this.inputElement=n,t.value.emitter.on("change",this.onChange_),this.value_=t.value,this.refresh()}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value_.rawValue)}onChange_(){this.refresh()}}class Ol{constructor(e,t){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=t.parser,this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.view=new Dl(e,{props:t.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){const t=e.currentTarget.value,n=this.parser_(t);Xo(n)||(this.value.rawValue=n),this.view.refresh()}}function Nl(e){return"false"!==e&&!!e}function Tl(e){return function(e){return String(e)}(e)}const Al=Ns(0);function jl(e){return Al(e)+"%"}function zl(e){return String(e)}function Rl(e){return e}function Fl(e){let{primary:t,secondary:n,forward:r,backward:i}=e,o=!1;function s(e){o||(o=!0,e(),o=!1)}t.emitter.on("change",(e=>{s((()=>{n.setRawValue(r(t.rawValue,n.rawValue),e.options)}))})),n.emitter.on("change",(e=>{s((()=>{t.setRawValue(i(t.rawValue,n.rawValue),e.options)})),s((()=>{n.setRawValue(r(t.rawValue,n.rawValue),e.options)}))})),s((()=>{n.setRawValue(r(t.rawValue,n.rawValue),{forceEmit:!1,last:!0})}))}function Il(e,t){const n=e*(t.altKey?.1:1)*(t.shiftKey?10:1);return t.upKey?+n:t.downKey?-n:0}function Bl(e){return{altKey:e.altKey,downKey:"ArrowDown"===e.key,shiftKey:e.shiftKey,upKey:"ArrowUp"===e.key}}function Ul(e){return{altKey:e.altKey,downKey:"ArrowLeft"===e.key,shiftKey:e.shiftKey,upKey:"ArrowRight"===e.key}}function Kl(e){return function(e){return"ArrowUp"===e||"ArrowDown"===e}(e)||"ArrowLeft"===e||"ArrowRight"===e}function ql(e,t){var n,r;const i=t.ownerDocument.defaultView,o=t.getBoundingClientRect();return{x:e.pageX-((null!==(n=i&&i.scrollX)&&void 0!==n?n:0)+o.left),y:e.pageY-((null!==(r=i&&i.scrollY)&&void 0!==r?r:0)+o.top)}}class Hl{constructor(e){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=e,this.emitter=new os,e.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),e.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),e.addEventListener("touchend",this.onTouchEnd_),e.addEventListener("mousedown",this.onMouseDown_)}computePosition_(e){const t=this.elem_.getBoundingClientRect();return{bounds:{width:t.width,height:t.height},point:e?{x:e.x,y:e.y}:null}}onMouseDown_(e){var t;e.preventDefault(),null===(t=e.currentTarget)||void 0===t||t.focus();const n=this.elem_.ownerDocument;n.addEventListener("mousemove",this.onDocumentMouseMove_),n.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(ql(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseMove_(e){this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(ql(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseUp_(e){const t=this.elem_.ownerDocument;t.removeEventListener("mousemove",this.onDocumentMouseMove_),t.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(ql(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onTouchStart_(e){e.preventDefault();const t=e.targetTouches.item(0),n=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(t?{x:t.clientX-n.left,y:t.clientY-n.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=t}onTouchMove_(e){const t=e.targetTouches.item(0),n=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(t?{x:t.clientX-n.left,y:t.clientY-n.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=t}onTouchEnd_(e){var t;const n=null!==(t=e.targetTouches.item(0))&&void 0!==t?t:this.lastTouch_,r=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-r.left,y:n.clientY-r.top}:void 0),sender:this,shiftKey:e.shiftKey})}}const $l=ga("txt");class Gl{constructor(e,t){this.onChange_=this.onChange_.bind(this),this.props_=t.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add($l(),$l(void 0,"num")),t.arrayPosition&&this.element.classList.add($l(void 0,t.arrayPosition)),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("input");n.classList.add($l("i")),n.type="text",t.viewProps.bindDisabled(n),this.element.appendChild(n),this.inputElement=n,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=t.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add($l()),this.inputElement.classList.add($l("i"));const r=e.createElement("div");r.classList.add($l("k")),this.element.appendChild(r),this.knobElement=r;const i=e.createElementNS(sa,"svg");i.classList.add($l("g")),this.knobElement.appendChild(i);const o=e.createElementNS(sa,"path");o.classList.add($l("gb")),i.appendChild(o),this.guideBodyElem_=o;const s=e.createElementNS(sa,"path");s.classList.add($l("gh")),i.appendChild(s),this.guideHeadElem_=s;const a=e.createElement("div");a.classList.add(ga("tt")()),this.knobElement.appendChild(a),this.tooltipElem_=a,t.value.emitter.on("change",this.onChange_),this.value=t.value,this.refresh()}onDraggingChange_(e){if(null===e.rawValue)return void this.element.classList.remove($l(void 0,"drg"));this.element.classList.add($l(void 0,"drg"));const t=e.rawValue/this.props_.get("pointerScale"),n=t+(t>0?-1:t<0?1:0),r=js(-n,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",["M ".concat(n+r,",0 L").concat(n,",4 L").concat(n+r,",8"),"M ".concat(t,",-1 L").concat(t,",9")].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d","M 0,4 L".concat(t,",4"));const i=this.props_.get("formatter");this.tooltipElem_.textContent=i(this.value.rawValue),this.tooltipElem_.style.left="".concat(t,"px")}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value.rawValue)}onChange_(){this.refresh()}}class Wl{constructor(e,t){var n;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.parser_=t.parser,this.props=t.props,this.sliderProps_=null!==(n=t.sliderProps)&&void 0!==n?n:null,this.value=t.value,this.viewProps=t.viewProps,this.dragging_=us(null),this.view=new Gl(e,{arrayPosition:t.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const r=new Hl(this.view.knobElement);r.emitter.on("down",this.onPointerDown_),r.emitter.on("move",this.onPointerMove_),r.emitter.on("up",this.onPointerUp_)}constrainValue_(e){var t,n;const r=null===(t=this.sliderProps_)||void 0===t?void 0:t.get("min"),i=null===(n=this.sliderProps_)||void 0===n?void 0:n.get("max");let o=e;return void 0!==r&&(o=Math.max(o,r)),void 0!==i&&(o=Math.min(o,i)),o}onInputChange_(e){const t=e.currentTarget.value,n=this.parser_(t);Xo(n)||(this.value.rawValue=this.constrainValue_(n)),this.view.refresh()}onInputKeyDown_(e){const t=Il(this.props.get("keyScale"),Bl(e));0!==t&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+t),{forceEmit:!1,last:!1})}onInputKeyUp_(e){0!==Il(this.props.get("keyScale"),Bl(e))&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(e){if(!e.point)return null;const t=e.point.x-e.bounds.width/2;return this.constrainValue_(this.originRawValue_+t*this.props.get("pointerScale"))}onPointerMove_(e){const t=this.computeDraggingValue_(e.data);null!==t&&(this.value.setRawValue(t,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(e){const t=this.computeDraggingValue_(e.data);null!==t&&(this.value.setRawValue(t,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const Ql=ga("sld");class Yl{constructor(e,t){this.onChange_=this.onChange_.bind(this),this.props_=t.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(Ql()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("div");n.classList.add(Ql("t")),t.viewProps.bindTabIndex(n),this.element.appendChild(n),this.trackElement=n;const r=e.createElement("div");r.classList.add(Ql("k")),this.trackElement.appendChild(r),this.knobElement=r,t.value.emitter.on("change",this.onChange_),this.value=t.value,this.update_()}update_(){const e=js(Ts(this.value.rawValue,this.props_.get("min"),this.props_.get("max"),0,100),0,100);this.knobElement.style.width="".concat(e,"%")}onChange_(){this.update_()}}class Xl{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.props=t.props,this.view=new Yl(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Hl(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){e.point&&this.value.setRawValue(Ts(js(e.point.x,0,e.bounds.width),0,e.bounds.width,this.props.get("min"),this.props.get("max")),t)}onPointerDownOrMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const t=Il(this.props.get("keyScale"),Ul(e));0!==t&&this.value.setRawValue(this.value.rawValue+t,{forceEmit:!1,last:!1})}onKeyUp_(e){0!==Il(this.props.get("keyScale"),Ul(e))&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Zl=ga("sldtxt");class Jl{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Zl());const n=e.createElement("div");n.classList.add(Zl("s")),this.sliderView_=t.sliderView,n.appendChild(this.sliderView_.element),this.element.appendChild(n);const r=e.createElement("div");r.classList.add(Zl("t")),this.textView_=t.textView,r.appendChild(this.textView_.element),this.element.appendChild(r)}}class eu{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.sliderC_=new Xl(e,{props:t.sliderProps,value:t.value,viewProps:this.viewProps}),this.textC_=new Wl(e,{parser:t.parser,props:t.textProps,sliderProps:t.sliderProps,value:t.value,viewProps:t.viewProps}),this.view=new Jl(e,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}importProps(e){return na(e,null,(e=>({max:e.required.number,min:e.required.number})),(e=>{const t=this.sliderC_.props;return t.set("max",e.max),t.set("min",e.min),!0}))}exportProps(){const e=this.sliderC_.props;return ra(null,{max:e.get("max"),min:e.get("min")})}}const tu={containerUnitSize:"cnt-usz"};function nu(e){return"--".concat(tu[e])}class ru{constructor(e,t){const n=ga(t.viewName);this.element=e.createElement("div"),this.element.classList.add(n()),t.viewProps.bindClassModifiers(this.element)}}function iu(e){return qs(e)}function ou(e){if(Jo(e))return ta(e,iu)}function su(e,t){if(!e)return;const n=[],r=Bs(e,t);r&&n.push(r);const i=Us(e);return i&&n.push(i),new gl(n)}function au(e){if("inline"===e||"popup"===e)return e}function lu(e,t){e.write(t)}const uu=ga("ckb");class cu{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(uu()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("label");n.classList.add(uu("l")),this.element.appendChild(n);const r=e.createElement("input");r.classList.add(uu("i")),r.type="checkbox",n.appendChild(r),this.inputElement=r,t.viewProps.bindDisabled(this.inputElement);const i=e.createElement("div");i.classList.add(uu("w")),n.appendChild(i);const o=ca(e,"check");i.appendChild(o),t.value.emitter.on("change",this.onValueChange_),this.value=t.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class du{constructor(e,t){this.onInputChange_=this.onInputChange_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new cu(e,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){const t=e.currentTarget;this.value.rawValue=t.checked}}za({id:"input-bool",type:"input",accept:(e,t)=>{if("boolean"!==typeof e)return null;const n=ta(t,(e=>({options:e.optional.custom(yl),readonly:e.optional.constant(!1)})));return n?{initialValue:e,params:n}:null},binding:{reader:e=>Nl,constraint:e=>function(e){const t=[],n=xl(e.options);return n&&t.push(n),new gl(t)}(e.params),writer:e=>lu},controller:e=>{const t=e.document,n=e.value,r=e.constraint,i=r&&wl(r,_l);return i?new El(t,{props:new cs({options:i.values.value("options")}),value:n,viewProps:e.viewProps}):new du(t,{value:n,viewProps:e.viewProps})},api:e=>"boolean"!==typeof e.controller.value.rawValue?null:e.controller.valueController instanceof El?new fl(e.controller):null});const pu=ga("col");class hu{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(pu()),t.foldable.bindExpandedClass(this.element,pu(void 0,"expanded")),ma(t.foldable,"completed",Ma(this.element,pu(void 0,"cpl")));const n=e.createElement("div");n.classList.add(pu("h")),this.element.appendChild(n);const r=e.createElement("div");r.classList.add(pu("s")),n.appendChild(r),this.swatchElement=r;const i=e.createElement("div");if(i.classList.add(pu("t")),n.appendChild(i),this.textElement=i,"inline"===t.pickerLayout){const t=e.createElement("div");t.classList.add(pu("p")),this.element.appendChild(t),this.pickerElement=t}else this.pickerElement=null}}function vu(e,t,n){const r=zs(e,360),i=js(t/100,0,1),o=js(n/100,0,1),s=o*i,a=s*(1-Math.abs(r/60%2-1)),l=o-s;let u,c,d;return[u,c,d]=r>=0&&r<60?[s,a,0]:r>=60&&r<120?[a,s,0]:r>=120&&r<180?[0,s,a]:r>=180&&r<240?[0,a,s]:r>=240&&r<300?[a,0,s]:[s,0,a],[255*(u+l),255*(c+l),255*(d+l)]}function fu(e){return[e[0],e[1],e[2]]}function mu(e,t){return[e[0],e[1],e[2],t]}const bu={hsl:{hsl:(e,t,n)=>[e,t,n],hsv:function(e,t,n){const r=n+t*(100-Math.abs(2*n-100))/200;return[e,0!==r?t*(100-Math.abs(2*n-100))/r:0,n+t*(100-Math.abs(2*n-100))/200]},rgb:function(e,t,n){const r=(e%360+360)%360,i=js(t/100,0,1),o=js(n/100,0,1),s=(1-Math.abs(2*o-1))*i,a=s*(1-Math.abs(r/60%2-1)),l=o-s/2;let u,c,d;return[u,c,d]=r>=0&&r<60?[s,a,0]:r>=60&&r<120?[a,s,0]:r>=120&&r<180?[0,s,a]:r>=180&&r<240?[0,a,s]:r>=240&&r<300?[a,0,s]:[s,0,a],[255*(u+l),255*(c+l),255*(d+l)]}},hsv:{hsl:function(e,t,n){const r=100-Math.abs(n*(200-t)/100-100);return[e,0!==r?t*n/r:0,n*(200-t)/200]},hsv:(e,t,n)=>[e,t,n],rgb:vu},rgb:{hsl:function(e,t,n){const r=js(e/255,0,1),i=js(t/255,0,1),o=js(n/255,0,1),s=Math.max(r,i,o),a=Math.min(r,i,o),l=s-a;let u=0,c=0;const d=(a+s)/2;return 0!==l&&(c=l/(1-Math.abs(s+a-1)),u=r===s?(i-o)/l:i===s?2+(o-r)/l:4+(r-i)/l,u=u/6+(u<0?1:0)),[360*u,100*c,100*d]},hsv:function(e,t,n){const r=js(e/255,0,1),i=js(t/255,0,1),o=js(n/255,0,1),s=Math.max(r,i,o),a=s-Math.min(r,i,o);let l;return l=0===a?0:s===r?((i-o)/a%6+6)%6*60:s===i?60*((o-r)/a+2):60*((r-i)/a+4),[l,100*(0===s?0:a/s),100*s]},rgb:(e,t,n)=>[e,t,n]}};function gu(e,t){return["float"===t?1:"rgb"===e?255:360,"float"===t?1:"rgb"===e?255:100,"float"===t?1:"rgb"===e?255:100]}function wu(e,t,n){var r;const i=gu(t,n);return["rgb"===t?js(e[0],0,i[0]):(o=e[0],s=i[0],o===s?s:zs(o,s)),js(e[1],0,i[1]),js(e[2],0,i[2]),js(null!==(r=e[3])&&void 0!==r?r:1,0,1)];var o,s}function _u(e,t,n,r){const i=gu(t,n),o=gu(t,r);return e.map(((e,t)=>e/i[t]*o[t]))}function yu(e,t,n){const r=_u(e,t.mode,t.type,"int");return _u(bu[t.mode][n.mode](...r),n.mode,"int",n.type)}class Cu{static black(){return new Cu([0,0,0],"rgb")}constructor(e,t){this.type="int",this.mode=t,this.comps_=wu(e,t,this.type)}getComponents(e){return mu(yu(fu(this.comps_),{mode:this.mode,type:this.type},{mode:null!==e&&void 0!==e?e:this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const xu=ga("colp");class ku{constructor(e,t){this.alphaViews_=null,this.element=e.createElement("div"),this.element.classList.add(xu()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("div");n.classList.add(xu("hsv"));const r=e.createElement("div");r.classList.add(xu("sv")),this.svPaletteView_=t.svPaletteView,r.appendChild(this.svPaletteView_.element),n.appendChild(r);const i=e.createElement("div");i.classList.add(xu("h")),this.hPaletteView_=t.hPaletteView,i.appendChild(this.hPaletteView_.element),n.appendChild(i),this.element.appendChild(n);const o=e.createElement("div");if(o.classList.add(xu("rgb")),this.textsView_=t.textsView,o.appendChild(this.textsView_.element),this.element.appendChild(o),t.alphaViews){this.alphaViews_={palette:t.alphaViews.palette,text:t.alphaViews.text};const n=e.createElement("div");n.classList.add(xu("a"));const r=e.createElement("div");r.classList.add(xu("ap")),r.appendChild(this.alphaViews_.palette.element),n.appendChild(r);const i=e.createElement("div");i.classList.add(xu("at")),i.appendChild(this.alphaViews_.text.element),n.appendChild(i),this.element.appendChild(n)}}get allFocusableElements(){const e=[this.svPaletteView_.element,this.hPaletteView_.element,this.textsView_.modeSelectElement,...this.textsView_.inputViews.map((e=>e.inputElement))];return this.alphaViews_&&e.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),e}}function Pu(e){return"int"===e?"int":"float"===e?"float":void 0}function Eu(e){return ta(e,(e=>({color:e.optional.object({alpha:e.optional.boolean,type:e.optional.custom(Pu)}),expanded:e.optional.boolean,picker:e.optional.custom(au),readonly:e.optional.constant(!1)})))}function Su(e){return e?.1:1}function Vu(e){var t;return null===(t=e.color)||void 0===t?void 0:t.type}class Lu{constructor(e,t){this.type="float",this.mode=t,this.comps_=wu(e,t,this.type)}getComponents(e){return mu(yu(fu(this.comps_),{mode:this.mode,type:this.type},{mode:null!==e&&void 0!==e?e:this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const Mu={int:(e,t)=>new Cu(e,t),float:(e,t)=>new Lu(e,t)};function Du(e,t,n){return Mu[n](e,t)}function Ou(e,t){if(e.type===t)return e;if(function(e){return"int"===e.type}(e)&&"float"===t)return function(e){const t=e.getComponents(),n=gu(e.mode,"int");return new Lu([Ts(t[0],0,n[0],0,1),Ts(t[1],0,n[1],0,1),Ts(t[2],0,n[2],0,1),t[3]],e.mode)}(e);if(function(e){return"float"===e.type}(e)&&"int"===t)return function(e){const t=e.getComponents(),n=gu(e.mode,"int");return new Cu([Math.round(Ts(t[0],0,1,0,n[0])),Math.round(Ts(t[1],0,1,0,n[1])),Math.round(Ts(t[2],0,1,0,n[2])),t[3]],e.mode)}(e);throw rs.shouldNeverHappen()}function Nu(e,t){const n=e.match(/^(.+)%$/);return n?Math.min(.01*parseFloat(n[1])*t,t):Math.min(parseFloat(e),t)}const Tu={deg:e=>e,grad:e=>360*e/400,rad:e=>360*e/(2*Math.PI),turn:e=>360*e};function Au(e){const t=e.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!t)return parseFloat(e);const n=parseFloat(t[1]),r=t[2];return Tu[r](n)}function ju(e){const t=e.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const n=[Nu(t[1],255),Nu(t[2],255),Nu(t[3],255)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function zu(e){const t=ju(e);return t?new Cu(t,"rgb"):null}function Ru(e){const t=e.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const n=[Nu(t[1],255),Nu(t[2],255),Nu(t[3],255),Nu(t[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function Fu(e){const t=Ru(e);return t?new Cu(t,"rgb"):null}function Iu(e){const t=e.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const n=[Au(t[1]),Nu(t[2],100),Nu(t[3],100)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function Bu(e){const t=Iu(e);return t?new Cu(t,"hsl"):null}function Uu(e){const t=e.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const n=[Au(t[1]),Nu(t[2],100),Nu(t[3],100),Nu(t[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function Ku(e){const t=Uu(e);return t?new Cu(t,"hsl"):null}function qu(e){const t=e.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)];const n=e.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}function Hu(e){const t=qu(e);return t?new Cu(t,"rgb"):null}function $u(e){const t=e.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),Ts(parseInt(t[4]+t[4],16),0,255,0,1)];const n=e.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),Ts(parseInt(n[4],16),0,255,0,1)]:null}function Gu(e){const t=$u(e);return t?new Cu(t,"rgb"):null}function Wu(e){const t=e.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!t)return null;const n=[parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function Qu(e){return t=>{const n=Wu(t);return n?Du(n,"rgb",e):null}}function Yu(e){const t=e.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!t)return null;const n=[parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),parseFloat(t[4])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function Xu(e){return t=>{const n=Yu(t);return n?Du(n,"rgb",e):null}}const Zu=[{parser:qu,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:$u,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:ju,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:Ru,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:Iu,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:Uu,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:Wu,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:Yu,result:{alpha:!0,mode:"rgb",notation:"object"}}];function Ju(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"int";const n=function(e){return Zu.reduce(((t,n)=>{let{parser:r,result:i}=n;return t||(r(e)?i:null)}),null)}(e);return n?"hex"===n.notation&&"float"!==t?Object.assign(Object.assign({},n),{type:"int"}):"func"===n.notation?Object.assign(Object.assign({},n),{type:t}):null:null}function ec(e){const t=[Hu,Gu,zu,Fu,Bu,Ku];"int"===e&&t.push(Qu("int"),Xu("int")),"float"===e&&t.push(Qu("float"),Xu("float"));const n=function(e){return t=>e.reduce(((e,n)=>null!==e?e:n(t)),null)}(t);return t=>{const r=n(t);return r?Ou(r,e):null}}function tc(e){const t=ec("int");if("string"!==typeof e)return Cu.black();const n=t(e);return null!==n&&void 0!==n?n:Cu.black()}function nc(e){const t=js(Math.floor(e),0,255).toString(16);return 1===t.length?"0".concat(t):t}function rc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";const n=fu(e.getComponents("rgb")).map(nc).join("");return"".concat(t).concat(n)}function ic(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";const n=e.getComponents("rgb"),r=[n[0],n[1],n[2],255*n[3]].map(nc).join("");return"".concat(t).concat(r)}function oc(e){const t=Ns(0),n=fu(Ou(e,"int").getComponents("rgb")).map((e=>t(e)));return"rgb(".concat(n.join(", "),")")}function sc(e){const t=Ns(2),n=Ns(0),r=Ou(e,"int").getComponents("rgb").map(((e,r)=>(3===r?t:n)(e)));return"rgba(".concat(r.join(", "),")")}function ac(e,t){const n=Ns("float"===t?2:0),r=["r","g","b"],i=fu(Ou(e,t).getComponents("rgb")).map(((e,t)=>"".concat(r[t],": ").concat(n(e))));return"{".concat(i.join(", "),"}")}function lc(e){return t=>ac(t,e)}function uc(e,t){const n=Ns(2),r=Ns("float"===t?2:0),i=["r","g","b","a"],o=Ou(e,t).getComponents("rgb").map(((e,t)=>{const o=3===t?n:r;return"".concat(i[t],": ").concat(o(e))}));return"{".concat(o.join(", "),"}")}function cc(e){return t=>uc(t,e)}const dc=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:rc},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:ic},{format:{alpha:!1,mode:"rgb",notation:"func",type:"int"},stringifier:oc},{format:{alpha:!0,mode:"rgb",notation:"func",type:"int"},stringifier:sc},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:function(e){const t=[Ns(0),jl,jl],n=fu(Ou(e,"int").getComponents("hsl")).map(((e,n)=>t[n](e)));return"hsl(".concat(n.join(", "),")")}},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:function(e){const t=[Ns(0),jl,jl,Ns(2)],n=Ou(e,"int").getComponents("hsl").map(((e,n)=>t[n](e)));return"hsla(".concat(n.join(", "),")")}},...["int","float"].reduce(((e,t)=>[...e,{format:{alpha:!1,mode:"rgb",notation:"object",type:t},stringifier:lc(t)},{format:{alpha:!0,mode:"rgb",notation:"object",type:t},stringifier:cc(t)}]),[])];function pc(e){return dc.reduce(((t,n)=>{return t||(r=n.format,i=e,r.alpha===i.alpha&&r.mode===i.mode&&r.notation===i.notation&&r.type===i.type?n.stringifier:null);var r,i}),null)}const hc=ga("apl");class vc{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(hc()),t.viewProps.bindClassModifiers(this.element),t.viewProps.bindTabIndex(this.element);const n=e.createElement("div");n.classList.add(hc("b")),this.element.appendChild(n);const r=e.createElement("div");r.classList.add(hc("c")),n.appendChild(r),this.colorElem_=r;const i=e.createElement("div");i.classList.add(hc("m")),this.element.appendChild(i),this.markerElem_=i;const o=e.createElement("div");o.classList.add(hc("p")),this.markerElem_.appendChild(o),this.previewElem_=o,this.update_()}update_(){const e=this.value.rawValue,t=e.getComponents("rgb"),n=new Cu([t[0],t[1],t[2],0],"rgb"),r=new Cu([t[0],t[1],t[2],255],"rgb"),i=["to right",sc(n),sc(r)];this.colorElem_.style.background="linear-gradient(".concat(i.join(","),")"),this.previewElem_.style.backgroundColor=sc(e);const o=Ts(t[3],0,1,0,100);this.markerElem_.style.left="".concat(o,"%")}onValueChange_(){this.update_()}}class fc{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new vc(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Hl(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;const n=e.point.x/e.bounds.width,r=this.value.rawValue,[i,o,s]=r.getComponents("hsv");this.value.setRawValue(new Cu([i,o,s,n],"hsv"),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const t=Il(Su(!0),Ul(e));if(0===t)return;const n=this.value.rawValue,[r,i,o,s]=n.getComponents("hsv");this.value.setRawValue(new Cu([r,i,o,s+t],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){0!==Il(Su(!0),Ul(e))&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const mc=ga("coltxt");class bc{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(mc()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("div");n.classList.add(mc("m")),this.modeElem_=function(e){const t=e.createElement("select");return t.appendChild([{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"},{text:"HEX",value:"hex"}].reduce(((t,n)=>{const r=e.createElement("option");return r.textContent=n.text,r.value=n.value,t.appendChild(r),t}),e.createDocumentFragment())),t}(e),this.modeElem_.classList.add(mc("ms")),n.appendChild(this.modeSelectElement),t.viewProps.bindDisabled(this.modeElem_);const r=e.createElement("div");r.classList.add(mc("mm")),r.appendChild(ca(e,"dropdown")),n.appendChild(r),this.element.appendChild(n);const i=e.createElement("div");i.classList.add(mc("w")),this.element.appendChild(i),this.inputsElem_=i,this.inputViews_=t.inputViews,this.applyInputViews_(),fa(t.mode,(e=>{this.modeElem_.value=e}))}get modeSelectElement(){return this.modeElem_}get inputViews(){return this.inputViews_}set inputViews(e){this.inputViews_=e,this.applyInputViews_()}applyInputViews_(){ha(this.inputsElem_);const e=this.element.ownerDocument;this.inputViews_.forEach((t=>{const n=e.createElement("div");n.classList.add(mc("c")),n.appendChild(t.element),this.inputsElem_.appendChild(n)}))}}function gc(e,t,n){const r=gu(e,t)[n];return new ds({min:0,max:r})}function wc(e,t){const n={colorMode:t.colorMode,colorType:t.colorType,parser:Ds,viewProps:t.viewProps};return[0,1,2].map((r=>{const i=function(e,t,n){return new Wl(e,{arrayPosition:0===n?"fst":2===n?"lst":"mid",parser:t.parser,props:cs.fromObject({formatter:(r=t.colorType,Ns("float"===r?2:0)),keyScale:Su(!1),pointerScale:"float"===t.colorType?.01:1}),value:us(0,{constraint:gc(t.colorMode,t.colorType,n)}),viewProps:t.viewProps});var r}(e,n,r);return Fl({primary:t.value,secondary:i.value,forward:e=>Ou(e,t.colorType).getComponents(t.colorMode)[r],backward(e,n){const i=t.colorMode,o=Ou(e,t.colorType).getComponents(i);o[r]=n;return Ou(Du(mu(fu(o),o[3]),i,t.colorType),"int")}}),i}))}class _c{constructor(e,t){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=t.colorType,this.value=t.value,this.viewProps=t.viewProps,this.colorMode=us(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(e),this.view=new bc(e,{mode:this.colorMode,inputViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(e){const t=this.colorMode.rawValue;return function(e){return"hex"!==e}(t)?wc(e,{colorMode:t,colorType:this.colorType_,value:this.value,viewProps:this.viewProps}):function(e,t){const n=new Ol(e,{parser:ec("int"),props:cs.fromObject({formatter:rc}),value:us(Cu.black()),viewProps:t.viewProps});return Fl({primary:t.value,secondary:n.value,forward:e=>new Cu(fu(e.getComponents()),e.mode),backward:(e,t)=>new Cu(mu(fu(t.getComponents(e.mode)),e.getComponents()[3]),e.mode)}),[n]}(e,{value:this.value,viewProps:this.viewProps})}onModeSelectChange_(e){const t=e.currentTarget;this.colorMode.rawValue=t.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.inputViews=this.ccs_.map((e=>e.view))}}const yc=ga("hpl");class Cc{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(yc()),t.viewProps.bindClassModifiers(this.element),t.viewProps.bindTabIndex(this.element);const n=e.createElement("div");n.classList.add(yc("c")),this.element.appendChild(n);const r=e.createElement("div");r.classList.add(yc("m")),this.element.appendChild(r),this.markerElem_=r,this.update_()}update_(){const e=this.value.rawValue,[t]=e.getComponents("hsv");this.markerElem_.style.backgroundColor=oc(new Cu([t,100,100],"hsv"));const n=Ts(t,0,360,0,100);this.markerElem_.style.left="".concat(n,"%")}onValueChange_(){this.update_()}}class xc{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new Cc(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Hl(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;const n=Ts(js(e.point.x,0,e.bounds.width),0,e.bounds.width,0,360),r=this.value.rawValue,[,i,o,s]=r.getComponents("hsv");this.value.setRawValue(new Cu([n,i,o,s],"hsv"),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const t=Il(Su(!1),Ul(e));if(0===t)return;const n=this.value.rawValue,[r,i,o,s]=n.getComponents("hsv");this.value.setRawValue(new Cu([r+t,i,o,s],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){0!==Il(Su(!1),Ul(e))&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const kc=ga("svp");class Pc{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(kc()),t.viewProps.bindClassModifiers(this.element),t.viewProps.bindTabIndex(this.element);const n=e.createElement("canvas");n.height=64,n.width=64,n.classList.add(kc("c")),this.element.appendChild(n),this.canvasElement=n;const r=e.createElement("div");r.classList.add(kc("m")),this.element.appendChild(r),this.markerElem_=r,this.update_()}update_(){const e=function(e){const t=e.ownerDocument.defaultView;return t&&"document"in t?e.getContext("2d",{willReadFrequently:!0}):null}(this.canvasElement);if(!e)return;const t=this.value.rawValue.getComponents("hsv"),n=this.canvasElement.width,r=this.canvasElement.height,i=e.getImageData(0,0,n,r),o=i.data;for(let l=0;l<r;l++)for(let e=0;e<n;e++){const i=Ts(e,0,n,0,100),s=Ts(l,0,r,100,0),a=vu(t[0],i,s),u=4*(l*n+e);o[u]=a[0],o[u+1]=a[1],o[u+2]=a[2],o[u+3]=255}e.putImageData(i,0,0);const s=Ts(t[1],0,100,0,100);this.markerElem_.style.left="".concat(s,"%");const a=Ts(t[2],0,100,100,0);this.markerElem_.style.top="".concat(a,"%")}onValueChange_(){this.update_()}}class Ec{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new Pc(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Hl(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;const n=Ts(e.point.x,0,e.bounds.width,0,100),r=Ts(e.point.y,0,e.bounds.height,100,0),[i,,,o]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new Cu([i,n,r,o],"hsv"),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){Kl(e.key)&&e.preventDefault();const[t,n,r,i]=this.value.rawValue.getComponents("hsv"),o=Su(!1),s=Il(o,Ul(e)),a=Il(o,Bl(e));0===s&&0===a||this.value.setRawValue(new Cu([t,n+s,r+a,i],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){const t=Su(!1),n=Il(t,Ul(e)),r=Il(t,Bl(e));0===n&&0===r||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Sc{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.hPaletteC_=new xc(e,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new Ec(e,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=t.supportsAlpha?{palette:new fc(e,{value:this.value,viewProps:this.viewProps}),text:new Wl(e,{parser:Ds,props:cs.fromObject({pointerScale:.01,keyScale:.1,formatter:Ns(2)}),value:us(0,{constraint:new ds({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&Fl({primary:this.value,secondary:this.alphaIcs_.text.value,forward:e=>e.getComponents()[3],backward:(e,t)=>{const n=e.getComponents();return n[3]=t,new Cu(n,e.mode)}}),this.textsC_=new _c(e,{colorType:t.colorType,value:this.value,viewProps:this.viewProps}),this.view=new ku(e,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:t.supportsAlpha,svPaletteView:this.svPaletteC_.view,textsView:this.textsC_.view,viewProps:this.viewProps})}get textsController(){return this.textsC_}}const Vc=ga("colsw");class Lc{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),t.value.emitter.on("change",this.onValueChange_),this.value=t.value,this.element=e.createElement("div"),this.element.classList.add(Vc()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("div");n.classList.add(Vc("sw")),this.element.appendChild(n),this.swatchElem_=n;const r=e.createElement("button");r.classList.add(Vc("b")),t.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r,this.update_()}update_(){const e=this.value.rawValue;this.swatchElem_.style.backgroundColor=ic(e)}onValueChange_(){this.update_()}}class Mc{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new Lc(e,{value:this.value,viewProps:this.viewProps})}}class Dc{constructor(e,t){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.foldable_=Ga.create(t.expanded),this.swatchC_=new Mc(e,{value:this.value,viewProps:this.viewProps});const n=this.swatchC_.view.buttonElement;n.addEventListener("blur",this.onButtonBlur_),n.addEventListener("click",this.onButtonClick_),this.textC_=new Ol(e,{parser:t.parser,props:cs.fromObject({formatter:t.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new hu(e,{foldable:this.foldable_,pickerLayout:t.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_="popup"===t.pickerLayout?new Ll(e,{viewProps:this.viewProps}):null;const r=new Sc(e,{colorType:t.colorType,supportsAlpha:t.supportsAlpha,value:this.value,viewProps:this.viewProps});r.view.allFocusableElements.forEach((e=>{e.addEventListener("blur",this.onPopupChildBlur_),e.addEventListener("keydown",this.onPopupChildKeydown_)})),this.pickerC_=r,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(r.view.element),Fl({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:e=>e,backward:(e,t)=>t})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Qa(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(e){if(!this.popC_)return;const t=this.view.element,n=e.relatedTarget;n&&t.contains(n)||(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const t=this.popC_.view.element,n=va(e);n&&t.contains(n)||n&&n===this.swatchC_.view.buttonElement&&!la(t.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?"Escape"===e.key&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&"Escape"===e.key&&this.swatchC_.view.buttonElement.focus()}}function Oc(e){return fu(e.getComponents("rgb")).reduce(((e,t)=>e<<8|255&Math.floor(t)),0)}function Nc(e){return e.getComponents("rgb").reduce(((e,t,n)=>e<<8|255&Math.floor(3===n?255*t:t)),0)>>>0}function Tc(e){return"number"!==typeof e?Cu.black():new Cu([(t=e)>>16&255,t>>8&255,255&t],"rgb");var t}function Ac(e){return"number"!==typeof e?Cu.black():new Cu([(t=e)>>24&255,t>>16&255,t>>8&255,Ts(255&t,0,255,0,1)],"rgb");var t}function jc(e,t){return"object"===typeof e&&!Xo(e)&&(t in e&&"number"===typeof e[t])}function zc(e){return jc(e,"r")&&jc(e,"g")&&jc(e,"b")}function Rc(e){return zc(e)&&jc(e,"a")}function Fc(e){return zc(e)}function Ic(e,t){if(e.mode!==t.mode)return!1;if(e.type!==t.type)return!1;const n=e.getComponents(),r=t.getComponents();for(let i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}function Bc(e){return"a"in e?[e.r,e.g,e.b,e.a]:[e.r,e.g,e.b]}function Uc(e,t){return(n,r)=>{e?function(e,t,n){const r=Ou(t,n).toRgbaObject();e.writeProperty("r",r.r),e.writeProperty("g",r.g),e.writeProperty("b",r.b),e.writeProperty("a",r.a)}(n,r,t):function(e,t,n){const r=Ou(t,n).toRgbaObject();e.writeProperty("r",r.r),e.writeProperty("g",r.g),e.writeProperty("b",r.b)}(n,r,t)}}function Kc(e){var t;return!!(null===(t=null===e||void 0===e?void 0:e.color)||void 0===t?void 0:t.alpha)}function qc(e){return t=>{const n=function(e,t){if(!Fc(e))return Ou(Cu.black(),t);if("int"===t){const t=Bc(e);return new Cu(t,"rgb")}if("float"===t){const t=Bc(e);return new Lu(t,"rgb")}return Ou(Cu.black(),"int")}(t,e);return Ou(n,"int")}}function Hc(e,t){return n=>e?uc(n,t):ac(n,t)}za({id:"input-color-number",type:"input",accept:(e,t)=>{if("number"!==typeof e)return null;if(!function(e){return"color"in e||"color"===e.view}(t))return null;const n=Eu(t);return n?{initialValue:e,params:Object.assign(Object.assign({},n),{supportsAlpha:Kc(t)})}:null},binding:{reader:e=>e.params.supportsAlpha?Ac:Tc,equals:Ic,writer:e=>function(e){const t=e?Nc:Oc;return(e,n)=>{lu(e,t(n))}}(e.params.supportsAlpha)},controller:e=>{var t,n,r;return new Dc(e.document,{colorType:"int",expanded:null!==(t=e.params.expanded)&&void 0!==t&&t,formatter:(r=e.params.supportsAlpha,r?e=>ic(e,"0x"):e=>rc(e,"0x")),parser:ec("int"),pickerLayout:null!==(n=e.params.picker)&&void 0!==n?n:"popup",supportsAlpha:e.params.supportsAlpha,value:e.value,viewProps:e.viewProps})}}),za({id:"input-color-object",type:"input",accept:(e,t)=>{var n;if(!Fc(e))return null;const r=Eu(t);return r?{initialValue:e,params:Object.assign(Object.assign({},r),{colorType:null!==(n=Vu(t))&&void 0!==n?n:"int"})}:null},binding:{reader:e=>qc(e.params.colorType),equals:Ic,writer:e=>Uc(Rc(e.initialValue),e.params.colorType)},controller:e=>{var t,n;const r=Rc(e.initialValue);return new Dc(e.document,{colorType:e.params.colorType,expanded:null!==(t=e.params.expanded)&&void 0!==t&&t,formatter:Hc(r,e.params.colorType),parser:ec("int"),pickerLayout:null!==(n=e.params.picker)&&void 0!==n?n:"popup",supportsAlpha:r,value:e.value,viewProps:e.viewProps})}}),za({id:"input-color-string",type:"input",accept:(e,t)=>{if("string"!==typeof e)return null;if("text"===t.view)return null;const n=Ju(e,Vu(t));if(!n)return null;const r=pc(n);if(!r)return null;const i=Eu(t);return i?{initialValue:e,params:Object.assign(Object.assign({},i),{format:n,stringifier:r})}:null},binding:{reader:()=>tc,equals:Ic,writer:e=>{const t=function(e){const t=pc(e);return t?(e,n)=>{lu(e,t(n))}:null}(e.params.format);if(!t)throw rs.notBindable();return t}},controller:e=>{var t,n;return new Dc(e.document,{colorType:e.params.format.type,expanded:null!==(t=e.params.expanded)&&void 0!==t&&t,formatter:e.params.stringifier,parser:ec("int"),pickerLayout:null!==(n=e.params.picker)&&void 0!==n?n:"popup",supportsAlpha:e.params.format.alpha,value:e.value,viewProps:e.viewProps})}});class $c{constructor(e){this.components=e.components,this.asm_=e.assembly}constrain(e){const t=this.asm_.toComponents(e).map(((e,t)=>{var n,r;return null!==(r=null===(n=this.components[t])||void 0===n?void 0:n.constrain(e))&&void 0!==r?r:e}));return this.asm_.fromComponents(t)}}const Gc=ga("pndtxt");class Wc{constructor(e,t){this.textViews=t.textViews,this.element=e.createElement("div"),this.element.classList.add(Gc()),this.textViews.forEach((t=>{const n=e.createElement("div");n.classList.add(Gc("a")),n.appendChild(t.element),this.element.appendChild(n)}))}}class Qc{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.acs_=t.axes.map(((n,r)=>function(e,t,n){return new Wl(e,{arrayPosition:0===n?"fst":n===t.axes.length-1?"lst":"mid",parser:t.parser,props:t.axes[n].textProps,value:us(0,{constraint:t.axes[n].constraint}),viewProps:t.viewProps})}(e,t,r))),this.acs_.forEach(((e,n)=>{Fl({primary:this.value,secondary:e.value,forward:e=>t.assembly.toComponents(e)[n],backward:(e,r)=>{const i=t.assembly.toComponents(e);return i[n]=r,t.assembly.fromComponents(i)}})})),this.view=new Wc(e,{textViews:this.acs_.map((e=>e.view))})}get textControllers(){return this.acs_}}class Yc extends Xs{get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}}za({id:"input-number",type:"input",accept:(e,t)=>{if("number"!==typeof e)return null;const n=ta(t,(e=>Object.assign(Object.assign({},qs(e)),{options:e.optional.custom(yl),readonly:e.optional.constant(!1)})));return n?{initialValue:e,params:n}:null},binding:{reader:e=>Os,constraint:e=>function(e,t){const n=[],r=Bs(e,t);r&&n.push(r);const i=Us(e);i&&n.push(i);const o=xl(e.options);return o&&n.push(o),new gl(n)}(e.params,e.initialValue),writer:e=>lu},controller:e=>{const t=e.value,n=e.constraint,r=n&&wl(n,_l);if(r)return new El(e.document,{props:new cs({options:r.values.value("options")}),value:t,viewProps:e.viewProps});const i=Ks(e.params,t.rawValue),o=n&&wl(n,ds);return o?new eu(e.document,Object.assign(Object.assign({},(s=Object.assign(Object.assign({},i),{keyScale:us(i.keyScale),max:o.values.value("max"),min:o.values.value("min")}),{sliderProps:new cs({keyScale:s.keyScale,max:s.max,min:s.min}),textProps:new cs({formatter:us(s.formatter),keyScale:s.keyScale,pointerScale:us(s.pointerScale)})})),{parser:Ds,value:t,viewProps:e.viewProps})):new Wl(e.document,{parser:Ds,props:cs.fromObject(i),value:t,viewProps:e.viewProps});var s},api:e=>"number"!==typeof e.controller.value.rawValue?null:e.controller.valueController instanceof eu?new Yc(e.controller):e.controller.valueController instanceof El?new fl(e.controller):null});class Xc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x=e,this.y=t}getComponents(){return[this.x,this.y]}static isObject(e){if(Xo(e))return!1;const t=e.x,n=e.y;return"number"===typeof t&&"number"===typeof n}static equals(e,t){return e.x===t.x&&e.y===t.y}toObject(){return{x:this.x,y:this.y}}}const Zc={toComponents:e=>e.getComponents(),fromComponents:e=>new Xc(...e)},Jc=ga("p2d");class ed{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Jc()),t.viewProps.bindClassModifiers(this.element),fa(t.expanded,Ma(this.element,Jc(void 0,"expanded")));const n=e.createElement("div");n.classList.add(Jc("h")),this.element.appendChild(n);const r=e.createElement("button");r.classList.add(Jc("b")),r.appendChild(ca(e,"p2dpad")),t.viewProps.bindDisabled(r),n.appendChild(r),this.buttonElement=r;const i=e.createElement("div");if(i.classList.add(Jc("t")),n.appendChild(i),this.textElement=i,"inline"===t.pickerLayout){const t=e.createElement("div");t.classList.add(Jc("p")),this.element.appendChild(t),this.pickerElement=t}else this.pickerElement=null}}const td=ga("p2dp");class nd{constructor(e,t){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onPropsChange_=this.onPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.props_=t.props,this.props_.emitter.on("change",this.onPropsChange_),this.element=e.createElement("div"),this.element.classList.add(td()),"popup"===t.layout&&this.element.classList.add(td(void 0,"p")),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("div");n.classList.add(td("p")),t.viewProps.bindTabIndex(n),this.element.appendChild(n),this.padElement=n;const r=e.createElementNS(sa,"svg");r.classList.add(td("g")),this.padElement.appendChild(r),this.svgElem_=r;const i=e.createElementNS(sa,"line");i.classList.add(td("ax")),i.setAttributeNS(null,"x1","0"),i.setAttributeNS(null,"y1","50%"),i.setAttributeNS(null,"x2","100%"),i.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(i);const o=e.createElementNS(sa,"line");o.classList.add(td("ax")),o.setAttributeNS(null,"x1","50%"),o.setAttributeNS(null,"y1","0"),o.setAttributeNS(null,"x2","50%"),o.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(o);const s=e.createElementNS(sa,"line");s.classList.add(td("l")),s.setAttributeNS(null,"x1","50%"),s.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(s),this.lineElem_=s;const a=e.createElement("div");a.classList.add(td("m")),this.padElement.appendChild(a),this.markerElem_=a,t.value.emitter.on("change",this.onValueChange_),this.value=t.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[e,t]=this.value.rawValue.getComponents(),n=this.props_.get("max"),r=Ts(e,-n,+n,0,100),i=Ts(t,-n,+n,0,100),o=this.props_.get("invertsY")?100-i:i;this.lineElem_.setAttributeNS(null,"x2","".concat(r,"%")),this.lineElem_.setAttributeNS(null,"y2","".concat(o,"%")),this.markerElem_.style.left="".concat(r,"%"),this.markerElem_.style.top="".concat(o,"%")}onValueChange_(){this.update_()}onPropsChange_(){this.update_()}onFoldableChange_(){this.update_()}}function rd(e,t,n){return[Il(t[0],Ul(e)),Il(t[1],Bl(e))*(n?1:-1)]}class id{constructor(e,t){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.view=new nd(e,{layout:t.layout,props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Hl(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;const n=this.props.get("max"),r=Ts(e.point.x,0,e.bounds.width,-n,+n),i=Ts(this.props.get("invertsY")?e.bounds.height-e.point.y:e.point.y,0,e.bounds.height,-n,+n);this.value.setRawValue(new Xc(r,i),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onPadKeyDown_(e){Kl(e.key)&&e.preventDefault();const[t,n]=rd(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));0===t&&0===n||this.value.setRawValue(new Xc(this.value.rawValue.x+t,this.value.rawValue.y+n),{forceEmit:!1,last:!1})}onPadKeyUp_(e){const[t,n]=rd(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));0===t&&0===n||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class od{constructor(e,t){var n,r;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.foldable_=Ga.create(t.expanded),this.popC_="popup"===t.pickerLayout?new Ll(e,{viewProps:this.viewProps}):null;const i=new id(e,{layout:t.pickerLayout,props:new cs({invertsY:us(t.invertsY),max:us(t.max),xKeyScale:t.axes[0].textProps.value("keyScale"),yKeyScale:t.axes[1].textProps.value("keyScale")}),value:this.value,viewProps:this.viewProps});i.view.allFocusableElements.forEach((e=>{e.addEventListener("blur",this.onPopupChildBlur_),e.addEventListener("keydown",this.onPopupChildKeydown_)})),this.pickerC_=i,this.textC_=new Qc(e,{assembly:Zc,axes:t.axes,parser:t.parser,value:this.value,viewProps:this.viewProps}),this.view=new ed(e,{expanded:this.foldable_.value("expanded"),pickerLayout:t.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),null===(n=this.view.buttonElement)||void 0===n||n.addEventListener("blur",this.onPadButtonBlur_),null===(r=this.view.buttonElement)||void 0===r||r.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),Fl({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:e=>e,backward:(e,t)=>t})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Qa(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onPadButtonBlur_(e){if(!this.popC_)return;const t=this.view.element,n=e.relatedTarget;n&&t.contains(n)||(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const t=this.popC_.view.element,n=va(e);n&&t.contains(n)||n&&n===this.view.buttonElement&&!la(t.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?"Escape"===e.key&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&"Escape"===e.key&&this.view.buttonElement.focus()}}function sd(e){return Xc.isObject(e)?new Xc(e.x,e.y):new Xc}function ad(e,t){e.writeProperty("x",t.x),e.writeProperty("y",t.y)}function ld(e,t){var n,r;if(!Xo(e.min)||!Xo(e.max))return Math.max(Math.abs(null!==(n=e.min)&&void 0!==n?n:0),Math.abs(null!==(r=e.max)&&void 0!==r?r:0));const i=Fs(e);return Math.max(10*Math.abs(i),10*Math.abs(t))}function ud(e,t){var n,r;const i=ld(ts(e,null!==(n=e.x)&&void 0!==n?n:{}),t.x),o=ld(ts(e,null!==(r=e.y)&&void 0!==r?r:{}),t.y);return Math.max(i,o)}function cd(e){if(!("y"in e))return!1;const t=e.y;return!!t&&("inverted"in t&&!!t.inverted)}za({id:"input-point2d",type:"input",accept:(e,t)=>{if(!Xc.isObject(e))return null;const n=ta(t,(e=>Object.assign(Object.assign({},iu(e)),{expanded:e.optional.boolean,picker:e.optional.custom(au),readonly:e.optional.constant(!1),x:e.optional.custom(ou),y:e.optional.object(Object.assign(Object.assign({},iu(e)),{inverted:e.optional.boolean}))})));return n?{initialValue:e,params:n}:null},binding:{reader:()=>sd,constraint:e=>{return t=e.params,n=e.initialValue,new $c({assembly:Zc,components:[su(Object.assign(Object.assign({},t),t.x),n.x),su(Object.assign(Object.assign({},t),t.y),n.y)]});var t,n},equals:Xc.equals,writer:()=>ad},controller:e=>{var t,n;const r=e.document,i=e.value,o=e.constraint,s=[e.params.x,e.params.y];return new od(r,{axes:i.rawValue.getComponents().map(((t,n)=>{var r;return Hs({constraint:o.components[n],initialValue:t,params:ts(e.params,null!==(r=s[n])&&void 0!==r?r:{})})})),expanded:null!==(t=e.params.expanded)&&void 0!==t&&t,invertsY:cd(e.params),max:ud(e.params,i.rawValue),parser:Ds,pickerLayout:null!==(n=e.params.picker)&&void 0!==n?n:"popup",value:i,viewProps:e.viewProps})}});class dd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=e,this.y=t,this.z=n}getComponents(){return[this.x,this.y,this.z]}static isObject(e){if(Xo(e))return!1;const t=e.x,n=e.y,r=e.z;return"number"===typeof t&&"number"===typeof n&&"number"===typeof r}static equals(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const pd={toComponents:e=>e.getComponents(),fromComponents:e=>new dd(...e)};function hd(e){return dd.isObject(e)?new dd(e.x,e.y,e.z):new dd}function vd(e,t){e.writeProperty("x",t.x),e.writeProperty("y",t.y),e.writeProperty("z",t.z)}za({id:"input-point3d",type:"input",accept:(e,t)=>{if(!dd.isObject(e))return null;const n=ta(t,(e=>Object.assign(Object.assign({},iu(e)),{readonly:e.optional.constant(!1),x:e.optional.custom(ou),y:e.optional.custom(ou),z:e.optional.custom(ou)})));return n?{initialValue:e,params:n}:null},binding:{reader:e=>hd,constraint:e=>{return t=e.params,n=e.initialValue,new $c({assembly:pd,components:[su(Object.assign(Object.assign({},t),t.x),n.x),su(Object.assign(Object.assign({},t),t.y),n.y),su(Object.assign(Object.assign({},t),t.z),n.z)]});var t,n},equals:dd.equals,writer:e=>vd},controller:e=>{const t=e.value,n=e.constraint,r=[e.params.x,e.params.y,e.params.z];return new Qc(e.document,{assembly:pd,axes:t.rawValue.getComponents().map(((t,i)=>{var o;return Hs({constraint:n.components[i],initialValue:t,params:ts(e.params,null!==(o=r[i])&&void 0!==o?o:{})})})),parser:Ds,value:t,viewProps:e.viewProps})}});class fd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.x=e,this.y=t,this.z=n,this.w=r}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(e){if(Xo(e))return!1;const t=e.x,n=e.y,r=e.z,i=e.w;return"number"===typeof t&&"number"===typeof n&&"number"===typeof r&&"number"===typeof i}static equals(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const md={toComponents:e=>e.getComponents(),fromComponents:e=>new fd(...e)};function bd(e){return fd.isObject(e)?new fd(e.x,e.y,e.z,e.w):new fd}function gd(e,t){e.writeProperty("x",t.x),e.writeProperty("y",t.y),e.writeProperty("z",t.z),e.writeProperty("w",t.w)}za({id:"input-point4d",type:"input",accept:(e,t)=>{if(!fd.isObject(e))return null;const n=ta(t,(e=>Object.assign(Object.assign({},iu(e)),{readonly:e.optional.constant(!1),w:e.optional.custom(ou),x:e.optional.custom(ou),y:e.optional.custom(ou),z:e.optional.custom(ou)})));return n?{initialValue:e,params:n}:null},binding:{reader:e=>bd,constraint:e=>{return t=e.params,n=e.initialValue,new $c({assembly:md,components:[su(Object.assign(Object.assign({},t),t.x),n.x),su(Object.assign(Object.assign({},t),t.y),n.y),su(Object.assign(Object.assign({},t),t.z),n.z),su(Object.assign(Object.assign({},t),t.w),n.w)]});var t,n},equals:fd.equals,writer:e=>gd},controller:e=>{const t=e.value,n=e.constraint,r=[e.params.x,e.params.y,e.params.z,e.params.w];return new Qc(e.document,{assembly:md,axes:t.rawValue.getComponents().map(((t,i)=>{var o;return Hs({constraint:n.components[i],initialValue:t,params:ts(e.params,null!==(o=r[i])&&void 0!==o?o:{})})})),parser:Ds,value:t,viewProps:e.viewProps})}}),za({id:"input-string",type:"input",accept:(e,t)=>{if("string"!==typeof e)return null;const n=ta(t,(e=>({readonly:e.optional.constant(!1),options:e.optional.custom(yl)})));return n?{initialValue:e,params:n}:null},binding:{reader:e=>zl,constraint:e=>function(e){const t=[],n=xl(e.options);return n&&t.push(n),new gl(t)}(e.params),writer:e=>lu},controller:e=>{const t=e.document,n=e.value,r=e.constraint,i=r&&wl(r,_l);return i?new El(t,{props:new cs({options:i.values.value("options")}),value:n,viewProps:e.viewProps}):new Ol(t,{parser:e=>e,props:cs.fromObject({formatter:Rl}),value:n,viewProps:e.viewProps})},api:e=>"string"!==typeof e.controller.value.rawValue?null:e.controller.valueController instanceof El?new fl(e.controller):null});const wd={defaultInterval:200,defaultRows:3},_d=ga("mll");class yd{constructor(e,t){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=t.formatter,this.element=e.createElement("div"),this.element.classList.add(_d()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("textarea");n.classList.add(_d("i")),n.style.height="calc(var(".concat(nu("containerUnitSize"),") * ").concat(t.rows,")"),n.readOnly=!0,t.viewProps.bindDisabled(n),this.element.appendChild(n),this.textareaElem_=n,t.value.emitter.on("change",this.onValueUpdate_),this.value=t.value,this.update_()}update_(){const e=this.textareaElem_,t=e.scrollTop===e.scrollHeight-e.clientHeight,n=[];this.value.rawValue.forEach((e=>{void 0!==e&&n.push(this.formatter_(e))})),e.textContent=n.join("\n"),t&&(e.scrollTop=e.scrollHeight)}onValueUpdate_(){this.update_()}}class Cd{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new yd(e,{formatter:t.formatter,rows:t.rows,value:this.value,viewProps:this.viewProps})}}const xd=ga("sgl");class kd{constructor(e,t){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=t.formatter,this.element=e.createElement("div"),this.element.classList.add(xd()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("input");n.classList.add(xd("i")),n.readOnly=!0,n.type="text",t.viewProps.bindDisabled(n),this.element.appendChild(n),this.inputElement=n,t.value.emitter.on("change",this.onValueUpdate_),this.value=t.value,this.update_()}update_(){const e=this.value.rawValue,t=e[e.length-1];this.inputElement.value=void 0!==t?this.formatter_(t):""}onValueUpdate_(){this.update_()}}class Pd{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new kd(e,{formatter:t.formatter,value:this.value,viewProps:this.viewProps})}}za({id:"monitor-bool",type:"monitor",accept:(e,t)=>{if("boolean"!==typeof e)return null;const n=ta(t,(e=>({readonly:e.required.constant(!0),rows:e.optional.number})));return n?{initialValue:e,params:n}:null},binding:{reader:e=>Nl},controller:e=>{var t;return 1===e.value.rawValue.length?new Pd(e.document,{formatter:Tl,value:e.value,viewProps:e.viewProps}):new Cd(e.document,{formatter:Tl,rows:null!==(t=e.params.rows)&&void 0!==t?t:wd.defaultRows,value:e.value,viewProps:e.viewProps})}});class Ed extends Xs{get max(){return this.controller.valueController.props.get("max")}set max(e){this.controller.valueController.props.set("max",e)}get min(){return this.controller.valueController.props.get("min")}set min(e){this.controller.valueController.props.set("min",e)}}const Sd=ga("grl");class Vd{constructor(e,t){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Sd()),t.viewProps.bindClassModifiers(this.element),this.formatter_=t.formatter,this.props_=t.props,this.cursor_=t.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const n=e.createElementNS(sa,"svg");n.classList.add(Sd("g")),n.style.height="calc(var(".concat(nu("containerUnitSize"),") * ").concat(t.rows,")"),this.element.appendChild(n),this.svgElem_=n;const r=e.createElementNS(sa,"polyline");this.svgElem_.appendChild(r),this.lineElem_=r;const i=e.createElement("div");i.classList.add(Sd("t"),ga("tt")()),this.element.appendChild(i),this.tooltipElem_=i,t.value.emitter.on("change",this.onValueUpdate_),this.value=t.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const e=this.svgElem_.getBoundingClientRect(),t=this.value.rawValue.length-1,n=this.props_.get("min"),r=this.props_.get("max"),i=[];this.value.rawValue.forEach(((o,s)=>{if(void 0===o)return;const a=Ts(s,0,t,0,e.width),l=Ts(o,n,r,e.height,0);i.push([a,l].join(","))})),this.lineElem_.setAttributeNS(null,"points",i.join(" "));const o=this.tooltipElem_,s=this.value.rawValue[this.cursor_.rawValue];if(void 0===s)return void o.classList.remove(Sd("t","a"));const a=Ts(this.cursor_.rawValue,0,t,0,e.width),l=Ts(s,n,r,e.height,0);o.style.left="".concat(a,"px"),o.style.top="".concat(l,"px"),o.textContent="".concat(this.formatter_(s)),o.classList.contains(Sd("t","a"))||(o.classList.add(Sd("t","a"),Sd("t","in")),aa(o),o.classList.remove(Sd("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class Ld{constructor(e,t){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.cursor_=us(-1),this.view=new Vd(e,{cursor:this.cursor_,formatter:t.formatter,rows:t.rows,props:this.props,value:this.value,viewProps:this.viewProps}),la(e)){const e=new Hl(this.view.element);e.emitter.on("down",this.onGraphPointerDown_),e.emitter.on("move",this.onGraphPointerMove_),e.emitter.on("up",this.onGraphPointerUp_)}else this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_)}importProps(e){return na(e,null,(e=>({max:e.required.number,min:e.required.number})),(e=>(this.props.set("max",e.max),this.props.set("min",e.min),!0)))}exportProps(){return ra(null,{max:this.props.get("max"),min:this.props.get("min")})}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(e){const t=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(Ts(e.offsetX,0,t.width,0,this.value.rawValue.length))}onGraphPointerDown_(e){this.onGraphPointerMove_(e)}onGraphPointerMove_(e){e.data.point?this.cursor_.rawValue=Math.floor(Ts(e.data.point.x,0,e.data.bounds.width,0,this.value.rawValue.length)):this.cursor_.rawValue=-1}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function Md(e){return Xo(e.format)?Ns(2):e.format}function Dd(e){return"graph"===e.view}za({id:"monitor-number",type:"monitor",accept:(e,t)=>{if("number"!==typeof e)return null;const n=ta(t,(e=>({format:e.optional.function,max:e.optional.number,min:e.optional.number,readonly:e.required.constant(!0),rows:e.optional.number,view:e.optional.string})));return n?{initialValue:e,params:n}:null},binding:{defaultBufferSize:e=>Dd(e)?64:1,reader:e=>Os},controller:e=>Dd(e.params)?function(e){var t,n,r;return new Ld(e.document,{formatter:Md(e.params),rows:null!==(t=e.params.rows)&&void 0!==t?t:wd.defaultRows,props:cs.fromObject({max:null!==(n=e.params.max)&&void 0!==n?n:100,min:null!==(r=e.params.min)&&void 0!==r?r:0}),value:e.value,viewProps:e.viewProps})}(e):function(e){var t;return 1===e.value.rawValue.length?new Pd(e.document,{formatter:Md(e.params),value:e.value,viewProps:e.viewProps}):new Cd(e.document,{formatter:Md(e.params),rows:null!==(t=e.params.rows)&&void 0!==t?t:wd.defaultRows,value:e.value,viewProps:e.viewProps})}(e),api:e=>e.controller.valueController instanceof Ld?new Ed(e.controller):null}),za({id:"monitor-string",type:"monitor",accept:(e,t)=>{if("string"!==typeof e)return null;const n=ta(t,(e=>({multiline:e.optional.boolean,readonly:e.required.constant(!0),rows:e.optional.number})));return n?{initialValue:e,params:n}:null},binding:{reader:e=>zl},controller:e=>{var t;const n=e.value;return n.rawValue.length>1||e.params.multiline?new Cd(e.document,{formatter:Rl,rows:null!==(t=e.params.rows)&&void 0!==t?t:wd.defaultRows,value:n,viewProps:e.viewProps}):new Pd(e.document,{formatter:Rl,value:n,viewProps:e.viewProps})}});class Od{constructor(e){this.controller_=e}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(e){this.controller_.viewProps.set("disabled",e)}get title(){var e;return null!==(e=this.controller_.props.get("title"))&&void 0!==e?e:""}set title(e){this.controller_.props.set("title",e)}on(e,t){const n=t.bind(this);return this.controller_.emitter.on(e,(()=>{n(new Gs(this))})),this}}class Nd extends Gs{constructor(e,t,n){super(e),this.cell=t,this.index=n}}class Td extends $s{constructor(e){super(e),this.cellToApiMap_=new Map,this.emitter_=new os;const t=this.controller.valueController;t.cellControllers.forEach(((e,n)=>{const r=new Od(e);this.cellToApiMap_.set(e,r),e.emitter.on("click",(()=>{const e=n%t.size[0],i=Math.floor(n/t.size[0]);this.emitter_.emit("click",{event:new Nd(this,r,[e,i])})}))}))}cell(e,t){const n=this.controller.valueController,r=n.cellControllers[t*n.size[0]+e];return this.cellToApiMap_.get(r)}on(e,t){const n=t.bind(this);return this.emitter_.on(e,(e=>{n(e.event)})),this}}class Ad{constructor(e,t){this.size=t.size;const[n,r]=this.size,i=[];for(let o=0;o<r;o++)for(let r=0;r<n;r++){const n=new Ta(e,{props:cs.fromObject(Object.assign({},t.cellConfig(r,o))),viewProps:nl.create()});i.push(n)}this.cellCs_=i,this.viewProps=nl.create(),this.viewProps.handleDispose((()=>{this.cellCs_.forEach((e=>{e.viewProps.set("disposed",!0)}))})),this.view=new ru(e,{viewProps:this.viewProps,viewName:"btngrid"}),this.view.element.style.gridTemplateColumns="repeat(".concat(n,", 1fr)"),this.cellCs_.forEach((e=>{this.view.element.appendChild(e.view.element)}))}get cellControllers(){return this.cellCs_}}class jd extends ka{constructor(e,t){const n=t.valueController,r=new ya(e,{blade:t.blade,props:t.labelProps,valueController:n});super({blade:t.blade,view:r.view,viewProps:n.viewProps}),this.valueController=n,this.labelController=r}}const zd=za({id:"buttongrid",type:"blade",accept(e){const t=ta(e,(e=>({cells:e.required.function,size:e.required.array(e.required.number),view:e.required.constant("buttongrid"),label:e.optional.string})));return t?{params:t}:null},controller:e=>new jd(e.document,{blade:e.blade,labelProps:cs.fromObject({label:e.params.label}),valueController:new Ad(e.document,{cellConfig:e.params.cells,size:e.params.size})}),api:e=>e.controller instanceof jd?new Td(e.controller):null});class Rd extends $s{get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get value(){return this.controller.valueController.value.rawValue}set value(e){this.controller.valueController.value.rawValue=e}on(e,t){const n=t.bind(this);return this.controller.valueController.value.emitter.on(e,(e=>{n(new Ws(this,e.rawValue,e.options.last))})),this}}function Fd(e,t,n){return e*(1-n)+t*n}function Id(e,t){let n=.25,r=.5,i=-1;for(let o=0;o<20;o++){const[o,s]=e.curve(r);if(r+=n*(o<t?1:-1),i=s,n*=.5,Math.abs(t-o)<.001)break}return i}class Bd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.cache_=[],this.comps_=[e,t,n,r]}get x1(){return this.comps_[0]}get y1(){return this.comps_[1]}get x2(){return this.comps_[2]}get y2(){return this.comps_[3]}static isObject(e){return!Xo(e)&&(!!Array.isArray(e)&&("number"===typeof e[0]&&"number"===typeof e[1]&&"number"===typeof e[2]&&"number"===typeof e[3]))}static equals(e,t){return e.x1===t.x1&&e.y1===t.y1&&e.x2===t.x2&&e.y2===t.y2}curve(e){const t=Fd(0,this.x1,e),n=Fd(0,this.y1,e),r=Fd(this.x1,this.x2,e),i=Fd(this.y1,this.y2,e),o=Fd(this.x2,1,e),s=Fd(this.y2,1,e),a=Fd(t,r,e),l=Fd(n,i,e),u=Fd(r,o,e),c=Fd(i,s,e);return[Fd(a,u,e),Fd(l,c,e)]}y(e){if(0===this.cache_.length){const e=[];for(let t=0;t<100;t++)e.push(Id(this,Ts(t,0,99,0,1)));this.cache_=e}return this.cache_[Math.round(Ts(js(e,0,1),0,1,0,99))]}toObject(){return[this.comps_[0],this.comps_[1],this.comps_[2],this.comps_[3]]}}const Ud={toComponents:e=>e.toObject(),fromComponents:e=>new Bd(...e)};function Kd(e){const t=Ns(2),n=e.toObject().map((e=>t(e)));return"cubic-bezier(".concat(n.join(", "),")")}const qd=[0,.5,.5,1];function Hd(e){const t=e.match(/^cubic-bezier\s*\(\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*\)$/);if(!t)return new Bd(...qd);const n=[t[1],t[2],t[3],t[4]].reduce(((e,t)=>{if(!e)return null;const n=Number(t);return isNaN(n)?null:[...e,n]}),[]);return new Bd(...null!==n&&void 0!==n?n:qd)}const $d=ga("cbz");class Gd{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add($d()),t.viewProps.bindClassModifiers(this.element),t.foldable.bindExpandedClass(this.element,$d(void 0,"expanded")),ma(t.foldable,"completed",Ma(this.element,$d(void 0,"cpl")));const n=e.createElement("div");n.classList.add($d("h")),this.element.appendChild(n);const r=e.createElement("button");r.classList.add($d("b")),t.viewProps.bindDisabled(r);const i=e.createElementNS(sa,"svg");i.innerHTML='<path d="M2 13C8 13 8 3 14 3"/>',r.appendChild(i),n.appendChild(r),this.buttonElement=r;const o=e.createElement("div");if(o.classList.add($d("t")),n.appendChild(o),this.textElement=o,"inline"===t.pickerLayout){const t=e.createElement("div");t.classList.add($d("p")),this.element.appendChild(t),this.pickerElement=t}else this.pickerElement=null}}const Wd=ga("cbzp");class Qd{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Wd()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("div");n.classList.add(Wd("g")),this.element.appendChild(n),this.graphElement=n;const r=e.createElement("div");r.classList.add(Wd("t")),this.element.appendChild(r),this.textElement=r}}function Yd(e,t){const n=new MutationObserver((e=>{for(const r of e)"childList"===r.type&&r.addedNodes.forEach((e=>{e.contains(e)&&(t(),n.disconnect())}))})),r=e.ownerDocument;n.observe(r.body,{attributes:!0,childList:!0,subtree:!0})}const Xd=ga("cbzg");class Zd{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Xd()),t.viewProps.bindClassModifiers(this.element),t.viewProps.bindTabIndex(this.element);const n=e.createElement("div");n.classList.add(Xd("p")),this.element.appendChild(n),this.previewElement=n;const r=e.createElementNS(sa,"svg");r.classList.add(Xd("g")),this.element.appendChild(r),this.svgElem_=r;const i=e.createElementNS(sa,"path");i.classList.add(Xd("u")),this.svgElem_.appendChild(i),this.guideElem_=i;const o=e.createElementNS(sa,"polyline");o.classList.add(Xd("l")),this.svgElem_.appendChild(o),this.lineElem_=o,this.handleElems_=[e.createElement("div"),e.createElement("div")],this.handleElems_.forEach((e=>{e.classList.add(Xd("h")),this.element.appendChild(e)})),this.vectorElems_=[e.createElementNS(sa,"line"),e.createElementNS(sa,"line")],this.vectorElems_.forEach((e=>{e.classList.add(Xd("v")),this.svgElem_.appendChild(e)})),this.value_=t.value,this.value_.emitter.on("change",this.onValueChange_.bind(this)),this.sel_=t.selection,this.handleElems_.forEach(((e,t)=>{var n,r;fa(this.sel_,(n=e=>e===t,r=Ma(e,Xd("h","sel")),e=>r(n(e))))})),Yd(this.element,(()=>{this.refresh()}))}getVertMargin_(e){return.25*e}valueToPosition(e,t){const{clientWidth:n,clientHeight:r}=this.element,i=this.getVertMargin_(r);return{x:Ts(e,0,1,0,n),y:Ts(t,0,1,r-i,i)}}positionToValue(e,t){const n=this.element.getBoundingClientRect(),r=n.width,i=n.height,o=this.getVertMargin_(i);return{x:js(Ts(e,0,r,0,1),0,1),y:Ts(t,i-o,o,0,1)}}refresh(){this.guideElem_.setAttributeNS(null,"d",[0,1].map((e=>{const t=this.valueToPosition(0,e),n=this.valueToPosition(1,e);return["M ".concat(t.x,",").concat(t.y),"L ".concat(n.x,",").concat(n.y)].join(" ")})).join(" "));const e=this.value_.rawValue,t=[];let n=0;for(;;){const r=this.valueToPosition(...e.curve(n));if(t.push([r.x,r.y].join(",")),n>=1)break;n=Math.min(n+.05,1)}this.lineElem_.setAttributeNS(null,"points",t.join(" "));const r=e.toObject();[0,1].forEach((e=>{const t=this.valueToPosition(e,e),n=this.valueToPosition(r[2*e],r[2*e+1]),i=this.vectorElems_[e];i.setAttributeNS(null,"x1",String(t.x)),i.setAttributeNS(null,"y1",String(t.y)),i.setAttributeNS(null,"x2",String(n.x)),i.setAttributeNS(null,"y2",String(n.y));const o=this.handleElems_[e];o.style.left="".concat(n.x,"px"),o.style.top="".concat(n.y,"px")}))}onValueChange_(){this.refresh()}}const Jd=ga("cbzprv");class ep{constructor(e,t){this.stopped_=!0,this.startTime_=-1,this.onDispose_=this.onDispose_.bind(this),this.onTimer_=this.onTimer_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Jd()),t.viewProps.bindClassModifiers(this.element);const n=e.createElementNS(sa,"svg");n.classList.add(Jd("g")),this.element.appendChild(n),this.svgElem_=n;const r=e.createElementNS(sa,"path");r.classList.add(Jd("t")),this.svgElem_.appendChild(r),this.ticksElem_=r;const i=e.createElement("div");i.classList.add(Jd("m")),this.element.appendChild(i),this.markerElem_=i,this.value_=t.value,this.value_.emitter.on("change",this.onValueChange_),t.viewProps.handleDispose(this.onDispose_),Yd(this.element,(()=>{this.refresh()}))}play(){this.stop(),this.updateMarker_(0),this.markerElem_.classList.add(Jd("m","a")),this.startTime_=(new Date).getTime()+400,this.stopped_=!1,requestAnimationFrame(this.onTimer_)}stop(){this.stopped_=!0,this.markerElem_.classList.remove(Jd("m","a"))}onDispose_(){this.stop()}updateMarker_(e){const t=this.value_.rawValue.y(js(e,0,1));this.markerElem_.style.left="".concat(100*t,"%")}refresh(){const{clientWidth:e,clientHeight:t}=this.svgElem_,n=[],r=this.value_.rawValue;for(let i=0;i<24;i++){const o=Ts(i,0,23,0,1),s=Ts(r.y(o),0,1,0,e);n.push("M ".concat(s,",0 v").concat(t))}this.ticksElem_.setAttributeNS(null,"d",n.join(" "))}onTimer_(){if(null===this.startTime_)return;const e=(new Date).getTime()-this.startTime_,t=e/1e3;this.updateMarker_(t),e>1400&&this.stop(),this.stopped_||requestAnimationFrame(this.onTimer_)}onValueChange_(){this.refresh(),this.play()}}function tp(e,t,n,r){const i=n-e,o=r-t;return Math.sqrt(i*i+o*o)}class np{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.keyScale_=t.keyScale,this.value=t.value,this.sel_=us(0),this.viewProps=t.viewProps,this.view=new Zd(e,{selection:this.sel_,value:this.value,viewProps:this.viewProps}),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_),this.prevView_=new ep(e,{value:this.value,viewProps:this.viewProps}),this.prevView_.element.addEventListener("mousedown",(e=>{e.stopImmediatePropagation(),e.preventDefault(),this.prevView_.play()})),this.view.previewElement.appendChild(this.prevView_.element);const n=new Hl(this.view.element);n.emitter.on("down",this.onPointerDown_),n.emitter.on("move",this.onPointerMove_),n.emitter.on("up",this.onPointerUp_)}refresh(){this.view.refresh(),this.prevView_.refresh(),this.prevView_.play()}updateValue_(e,t,n){const r=this.sel_.rawValue,i=this.value.rawValue.toObject(),o=this.view.positionToValue(e.x,e.y),s=t?function(e,t,n,r){const i=tp(e,t,n,r),o=Math.atan2(r-t,n-e),s=Math.round(o/(Math.PI/4))*Math.PI/4;return{x:e+Math.cos(s)*i,y:t+Math.sin(s)*i}}(r,r,o.x,o.y):o;i[2*r]=s.x,i[2*r+1]=s.y,this.value.setRawValue(new Bd(...i),n)}onPointerDown_(e){const t=e.data;if(!t.point)return;const n=this.value.rawValue,r=this.view.valueToPosition(n.x1,n.y1),i=tp(t.point.x,t.point.y,r.x,r.y),o=this.view.valueToPosition(n.x2,n.y2),s=tp(t.point.x,t.point.y,o.x,o.y);this.sel_.rawValue=i<=s?0:1,this.updateValue_(t.point,e.shiftKey,{forceEmit:!1,last:!1})}onPointerMove_(e){const t=e.data;t.point&&this.updateValue_(t.point,e.shiftKey,{forceEmit:!1,last:!1})}onPointerUp_(e){const t=e.data;t.point&&this.updateValue_(t.point,e.shiftKey,{forceEmit:!0,last:!0})}onKeyDown_(e){Kl(e.key)&&e.preventDefault();const t=this.sel_.rawValue,n=this.value.rawValue.toObject(),r=this.keyScale_.rawValue;n[2*t]+=Il(r,Ul(e)),n[2*t+1]+=Il(r,Bl(e)),this.value.setRawValue(new Bd(...n),{forceEmit:!1,last:!1})}onKeyUp_(e){Kl(e.key)&&e.preventDefault();const t=this.keyScale_.rawValue,n=Il(t,Ul(e)),r=Il(t,Bl(e));0===n&&0===r||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class rp{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new Qd(e,{viewProps:this.viewProps}),this.gc_=new np(e,{keyScale:t.axis.textProps.value("keyScale"),value:this.value,viewProps:this.viewProps}),this.view.graphElement.appendChild(this.gc_.view.element);const n=Object.assign(Object.assign({},t.axis),{constraint:new ps({max:1,min:0})}),r=Object.assign(Object.assign({},t.axis),{constraint:void 0});this.tc_=new Qc(e,{assembly:Ud,axes:[n,r,n,r],parser:Ds,value:this.value,viewProps:this.viewProps}),this.view.textElement.appendChild(this.tc_.view.element)}get allFocusableElements(){return[this.gc_.view.element,...this.tc_.view.textViews.map((e=>e.inputElement))]}refresh(){this.gc_.refresh()}}class ip{constructor(e,t){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.foldable_=Ga.create(t.expanded),this.view=new Gd(e,{foldable:this.foldable_,pickerLayout:t.pickerLayout,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("blur",this.onButtonBlur_),this.view.buttonElement.addEventListener("click",this.onButtonClick_),this.tc_=new Ol(e,{parser:Hd,props:cs.fromObject({formatter:Kd}),value:this.value,viewProps:this.viewProps}),this.view.textElement.appendChild(this.tc_.view.element),this.popC_="popup"===t.pickerLayout?new Ll(e,{viewProps:this.viewProps}):null;const n=new rp(e,{axis:t.axis,value:this.value,viewProps:this.viewProps});n.allFocusableElements.forEach((e=>{e.addEventListener("blur",this.onPopupChildBlur_),e.addEventListener("keydown",this.onPopupChildKeydown_)})),this.pickerC_=n,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),fa(this.popC_.shows,(e=>{e&&n.refresh()})),Fl({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:e=>e,backward:(e,t)=>t})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Qa(this.foldable_,this.view.pickerElement))}onButtonBlur_(e){if(!this.popC_)return;const t=e.relatedTarget;t&&this.popC_.view.element.contains(t)||(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const t=this.popC_.view.element,n=va(e);n&&t.contains(n)||n&&n===this.view.buttonElement&&!la(t.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_&&"Escape"===e.key&&(this.popC_.shows.rawValue=!1)}}const op=za({id:"cubicbezier",type:"blade",accept(e){const t=ta(e,(e=>({value:e.required.array(e.required.number),view:e.required.constant("cubicbezier"),expanded:e.optional.boolean,label:e.optional.string,picker:e.optional.custom((e=>"inline"===e||"popup"===e?e:void 0))})));return t?{params:t}:null},controller(e){var t,n;const r=us(new Bd(...e.params.value),{constraint:new $c({assembly:Ud,components:[0,1,2,3].map((e=>e%2===0?new ps({min:0,max:1}):void 0))}),equals:Bd.equals}),i=new ip(e.document,{axis:{textProps:cs.fromObject({keyScale:.1,pointerScale:.01,formatter:Ns(2)})},expanded:null!==(t=e.params.expanded)&&void 0!==t&&t,pickerLayout:null!==(n=e.params.picker)&&void 0!==n?n:"popup",value:r,viewProps:e.viewProps});return new Pa(e.document,{blade:e.blade,props:cs.fromObject({label:e.params.label}),value:r,valueController:i})},api:e=>e.controller instanceof Pa&&e.controller.valueController instanceof ip?new Rd(e.controller):null});class sp extends $s{get fps(){return this.controller.valueController.fps}get max(){return this.controller.valueController.props.get("max")}set max(e){this.controller.valueController.props.set("max",e)}get min(){return this.controller.valueController.props.get("min")}set min(e){this.controller.valueController.props.set("min",e)}begin(){this.controller.valueController.begin()}end(){this.controller.valueController.end()}on(e,t){const n=t.bind(this);return this.controller.valueController.ticker.emitter.on(e,(()=>{n(new Gs(this))})),this}}class ap{constructor(){this.start_=null,this.duration_=0,this.fps_=null,this.frameCount_=0,this.timestamps_=[]}get duration(){return this.duration_}get fps(){return this.fps_}begin(e){this.start_=e.getTime()}calculateFps_(e){if(0===this.timestamps_.length)return null;const t=this.timestamps_[0];return 1e3*(this.frameCount_-t.frameCount)/(e-t.time)}compactTimestamps_(){if(this.timestamps_.length<=20)return;const e=this.timestamps_.length-20;this.timestamps_.splice(0,e);const t=this.timestamps_[0].frameCount;this.timestamps_.forEach((e=>{e.frameCount-=t})),this.frameCount_-=t}end(e){if(null===this.start_)return;const t=e.getTime();this.duration_=t-this.start_,this.start_=null,this.fps_=this.calculateFps_(t),this.timestamps_.push({frameCount:this.frameCount_,time:t}),++this.frameCount_,this.compactTimestamps_()}}const lp=ga("fps");class up{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(lp()),t.viewProps.bindClassModifiers(this.element),this.graphElement=e.createElement("div"),this.graphElement.classList.add(lp("g")),this.element.appendChild(this.graphElement);const n=e.createElement("div");n.classList.add(lp("l")),this.element.appendChild(n);const r=e.createElement("span");r.classList.add(lp("v")),r.textContent="--",n.appendChild(r),this.valueElement=r;const i=e.createElement("span");i.classList.add(lp("u")),i.textContent="FPS",n.appendChild(i)}}class cp{constructor(e,t){this.stopwatch_=new ap,this.onTick_=this.onTick_.bind(this),this.ticker=t.ticker,this.ticker.emitter.on("tick",this.onTick_),this.props=t.props,this.value_=t.value,this.viewProps=t.viewProps,this.view=new up(e,{viewProps:this.viewProps}),this.graphC_=new Ld(e,{formatter:Ns(0),props:this.props,rows:t.rows,value:this.value_,viewProps:this.viewProps}),this.view.graphElement.appendChild(this.graphC_.view.element),this.viewProps.handleDispose((()=>{this.graphC_.viewProps.set("disposed",!0),this.ticker.dispose()}))}get fps(){return this.stopwatch_.fps}begin(){this.stopwatch_.begin(new Date)}end(){this.stopwatch_.end(new Date)}onTick_(){const e=this.fps;if(null!==e){const t=this.value_.rawValue;this.value_.rawValue=function(e,t){const n=[...Va(e),t];return n.length>e.length?n.splice(0,n.length-e.length):Ea(n,e.length),n}(t,e),this.view.valueElement.textContent=e.toFixed(0)}}}class dp extends ka{constructor(e,t){const n=t.valueController,r=new ya(e,{blade:t.blade,props:t.labelProps,valueController:n});super({blade:t.blade,view:r.view,viewProps:n.viewProps}),this.valueController=n,this.labelController=r}}function pp(e,t){return 0===t?new ml:new bl(e,null!==t&&void 0!==t?t:wd.defaultInterval)}const hp=za({id:"fpsgraph",type:"blade",accept(e){const t=ta(e,(e=>({view:e.required.constant("fpsgraph"),interval:e.optional.number,label:e.optional.string,rows:e.optional.number,max:e.optional.number,min:e.optional.number})));return t?{params:t}:null},controller(e){var t,n,r,i;const o=null!==(t=e.params.interval)&&void 0!==t?t:500;return new dp(e.document,{blade:e.blade,labelProps:cs.fromObject({label:e.params.label}),valueController:new cp(e.document,{props:cs.fromObject({max:null!==(n=e.params.max)&&void 0!==n?n:90,min:null!==(r=e.params.min)&&void 0!==r?r:0}),rows:null!==(i=e.params.rows)&&void 0!==i?i:2,ticker:pp(e.document,o),value:us(Sa(80)),viewProps:e.viewProps})})},api:e=>e.controller instanceof dp?new sp(e.controller):null});class vp{constructor(e,t){this.min=e,this.max=t}static isObject(e){if("object"!==typeof e||null===e)return!1;const t=e.min,n=e.max;return"number"===typeof t&&"number"===typeof n}static equals(e,t){return e.min===t.min&&e.max===t.max}get length(){return this.max-this.min}toObject(){return{min:this.min,max:this.max}}}const fp={fromComponents:e=>new vp(e[0],e[1]),toComponents:e=>[e.min,e.max]};class mp{constructor(e){this.edge=e}constrain(e){var t,n,r,i,o,s,a,l;if(e.min<=e.max)return new vp(null!==(n=null===(t=this.edge)||void 0===t?void 0:t.constrain(e.min))&&void 0!==n?n:e.min,null!==(i=null===(r=this.edge)||void 0===r?void 0:r.constrain(e.max))&&void 0!==i?i:e.max);const u=(e.min+e.max)/2;return new vp(null!==(s=null===(o=this.edge)||void 0===o?void 0:o.constrain(u))&&void 0!==s?s:u,null!==(l=null===(a=this.edge)||void 0===a?void 0:a.constrain(u))&&void 0!==l?l:u)}}const bp=ga("rsltxt");class gp{constructor(e,t){this.sliderView_=t.sliderView,this.textView_=t.textView,this.element=e.createElement("div"),this.element.classList.add(bp());const n=e.createElement("div");n.classList.add(bp("s")),n.appendChild(this.sliderView_.element),this.element.appendChild(n);const r=e.createElement("div");r.classList.add(bp("t")),r.appendChild(this.textView_.element),this.element.appendChild(r)}}const wp=ga("rsl");class _p{constructor(e,t){this.onSliderPropsChange_=this.onSliderPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.sliderProps_=t.sliderProps,this.sliderProps_.emitter.on("change",this.onSliderPropsChange_),this.element=e.createElement("div"),this.element.classList.add(wp()),t.viewProps.bindClassModifiers(this.element),this.value_=t.value,this.value_.emitter.on("change",this.onValueChange_);const n=e.createElement("div");n.classList.add(wp("t")),this.element.appendChild(n),this.trackElement=n;const r=e.createElement("div");r.classList.add(wp("b")),n.appendChild(r),this.barElement=r;const i=["min","max"].map((t=>{const r=e.createElement("div");return r.classList.add(wp("k"),wp("k",t)),n.appendChild(r),r}));this.knobElements=[i[0],i[1]],this.update_()}valueToX_(e){return 100*js(Ts(e,this.sliderProps_.get("min"),this.sliderProps_.get("max"),0,1),0,1)}update_(){const e=this.value_.rawValue;0===e.length?this.element.classList.add(wp(void 0,"zero")):this.element.classList.remove(wp(void 0,"zero"));const t=[this.valueToX_(e.min),this.valueToX_(e.max)];this.barElement.style.left="".concat(t[0],"%"),this.barElement.style.right="".concat(100-t[1],"%"),this.knobElements.forEach(((e,n)=>{e.style.left="".concat(t[n],"%")}))}onSliderPropsChange_(){this.update_()}onValueChange_(){this.update_()}}class yp{constructor(e,t){this.grabbing_=null,this.grabOffset_=0,this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.sliderProps=t.sliderProps,this.viewProps=t.viewProps,this.value=t.value,this.view=new _p(e,{sliderProps:this.sliderProps,value:this.value,viewProps:t.viewProps});const n=new Hl(this.view.trackElement);n.emitter.on("down",this.onPointerDown_),n.emitter.on("move",this.onPointerMove_),n.emitter.on("up",this.onPointerUp_)}ofs_(){return"min"===this.grabbing_?this.view.knobElements[0].getBoundingClientRect().width/2:"max"===this.grabbing_?-this.view.knobElements[1].getBoundingClientRect().width/2:0}valueFromData_(e){if(!e.point)return null;return Ts((e.point.x+this.ofs_())/e.bounds.width,0,1,this.sliderProps.get("min"),this.sliderProps.get("max"))}onPointerDown_(e){if(!e.data.point)return;const t=e.data.point.x/e.data.bounds.width,n=this.value.rawValue,r=this.sliderProps.get("min"),i=this.sliderProps.get("max"),o=Ts(n.min,r,i,0,1),s=Ts(n.max,r,i,0,1);Math.abs(s-t)<=.025?this.grabbing_="max":Math.abs(o-t)<=.025?this.grabbing_="min":t>=o&&t<=s?(this.grabbing_="length",this.grabOffset_=Ts(t-o,0,1,0,i-r)):t<o?(this.grabbing_="min",this.onPointerMove_(e)):t>s&&(this.grabbing_="max",this.onPointerMove_(e))}applyPointToValue_(e,t){const n=this.valueFromData_(e);if(null===n)return;const r=this.sliderProps.get("min"),i=this.sliderProps.get("max");if("min"===this.grabbing_)this.value.setRawValue(new vp(n,this.value.rawValue.max),t);else if("max"===this.grabbing_)this.value.setRawValue(new vp(this.value.rawValue.min,n),t);else if("length"===this.grabbing_){const e=this.value.rawValue.length;let o=n-this.grabOffset_,s=o+e;o<r?(o=r,s=r+e):s>i&&(o=i-e,s=i),this.value.setRawValue(new vp(o,s),t)}}onPointerMove_(e){this.applyPointToValue_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.applyPointToValue_(e.data,{forceEmit:!0,last:!0}),this.grabbing_=null}}class Cp{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.sc_=new yp(e,t);const n={constraint:t.constraint,textProps:t.textProps};this.tc_=new Qc(e,{assembly:fp,axes:[n,n],parser:t.parser,value:this.value,viewProps:t.viewProps}),this.view=new gp(e,{sliderView:this.sc_.view,textView:this.tc_.view})}get textController(){return this.tc_}}function xp(e){return vp.isObject(e)?new vp(e.min,e.max):new vp(0,0)}function kp(e,t){e.writeProperty("max",t.max),e.writeProperty("min",t.min)}const Pp=za({id:"input-interval",type:"input",accept:(e,t)=>{if(!vp.isObject(e))return null;const n=ta(t,(e=>Object.assign(Object.assign({},qs(e)),{readonly:e.optional.constant(!1)})));return n?{initialValue:new vp(e.min,e.max),params:n}:null},binding:{reader:e=>xp,constraint:e=>function(e){const t=[],n=Us(e);n&&t.push(n);const r=Bs(e);return r&&t.push(r),new mp(new gl(t))}(e.params),equals:vp.equals,writer:e=>kp},controller(e){const t=e.value,n=e.constraint;if(!(n instanceof mp))throw rs.shouldNeverHappen();const r=(t.rawValue.min+t.rawValue.max)/2,i=cs.fromObject(Ks(e.params,r)),o=n.edge&&wl(n.edge,ds);if(o)return new Cp(e.document,{constraint:n.edge,parser:Ds,sliderProps:new cs({keyScale:i.value("keyScale"),max:o.values.value("max"),min:o.values.value("min")}),textProps:i,value:t,viewProps:e.viewProps});const s={constraint:n.edge,textProps:i};return new Qc(e.document,{assembly:fp,axes:[s,s],parser:Ds,value:t,viewProps:e.viewProps})}});class Ep{constructor(e){this.controller_=e}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(e){this.controller_.viewProps.set("disabled",e)}get title(){var e;return null!==(e=this.controller_.props.get("title"))&&void 0!==e?e:""}set title(e){this.controller_.props.set("title",e)}}class Sp extends Ws{constructor(e,t,n,r,i){super(e,r,i),this.cell=t,this.index=n}}class Vp extends $s{constructor(e){super(e),this.cellToApiMap_=new Map;this.controller.valueController.cellControllers.forEach((e=>{const t=new Ep(e);this.cellToApiMap_.set(e,t)}))}get value(){return this.controller.value}cell(e,t){const n=this.controller.valueController,r=n.cellControllers[t*n.size[0]+e];return this.cellToApiMap_.get(r)}on(e,t){const n=t.bind(this);this.controller.value.emitter.on(e,(e=>{const t=this.controller.valueController,r=t.findCellByValue(e.rawValue);if(!r)return;const i=this.cellToApiMap_.get(r);if(!i)return;const o=t.cellControllers.indexOf(r);n(new Sp(this,i,[o%t.size[0],Math.floor(o/t.size[0])],e.rawValue))}))}}const Lp=ga("rad");class Mp{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Lp()),t.viewProps.bindClassModifiers(this.element);const n=e.createElement("label");n.classList.add(Lp("l")),this.element.appendChild(n);const r=e.createElement("input");r.classList.add(Lp("i")),r.name=t.name,r.type="radio",t.viewProps.bindDisabled(r),n.appendChild(r),this.inputElement=r;const i=e.createElement("div");i.classList.add(Lp("b")),n.appendChild(i);const o=e.createElement("div");o.classList.add(Lp("t")),i.appendChild(o),ma(t.props,"title",(e=>{o.textContent=e}))}}class Dp{constructor(e,t){this.props=t.props,this.viewProps=t.viewProps,this.view=new Mp(e,{name:t.name,props:this.props,viewProps:this.viewProps})}}class Op{constructor(e,t){this.cellCs_=[],this.cellValues_=[],this.onCellInputChange_=this.onCellInputChange_.bind(this),this.size=t.size;const[n,r]=this.size;for(let i=0;i<r;i++)for(let r=0;r<n;r++){const n=new Dp(e,{name:t.groupName,props:cs.fromObject(Object.assign({},t.cellConfig(r,i))),viewProps:nl.create()});this.cellCs_.push(n),this.cellValues_.push(t.cellConfig(r,i).value)}this.value=t.value,fa(this.value,(e=>{const t=this.findCellByValue(e);t&&(t.view.inputElement.checked=!0)})),this.viewProps=nl.create(),this.view=new ru(e,{viewProps:this.viewProps,viewName:"radgrid"}),this.view.element.style.gridTemplateColumns="repeat(".concat(n,", 1fr)"),this.cellCs_.forEach((e=>{e.view.inputElement.addEventListener("change",this.onCellInputChange_),this.view.element.appendChild(e.view.element)}))}get cellControllers(){return this.cellCs_}findCellByValue(e){const t=this.cellValues_.findIndex((t=>t===e));return t<0?null:this.cellCs_[t]}onCellInputChange_(e){const t=e.currentTarget,n=this.cellCs_.findIndex((e=>e.view.inputElement===t));n<0||(this.value.rawValue=this.cellValues_[n])}}const Np=za({id:"radiogrid",type:"blade",accept(e){const t=ta(e,(e=>({cells:e.required.function,groupName:e.required.string,size:e.required.array(e.required.number),value:e.required.raw,view:e.required.constant("radiogrid"),label:e.optional.string})));return t?{params:t}:null},controller(e){const t=us(e.params.value);return new Pa(e.document,{blade:e.blade,props:cs.fromObject({label:e.params.label}),value:t,valueController:new Op(e.document,{groupName:e.params.groupName,cellConfig:e.params.cells,size:e.params.size,value:t})})},api:e=>e.controller instanceof Pa&&e.controller.valueController instanceof Op?new Vp(e.controller):null});function Tp(e){return za({id:"input-radiogrid",type:"input",accept(t,n){if(!e.isType(t))return null;const r=ta(n,(e=>({cells:e.required.function,groupName:e.required.string,size:e.required.array(e.required.number),view:e.required.constant("radiogrid")})));return r?{initialValue:t,params:r}:null},binding:e.binding,controller:e=>new Op(e.document,{cellConfig:e.params.cells,groupName:e.params.groupName,size:e.params.size,value:e.value})})}const Ap=Tp({isType:e=>"number"===typeof e,binding:{reader:e=>Os,writer:e=>lu}}),jp=Tp({isType:e=>"string"===typeof e,binding:{reader:e=>zl,writer:e=>lu}}),zp=[zd,op,hp,Pp,Np,Tp({isType:e=>"boolean"===typeof e,binding:{reader:e=>Nl,writer:e=>lu}}),Ap,jp];class Rp{constructor(e,t){this.paneRef=e,this.onDraw=t,this.paneInstance=null}createPane(){if(this.paneInstance){try{this.paneInstance.dispose()}catch(o){}this.paneInstance=null}const e=new Yo({container:this.paneRef.current});e.registerPlugin(zp);const t=e.addFolder({title:"Editor",expanded:!0}),n=_.sets[_.currSet],r=t.addFolder({title:"Edit Mode: ".concat(n.name," (").concat(_.currSet,"/").concat(_.sets.length-1,")"),expanded:!0});t.addBinding(y,"backgroundColor",{view:"color",label:"Background Color"}).on("change",(()=>{this.onDraw&&this.onDraw()})),t.addBinding(_,"editMode",{label:"Edit Mode"}).on("change",(()=>{this.onDraw&&this.onDraw()}));const i={};_.sets.forEach(((e,t)=>{i["".concat(e.name," (").concat(t,")")]=t})),t.addBinding(_,"currSet",{label:"Current Curve",options:i}).on("change",(()=>{setTimeout((()=>{this.createPane(),this.onDraw&&this.onDraw()}),0)})),r.addBinding(n,"name",{label:"Name"}).on("change",(()=>{setTimeout((()=>{this.createPane(),this.onDraw&&this.onDraw()}),0)})),r.addBinding(_,"currColor",{view:"color",label:"Stroke Color"}).on("change",(()=>{_.sets[_.currSet].color=_.currColor,this.onDraw&&this.onDraw()})),r.addBinding(_,"currLineWidth",{label:"Line Width",min:.1,max:100}).on("change",(()=>{_.sets[_.currSet].lineWidth=_.currLineWidth,this.onDraw&&this.onDraw()})),r.addBinding(_,"currLineCap",{label:"Line Cap",options:{butt:"butt",round:"round",square:"square"}}).on("change",(()=>{_.sets[_.currSet].lineCap=_.currLineCap,this.onDraw&&this.onDraw()})),r.addBinding(_,"currNumOfPar",{label:"Num of Parallels",min:0,max:200,step:1}).on("change",(()=>{const e=_.sets[_.currSet];e.curve.setParNum(_.currNumOfPar),_.currNumOfPar>=2&&e.curve.updateParallels(!0),this.onDraw&&this.onDraw()})),r.addBinding(_,"currDisOfPar",{label:"Distance",min:5,max:150}).on("change",(()=>{const e=_.sets[_.currSet];e.curve.setParDis(_.currDisOfPar),e.curve.getParNum()>=2&&e.curve.updateParallels(!0),this.onDraw&&this.onDraw()})),r.addButton({title:"Delete this curve"}).on("click",(()=>{_.sets.splice(_.currSet,1),_.currSet=Math.max(0,_.currSet-1),0===_.sets.length&&this.startNewCurve(),setTimeout((()=>{this.createPane(),this.onDraw&&this.onDraw()}),0)})),t.addButton({title:"Add a new curve"}).on("click",(()=>{this.startNewCurve(),_.currSet=_.sets.length-1,setTimeout((()=>{this.createPane(),this.onDraw&&this.onDraw()}),0)})),r.hidden=!_.editMode,this.paneInstance=e}startNewCurve(){_.sets=_.sets.filter((e=>e.curve.points.length>0));const e=_.sets.length;_.sets.push({name:"Curve ".concat(e),curve:new w({points:[]}),color:"#000000",lineWidth:5,lineCap:"butt",pairsOdd:[],pairDouble:[]})}dispose(){if(this.paneInstance){try{this.paneInstance.dispose()}catch(e){}this.paneInstance=null}}}var Fp=n(579);function Ip(){const e=(0,r.useRef)(null),t=(0,r.useRef)(null),n=(0,r.useRef)(),i=(0,r.useRef)(),s=(0,r.useRef)(-1),a=(0,r.useRef)(null),l=(0,r.useRef)(null),u=(0,r.useRef)(null),c=(0,r.useRef)(null),m=(0,r.useRef)(0),g=(0,r.useRef)(null),w=(0,r.useCallback)((()=>{const t=(()=>{const t=e.current;return t?t.getContext("2d"):null})();if(!t)return;const n=y.dimensions[0],r=y.dimensions[1];t.clearRect(0,0,n,r),t.fillStyle=y.backgroundColor,t.fillRect(0,0,n,r);for(let e=0;e<_.sets.length;e++){const n=_.sets[e],r=n.curve;r.getParNum()>=2&&r.updateParallels(!0),(e!==_.currSet||!_.editMode||r.getParNum()>=1)&&(r.getParNum()<=1?r.drawCurve(t,!0,n.color,n.lineWidth,n.lineCap):r.drawParallels(t,!0,n.color,n.lineWidth,n.lineCap))}if(_.editMode){const e=_.sets[_.currSet],n=e.curve;n.getParNum()>=2&&n.updateParallels(!0),t.save(),t.shadowColor=v,t.shadowBlur=f,t.shadowOffsetX=0,t.shadowOffsetY=0,n.drawCurve(t,!0,d,e.lineWidth+p,h),t.shadowColor="transparent",t.shadowBlur=0,n.drawCurve(t,!0,e.color,e.lineWidth,e.lineCap),n.drawGuides(t),n.drawAllPoints(t),t.restore()}}),[]),C=(0,r.useCallback)((()=>{w(),y.animate&&(n.current=requestAnimationFrame(C))}),[w]),x=(0,r.useCallback)((t=>{const n=e.current,r=n.getBoundingClientRect(),i=(t.clientX-r.left)/r.width*n.width,o=(t.clientY-r.top)/r.height*n.height,s=_.sets[_.currSet].curve;s.points.forEach((e=>{e.isDragging&&_.editMode&&(e.x=i,e.y=o)})),s.updateMidPoints(),s.getParNum()>=2&&s.updateParallels(!0),w()}),[w]),k=(0,r.useCallback)((()=>{window.removeEventListener("mousemove",a.current),window.removeEventListener("mouseup",l.current)}),[]),P=(0,r.useCallback)((t=>{t.preventDefault();const n=e.current,r=n.getBoundingClientRect(),i=t.touches[0],o=(i.clientX-r.left)/r.width*n.width,s=(i.clientY-r.top)/r.height*n.height,a=_.sets[_.currSet].curve;a.points.forEach((e=>{e.isDragging&&_.editMode&&(e.x=o,e.y=s)})),a.updateMidPoints(),a.getParNum()>=2&&a.updateParallels(!0),w()}),[w]),E=(0,r.useCallback)((()=>{window.removeEventListener("touchmove",u.current),window.removeEventListener("touchend",c.current)}),[]),S=(0,r.useCallback)((t=>{if(!_.editMode)return;const n=e.current,r=n.getBoundingClientRect(),i=(t.clientX-r.left)/r.width*n.width,o=(t.clientY-r.top)/r.height*n.height;L(i,o,2===t.button)}),[]),V=(0,r.useCallback)((t=>{if(!_.editMode)return;t.preventDefault();const n=e.current,r=n.getBoundingClientRect(),i=t.touches[0],o=(i.clientX-r.left)/r.width*n.width,s=(i.clientY-r.top)/r.height*n.height,a=(new Date).getTime(),l=a-m.current;if(g.current&&l<300){const e=g.current,t=e.x-o,n=e.y-s;if(Math.sqrt(t*t+n*n)<20)return L(o,s,!0),m.current=0,void(g.current=null)}m.current=a,g.current={x:o,y:s},L(o,s,!1)}),[]),L=(0,r.useCallback)(((e,t,n)=>{let r=-1;for(let i=0;i<_.sets.length;i++){const n=_.sets[i].curve;if(!(n.points.length<2)){for(let o=0;o<=1;o+=.01){const s=b(n.points,o),a=s.x-e,l=s.y-t;if(Math.sqrt(a*a+l*l)<20){r=i;break}}if(-1!==r)break}}if(-1!==r&&r!==_.currSet){_.currSet=r;const e=_.sets[_.currSet];return _.currColor=e.color,_.currLineWidth=e.lineWidth,_.currLineCap=e.lineCap,_.currNumOfPar=e.curve.getParNum(),_.currDisOfPar=e.curve.getParDis(),i.current&&i.current.createPane(),void w()}const d=_.sets[_.currSet].curve;let p=null,h=-1;for(let i=0;i<d.points.length;i++){const n=d.points[i];if(n.hitTest(e,t)){p=n,h=i;break}}if(-1!==h&&(s.current=h),p)n?(d.points.splice(h,1),d.updateMidPoints(),_.currNumOfPar>=2&&d.updateParallels(!0)):(d.points.forEach((e=>{e.isSelected=!1,e.isDragging=!1})),p.isSelected=!0,p.isDragging=!0);else{const n=new o({x:e,y:t});0===s.current?d.points.unshift(n):d.points.push(n),d.points.forEach((e=>{e.isSelected=!1,e.isDragging=!1})),n.isSelected=!0,d.updateMidPoints(),_.currNumOfPar>=2&&d.updateParallels(!0)}w(),a.current=x,l.current=k,u.current=P,c.current=E,window.addEventListener("mousemove",a.current),window.addEventListener("mouseup",l.current),window.addEventListener("touchmove",u.current),window.addEventListener("touchend",c.current)}),[w,x,k,P,E]);(0,r.useEffect)((()=>{const t=e.current,n=e=>{e.preventDefault()};return t.addEventListener("contextmenu",n),()=>{t.removeEventListener("contextmenu",n)}}),[]),(0,r.useEffect)((()=>{const r=e.current;return r.width=y.dimensions[0],r.height=y.dimensions[1],w(),i.current=new Rp(t,w),i.current.createPane(),r.addEventListener("mousedown",S),r.addEventListener("touchstart",V),y.animate&&C(),()=>{r.removeEventListener("mousedown",S),r.removeEventListener("touchstart",V),n.current&&cancelAnimationFrame(n.current),i.current&&i.current.dispose()}}),[w,S,V,C]);const M=(0,r.useCallback)((()=>{const t=_.editMode;_.editMode=!1,w();const n=e.current.toDataURL("image/png"),r=document.createElement("a");r.download="curvita-design.png",r.href=n,r.click(),_.editMode=t,w()}),[w]);return(0,Fp.jsxs)("div",{className:"CanvasBox",children:[(0,Fp.jsx)("canvas",{ref:e,width:y.dimensions[0],height:y.dimensions[1],style:{display:"block"}}),(0,Fp.jsxs)("div",{children:[(0,Fp.jsx)("div",{ref:t,style:{minWidth:320}}),(0,Fp.jsx)("button",{onClick:M,className:"button",id:"green",children:"Download Design"})]})]})}const Bp=n.p+"static/media/Curvita.0ed04cdf194cfa1458f7e832545d9721.svg";const Up=n.p+"static/media/Ofek White Icon.04b93237d6d896bcae92059aab0ee599.svg";const Kp=function(){return(0,Fp.jsxs)("div",{className:"App",children:[(0,Fp.jsx)("img",{src:Up,id:"main-logo",alt:"Ofek"}),(0,Fp.jsxs)("div",{className:"glassy-panel",children:[(0,Fp.jsxs)("div",{className:"Title",children:[(0,Fp.jsx)("img",{src:Bp,id:"app-icon",alt:"Curvita"}),(0,Fp.jsx)("h1",{children:"Curvita"})]}),(0,Fp.jsxs)("p",{className:"tagline",children:["Curvita is a minimalistic visual tool for designing smooth curved lines and their parallels.",(0,Fp.jsx)("br",{}),"Great for exploring creative geometric forms and elegant compositions."]}),(0,Fp.jsx)("div",{className:"CanvasBox",children:(0,Fp.jsx)(Ip,{})}),(0,Fp.jsx)("p",{className:"info",children:"Version 1.0 \xb7 Created by Ofek Avan Danan"})]})]})},qp=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))};i.createRoot(document.getElementById("root")).render((0,Fp.jsx)(r.StrictMode,{children:(0,Fp.jsx)(Kp,{})})),qp()})();
//# sourceMappingURL=main.e0df398b.js.map